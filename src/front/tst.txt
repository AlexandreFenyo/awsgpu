La Direction Technique (DT, découpée en DT CNAM et DT Groupement, la DT CNAM, dont le responsable est Alexandre Fenyo, étant composée d'agents CNAM, et la DT Groupement dont le responsable est Sylvain étant composée de personnels du Groupement) est chargée de faire appliquer les exigences techniques du marché MESDMP.


# Sécurité Sociale

## l'Assurance Maladie

### Caisse Nationale

Image : logo de l'Assurance Maladie montrant des silhouettes humaines illustrant protection et soutien. Mention «Sécurité Sociale» en haut gauche, «l'Assurance Maladie» en plus grand, «Caisse Nationale» en bas pour préciser le niveau organisationnel.

Cahier des Clauses Techniques Particulières  
Accord-cadre n°AC.2023.1788

MESDMP (Mon Espace Santé – Dossier Médical Partagé)

Historique du CCTP MESDMP
V1 – DCE V1 publiée 30/06/2023 – Rédacteur Cnam – 29/06/2023  
V2 – DCE V2 publiée 21/09/2023 – Cnam – 21/09/2023  
V3 – DCE V3 publiée 15/12/2023 – Cnam – 15/12/2023  
V3bis – DCE V3 bis publiée 26/01/2024 – Cnam – 26/01/2024  
V4 – DCE V4 publiée 09/02/2024 – Cnam – 09/02/2024

# 1 Glossaire

AM : Branche de la Sécurité sociale gérant les dépenses de santé.  
Analyse de risques sécurité (AR) : Analyse SSI sur le périmètre du Titulaire.  
Analyse de risque sécurité transverse (ART) : Analyse réalisée par le RSSI MESDMP Cnam, alimentée par les AR du Titulaire.  
Anonymisation : Technique irréversible supprimant tout identifiant, empêchant la ré-identification.  
ANS : Agence du Numérique en Santé (ex ASIP Santé).  
ARS : Agence Régionale de Santé.  
ASAP : Loi d’accélération et de simplification de l’action publique (évolutions DMP/DP).  
BO : Back-office.  
BSP / BS : Bouquet de Services aux Professionnels.  
CARSAT : Caisse d’Assurance Retraite et de la Santé au Travail.  
CCAP : Cahier des Clauses Administratives Particulières.  
CDR : Centre de recette.  
CGSS : Caisse Générale de Sécurité Sociale.  
CGU : Conditions Générales d’Utilisation.  
CI CD : Chaîne d’Intégration et de Déploiement Continue.  
CI-SIS : Cadre d’Interopérabilité des Systèmes d'Informations de Santé.  
CMDB : Base de données de gestion de configuration des composants SI.  
CNIL : Commission nationale informatique et libertés.  
COG : Convention d’Objectifs et de Gestion régissant l’Assurance Maladie.  
CPAM : Caisse Primaire d’Assurance Maladie.  
CPS : Carte de professionnel de santé.  
CRAM : Caisse Régionale d’Assurance Maladie.  
Création ENS : Mise en place des ressources techniques back-office de l’ENS (compte, messagerie, agenda, DMP).  
CTO : Chief Technology Officer.  
DA : Design Authority.  
DDSI : Direction Déléguée des Systèmes d'Information.  
DevOps : Intégration développement/exploitation favorisant communication et automatisation.  
DevSecOps : Intégration de la sécurité dès la conception et dans la CI/CD.  
DIONIS : Direction opérationnelle du numérique et de l’innovation en santé.  
DIMA : Durée d'Indisponibilité Maximale Admissible.  
DMP : Dossier Médical Partagé.  
DP : Dossier Pharmaceutique.  
DPI : Dossier Patient Informatisé.  
DROM : Département et Région d'Outre-Mer.  
DT : Direction Technique.  
DTV : Dossier de Tests et de Validations (procédure de tests mise à jour à chaque changement).  
ENS : Espace Numérique de Santé.  
e-Parcours : Programme accompagnant la transformation numérique des parcours de santé.  
EPC : Etat Préparatoire à la Commande.  
EPIC : Fonctionnalité macro découpée en user stories.  
Enrôlement : Processus d'acceptation par un usager de la création de son ENS.  
ESMS : Établissements et Services Médico-Sociaux.  
Feature teams : Équipes multifonctionnelles réalisant des fonctionnalités complètes.  
FHIR : Norme d'interopérabilité pour l'échange de données de santé.  
FI : Fournisseur d’Identité.  
FO : Front-office.  
FS : Fiche de Signalement / Fournisseurs de Services (contexte selon usage).  
FT : Feature team.  
Fuseau horaire : heure légale France métropolitaine sauf indication contraire.  
GRADeS : Groupement Régionaux d’Appui au Développement de la e-Santé.  
HAS : Haute Autorité de Santé.  
HDS : Hébergement des données de santé.  
HNO : Heures Non Ouvrées.  
HO : Heures ouvrées.  
IA : Intelligence Artificielle.  
Incident : Anomalie de fonctionnement en production ou hors production.  
Incident de sécurité : Anomalie impactant la sécurité, rattachée à des critères de sécurité.  
Initiative : Ensemble de tâches orientées vers un objectif, découpées en user stories.  
INS : Identifiant National de Santé (NIR ou NIA).  
IR : Inter-Régimes d’Assurance Maladie.  
KPI : Indicateurs clés de performance.  
LPS : Logiciel des Professionnels de Santé.  
MCO : Maintien en Condition Opérationnelle.  
MCS : Maintien en Condition Sécurité.  
MES : Mon Espace Santé.  
MESDMP : Mon Espace Santé – Dossier Médical Partagé.  
MT : Médecin Traitant.  
NIA : Numéro identifiant d’attente (avant inscription au répertoire national).  
NIR : Numéro d'inscription au répertoire national (carte Vitale).  
NIS : Directive Network and Information Security.  
Opt-out : Option de retrait ; absence d’opposition = création.  
Ordonnance numérique : Prescription électronique.  
OTP : One-Time Password.  
OTSS (Loi) : Loi relative à l’organisation et à la transformation du système de santé.  
PAQ : Plan d’Assurance Qualité.  
PAS : Plan d’Assurance Sécurité.  
PDMA : Perte de Données Maximale Admissible.  
PGC : Plan de Gestion de Crise.  
PI : Product Increment.  
PM : Product Manager.  
PMF : Poste Multi-Fonctions (outil de travail sécurisé standardisé).  
PQGE / PQGS / PQM : Plans qualité autour des évolutions, services et marchés.  
PR : Plan de Réversibilité.  
Programme MESDMP : Organisation projet (Cnam + Titulaire) pour suivre le périmètre MESDMP.  
PS : Professionnel de Santé.  
PSE : Prestation Supplémentaire Eventuelle.  
Pseudonymisation : Remplacement d’identifiants par pseudonymes.  
PSN1 : Outil de suivi des demandes de support Mon Espace Santé (exigences transférables si remplacé).  
PV : Procès-Verbal.  
Régression : Réapparition ou nouvelle introduction d’anomalie/vulnérabilité.  
RGAA : Référentiel général d’accessibilité pour les administrations.  
RGPD : Règlement général sur la protection des données.  
RGS : Référentiel Général de Sécurité.  
RTE : Release Train Engineer.  
SNACS : Services Numériques d’Appui à la Coordination des Soins.  
SAML V2 : Standard d’échange d’informations de sécurité.  
SDM : Service Delivery Manager.  
SEO : Search Engine Optimization.  
SLA : Service Level Agreement.  
SSO : Single Sign On.  
Titulaire du compte MES : Propriétaire d’un compte Mon Espace Santé.  
TOTP : Time-based One-Time Password.  
TSM : Tower Service Manager.  
UGECAM : Union de gestion des établissements de caisse d’Assurance Maladie.  
UNOCAM : Union nationale des organismes d’Assurance Maladie complémentaire.  
US : User story.  
Usager : Personne utilisant l’Espace Numérique de Santé, titulaire ou agissant pour compte.  
UX / UI : Expérience et Interface utilisateur.  
VSR : Vérification de Service Régulier.  
Vulnérabilité : Selon méthodologie EBIOS ; peut exister sans permettre une attaque.  
Vulnérabilité avérée : Vulnérabilité déjà exploitée au moins une fois.

Le vocabulaire Sécurité s’appuie sur le glossaire EBIOS de l’ANSSI (termes et relations rappelés ci‑dessous).

Image : Sécurité des Systèmes d'Information — définitions clés (bien support, bien essentiel, critères de sécurité : confidentialité, disponibilité, intégrité ; vulnérabilité, menace, source de menace, scénario, vraisemblance, impact, risque, événement redouté, homologation RGS, FEROS, politique/règle/principe de sécurité, homologation, gestion/appréciation/traitement/validation des risques, mesures de sécurité).

Les besoins de sécurité sont classés en 3 critères : I (intégrité), C (confidentialité), A (auditabilité). Les autres besoins (disponibilité, non répudiation, traçabilité...) sont rattachés au critère le plus proche.

# 2 Présentation de l’Assurance Maladie et du Numérique en Santé

## 2.1 Présentation générale de l’Assurance Maladie

### 2.1.1 Les missions de l’Assurance Maladie

L’Assurance Maladie protège durablement la santé individuelle et professionnelle, accompagnant ~60 millions d’assurés en prenant en charge leurs soins quels que soient ressources, situation ou état de santé. Elle garantit l’accès universel aux droits et aux soins, développe la prévention, renforce la protection en milieu professionnel et agit comme régulateur du système de santé (qualité et coût), en partenariat avec professionnels, établissements et acteurs concernés.  
Branche Risques professionnels : indemnisation et accompagnement des victimes, tarification des cotisations AT/MP, prévention ; s’appuie sur l’INRS et Eurogip.  
Source : assurance‑maladie.ameli.fr (missions générales).

### 2.1.2 Le réseau de l’Assurance Maladie

Le réseau comprend 152 organismes (national, régional, local) répartis sur tout le territoire.

Structure : Cnam au niveau national ; DRSM et Ugecam au niveau régional ; ELSM, CPAM, CGSS, CES au niveau local. Le Cnam relie les entités régionales et locales pour gestion et coordination.

102 CPAM : organismes de droit privé en mission de service public, missions principales :
- Affiliation et gestion des droits,
- Traitement des feuilles de soins et prestations,
- Traitement/versement des pensions d’invalidité,
- Instruction et indemnisation des accidents du travail / maladies professionnelles,
- Plans d’action annuels gestion du risque,
- Politique de prévention via 89 centres d’examen de santé,
- Aides individuelles/collectives (action sociale),
- Visites des délégués chez les professionnels,
- Actions de prévention de la désinsertion professionnelle (cellules pluridisciplinaires).

16 caisses régionales (Carsat, Cramif) : prévention des risques professionnels, tarification, accompagnement social.

16 DRSM : service médical local (praticiens conseils) conseillant, accompagnant ALD, contrôlant demandes de prestations, participant à la reconnaissance professionnelle d’accidents/maladies, évaluant séquelles et incapacité.

4 CGSS + 1 CSS (Mayotte) : dans les DROM, regroupent tous les services de la Sécurité sociale (Assurance Maladie, retraite, recouvrement, allocations).

13 Ugecam : gèrent 225 établissements sanitaires/médico‑sociaux selon planification ARS ; expertises spécifiques (grands brûlés, obésité infantile, traumatologies, pathologies médullaires, amputations).

9 CTI (dont 2 dédiés à l’hébergement SI AM) et 3 CEIR : centres de traitement informatique répartis sur le territoire, traitent les données et ont diversifié leurs activités.

## 2.2 La Cnam

La Cnam (plus de 2 500 salariés) est la tête de réseau opérationnelle du régime d’Assurance Maladie obligatoire, impulsant stratégie nationale et coordonnant les organismes locaux. Établissement public sous tutelles ministérielles (Solidarités/Santé et Économie/Finances). La réforme d’août 2004 a renforcé ses responsabilités en régulation du système de soins ; priorité : gestion du risque.

### 2.2.1 Les missions de la Cnam

La Cnam :
- Définit et met en œuvre orientations, principes et objectifs ;
- Met en œuvre accords conventionnels avec syndicats des professions de santé ;
- Développe maîtrise médicalisée des dépenses et accompagne l’évolution des comportements ;
- Définit/promeut prévention maladies et risques professionnels ;
- Définit et pilote l’activité des organismes du réseau ;
- Veille à l’homogénéité du service rendu sur le territoire ;
- Gère l’un des plus grands SI en Europe.

Sources : assurance‑maladie.ameli.fr

### 2.2.2 L’organisation de la Cnam

Direction Générale au cœur de l’organisation, rattachée à :
- Médecin Conseil National, Mission Cabinet, Direction des Risques Professionnels, Directions Déléguées (Opérations, Gestion et Organisation des Soins, Audit/Finances/Lutte contre la Fraude), Direction Stratégie/Études/Statistiques.
Via la Direction de Gestion : Direction des Systèmes d'Information, Direction de l'Information et de la Communication, Secrétariat Général.  
Via la Direction Support : Direction du Groupe Ugecam, Médiation (Médiateur national, Direction de la Médiation), Direction du Risque.

## 2.3 La Direction Déléguée des Systèmes d’Information (DDSI)

La DDSI garantit qualité, évolutivité, disponibilité et performances des SI de l’Assurance Maladie, en respect des besoins du réseau.

### 2.3.1 Les Systèmes d’Information

2.3.1.1 Système d’Information de l’Assurance Maladie :
- >1600 collaborateurs pour maintien, développement et exploitation du SI ;
- Contributeurs : maîtrises d’ouvrage, organismes réseau, partenaires ;
- ~274 000 jours‑homme de fabrication/charges transverses ;
- >500 projets/an ; ~480 applications référencées ; ~1 900 mises en production/an ;
- Stockage blocs : 10,8 Po utilisés sur 14,4 Po ;
- Capacité d’impression : 1 milliard de pages, 200 millions d’envois/an.

2.3.1.2 SNDS (Système National des Données de Santé) :
Unique à grande échelle, géré par la Cnam, chaîne SNIIRAM, PMSI, CépiDC, données handicap (MDPH/CNSA) et échantillon de complémentaires. Finalités : études, politiques de santé, connaissance des dépenses, information pros/établissements, innovation, surveillance/sécurité sanitaire.
Environnement SNDS :
- 10 bases (~650 To total ; prod >120 To ; 2 restits >100 To chacune),
- 230 applications (60 briques d’intérêt commun),
- Stockage total ~2,7 Po,
- 250 serveurs physiques, 750 serveurs virtuels.

### 2.3.2 Missions de la DDSI

La DDSI :
- Anticipe évolutions utilisateurs/technologies pour composants, budgets et compétences ;
- Organise processus IT pour industrialisation et qualité ;
- Met en œuvre dispositifs optimisant moyens et engagements ;
- Favorise culture du partage, savoir‑faire et transparence ;
- Propose objectifs/priorités SI à la direction générale ;
- Ouvre le SI vers l’extérieur via partenariats santé/protection sociale ;
- Assure contribution totale de l’informatique aux objectifs métiers ;
- Organise amélioration continue et reporting vers instances Cnam ;
- Veille à la protection des données personnelles.

### 2.3.3 Organisation de la DDSI

Le Directeur délégué (assisté d’un CABDDSI) supervise :
- Fabrication : trois pôles – Paris‑Val‑de‑Seine (DPVS), Ouest (DPO), Rhône‑Alpes (DPRA) ;
- Stratégie/cohérence : DPFT et DSRM ;
- Opérations : DOSC et DTS (Direction technique et sécurité).

### 2.3.4 Présentation géographique (DDSI et CTI-CEIR)

DDSI : siège Paris + 16 sites (Quimper créé en 2020). Sites principaux : Paris, Valenciennes, Evreux, Quimper, Rennes, Angers, Nantes, Bordeaux, Lyon, Grenoble, Valence, Metz, Troyes, Dijon, Troyes, Dijon.  
Centres/activités : Centre Support National (Quimper, Nantes, Bordeaux), CSH Décisionnel (Paris), Exploitation & Support (Valenciennes, Evreux, Metz), Supervision réseau (Rennes), CSH National (Dijon), Hébergement hors prod (Troyes), Missions nationales (Paris, Lyon, Grenoble).

Image : répartition des pôles et centres.

Image : activités des CTI et CEIR — exemples par site (CPAM Versailles, Roubaix Tourcoing, CTI Rouen, Angers, CICOA, CTI Sud, CTI Melun, CTI Strasbourg, CTI St Etienne, CTI Sophia Antipolis, CEIR Marseille) et départements d’outre‑mer (Guadeloupe, Martinique, Guyane, Réunion, Mayotte). Liaisons indiquent collaborations et services partagés.

## 2.4 La Direction déléguée à la gestion et à l’organisation des soins (DDGOS)

La DDGOS conçoit la politique de gestion du risque de la Cnam pour assurés et offre de soins. Ses fonctions :
- Élaboration des politiques/plans d’action gestion du risque ;
- Déclinaison des plans avec la DDO et conception d’outils opérationnels ;
- Relations avec professions libérales et fédérations hospitalières, négociations conventionnelles ;
- Relations UNCAM/UNOCAM et coordination avec organismes complémentaires ;
- Protection des données personnelles.

Domaines d’action :
- Prévention et information des assurés,
- Lutte contre les inégalités de santé,
- Formation et qualité des soins,
- Gestion de la prise en charge collective,
- Régulation de l’offre de soins,
- Tarification comme levier d’efficacité et prévention.

La DDGOS prend décisions, prépare arbitrages pour la direction générale et assure suivi, évaluation et reporting.

Composition : mission cabinet (CABDDGOS), Direction des assurés (DAS), Direction de l'offre de soins (DOS), Direction opérationnelle du numérique et de l’innovation en santé (DIONIS), Direction des services de la maîtrise d’ouvrage informatique (DSMOI), Département de la réglementation (DREGL), Département de l'évaluation et du marketing (DEM).

### 2.4.1 DIONIS

#### 2.4.1.1 Missions de DIONIS

Pilote opérationnel de l’espace numérique de santé (ENS) et du bouquet de services aux professionnels (BSP). Missions clés :
- Garantir mise en œuvre ENS usagers et BSP pros, centrée utilisateurs ;
- Déployer/enrichir DMP, INS, MSS, téléservices pros (e‑prescription) ;
- Assurer cohérence entre services existants et ENS/BSP ;
- Accompagnement des publics (patients, pros, organismes, éditeurs) pour déploiement et usage ;
- Contribuer à la feuille de route Ma santé 2022 ;
- Suivre activités GIE‑SIPS (Thesorimed) liées à e‑prescription.

#### 2.4.1.2 Composition de DIONIS

Les 4 départements de DIONIS :
- DTAAP : département transverse d’animation et d’appui projets,
- DENSDMP : maîtrise d’ouvrage ENS et DMP,
- DBSP : maîtrise d’ouvrage bouquet de services pros,
- DMOE : maîtrise d’œuvre d’appui projets.

Tous les collaborateurs DIONIS peuvent intervenir dans le cadre de l’accord‑cadre.

## 2.5 Contexte du Numérique en Santé

Feuille de route «Mettre le numérique au service de la santé» (lancée 17/05/2023) — priorités 2023‑2027 :
Axe 1 – Développer prévention et rendre chacun acteur : ambitions sur Mon Espace Santé (prévention personnalisée, carnet enfant, délégation aidant, préférences données).  
Axe 2 – Redonner du temps aux pros et améliorer prise en charge via numérique : accès aux données MES pour pros, BSP comme portail et intégration aux logiciels.  
Axe 3 – Améliorer accès à la santé pour personnes et prescripteurs.  
Axe 4 – Cadre pour usages et innovation numérique : cybersécurité, régulation services numériques, attractivité talents.

Pilotage : Délégation Ministérielle du Numérique en Santé (DNS). La Cnam pilote opérationnellement Mon Espace Santé (MES) et gère DMP, INS, ordonnance numérique, BSP et autres systèmes contribuant à la feuille de route.

Mon Espace Santé (article 45 loi n°2019‑774 du 24/07/2019 – OTSS) : plateforme nationale sécurisée, carnet de santé électronique centré usager, incluant Dossier Médical (DMP), messagerie sécurisée (MSSanté), agenda et catalogue de services tiers référencés. Offre vision consolidée des données et interactions avec professionnels, médico‑social, éditeurs et services référencés. Conception capitalisant sur DMP et accélérant déploiement des services socles (INS, Pro Santé Connect, DMP, MSS). BSP miroir technique permettant aux pros d’alimenter/consulter données via intégrations ou portail.

Programme Ségur Numérique : accompagne pros/structures et entreprises numériques avec incitations financières ; ARS, réseau Assurance Maladie et GRADeS aident au déploiement local.

Services socles : identité (authentification), cadres interopérabilité/sécurité/éthique (CI‑SIS, PGSSI‑S, CENS), services d’échange (DMP, MSSanté, ordonnance numérique) pour échanges standardisés et sécurisés.

# 3 Présentation de l’existant MES et DMP – Perspectives

Périmètre MESDMP :
- Tous les éléments constituant DMP et Mon Espace Santé (ressources, services, interfaces, IHM, sous‑produits) ;
- Éléments permettant l’ouverture des ressources MES pour le BSP.

## 3.1 Périmètre existant MES

### 3.1.1 Précisions sur le périmètre de l’accord‑cadre

MES et sous‑produits forment un périmètre dont maintien et évolution relèvent de l’accord‑cadre. MES est une interface usagers s’appuyant sur un back‑office partagé, certaines ressources accessibles au BSP pour assurer le miroir MES/DMP et la coordination usagers‑soignants. Ce back‑office et ses services partagés relèvent aussi de l’accord‑cadre. Voir §3.6 pour architecture envisagée à 3 ans (MES + DMP).

### 3.1.2 Existant Mon Espace Santé et sous‑produits

MES déployé depuis juillet 2021 (pilote Haute‑Garonne, Loire‑Atlantique, Somme), opt‑out janvier‑août 2022, déploiement poursuivi pour nouveaux nés et nouveaux affiliés.

Sur 4 fonctionnalités socles prévues, 3 disponibles : Dossier médical, messagerie sécurisée, catalogue de services. Fonctionnalités implémentées initialement en MVP puis améliorées. Fonctions transverses : activation compte, connexions sécurisées, paramètres compte, traces, consentements, notifications/centre de notification, mentions légales, FAQ, support, profil médical agrégé, etc.

Usagers cibles :
- Usagers créés automatiquement via opt‑out mais non activés : 66 millions (au moment de rédaction) ; créations continues (~4 000/jour pour nouveaux nés et nouveaux affiliés). Les pros peuvent interagir via logiciels sur DMP et messagerie.
- Usagers ayant activé leur compte : 8,6 millions (à la date de rédaction).

Certaines personnes non contactées peuvent activer leur MES de façon autonome si éligibles.

Répartition mai 2023 :
Part MES/DMP accessibles pros : 93%  
Part comptes activés : 12,4%  
Comptes fermés/opposés : 1,9%  
Personnes non contactées : 5%

MES disponible Web et Mobile ; mises à jour régulières.

Applications et sites :
Web responsive : www.monespacesante.fr  
Android (Play Store) et Apple (App Store) : applications officielles (liens fournis dans le CCTP).

### 3.1.3 Mon Espace Santé

#### 3.1.3.1 Principes généraux

Support web ou mobile : service public souverain, accessible, hautement disponible, opérant en France métropole et DROM, respect RGPD (pas de transferts hors UE), conforme CI‑SIS et directives PGSSI‑S. Navigation simple, UX/UI soignée, responsive, performances et résilience. Conception itérative basée sur besoins, analytics, tests utilisateurs et retours terrains. Parcours conformes RGAA ; accessibilité visée : score min fixé au meilleur coefficient d’audit annuel (75% RGAA 4.1 en mai 2023). Conception écoresponsable : écoscore min fixé au meilleur score annuel (75% en mai 2023). Compatibilité large parc devices/OS, intégration fonctionnalités natives (géoloc, photo, biométrie), usage d’un Design System Mon Espace Santé (référentiel design + composants). Transparence sur traitements et algorithmes ; sécurité à l’état de l’art.

##### 3.1.3.1.2 Personas

Personas créés à partir d’entretiens, statistiques assurés et population : données utilisées – âge, sexe, fracture numérique, revenu, facilité démarches en ligne, maladies chroniques, aidants, parentalité. Trois personas exemplaires :
- Martine (62 ans) : maladie chronique, pro‑active, aide sa mère, encourage pros à déposer documents, autoalimente MES.
- Inaya (33 ans) : utilisatrice experte, enceinte, organise RDV, évite doublons d’examens.
- Amir (45 ans) : consomme peu de soins, compte ouvert mais peu utilisé, ses PS communiquent via MES.

Personas guident conception et personnalisation des services.

#### 3.1.3.2 Pilotage par la donnée

Objectif : suivre usages pour améliorer le produit. Outils principaux : Knowage (BI, pilotage à froid) et AT Internet (webanalytics). Knowage nécessite interventions manuelles pour résultats fins. Infographie hebdomadaire consolidant indicateurs.

##### 3.1.3.2.1 Knowage

Équipe Usages développe indicateurs sur Knowage, en lien avec Direction Produit & Design et feature teams. Tableaux de bord présents : enrôlement (activations, répartition par régime/CPAM), usages Documents/Profil médical/Messagerie, notifications, catalogue de services. Actualisation majoritairement J+1. 104 comptes actifs Knowage.

##### 3.1.3.2.2 Pilotage support (à froid)

Suivi appels et formulaires : données Odigo (centre de contact) et PSN1 (outil support) ; tableau Excel produit 2x/sem par la Cnam ; solution manuelle destinée à évoluer vers outil dédié.

##### 3.1.3.2.3 AT Internet

AT Internet suit navigation site/app (audience, sources, pages, appareils, parcours). Rapports natifs + rapports construits pour catalogue, messagerie, profil médical ; rapports mensuels fournis par le Titulaire. Commanders Act utilisé pour gestion tags et consentement cookies.

##### 3.1.3.2.4 Infographie hebdomadaire

Infographie hebdo fournie aux sponsors : faits marquants, enrôlement, téléchargements mobile, usages Knowage, navigation AT Internet, support.

#### 3.1.3.3 Tests utilisateurs et Data Desk

Tests utilisateurs réguliers chaque incrément trimestriel (Titulaire + Cnam) sur panels représentant personas, orientant développements. Data Desk réalise analyses approfondies pour expliquer points saillants et orienter produit et design.

#### 3.1.3.4 Web et Application Mobile

##### 3.1.3.4.1 Web

Web : versions majeures ~tous les 3 mois, patchs correctifs possibles hebdomadaires. Au 07/2023, fonctionnalités de base OTSS (DMP, messagerie, agenda, catalogue) enrichies par évolutions : FranceConnect (eIDAS1), délégation parents, personnalisation home (Mon actu santé), centre de notification, dossiers managés, carnet vaccinal enrichi, profil médical étendu, mesures et habitudes de vie, gestion traces et autorisations, suppression/rematérialisation MES à la demande, CMS pour contenu, optimisation catalogue d’apps, parcours préadmission, liens documents‑profil, envoi ordonnances vers pharmacies organisationnelles, gestion signalement documents, incitations à alimenter profil médical, récupération CDA DMP pour présentations (courbes croissance), édition courrier postal, gestion mésusages.

Conception accessible (RGAA 75% mai 2023) et écoresponsable (écoscore 75% mai 2023). Titulaire doit maintenir scores ; en cas de dégradation, correction à ses frais sous 30 jours ou pénalités CCAP.

##### 3.1.3.4.2 Application mobile

Mobile reprend la majeure partie des fonctionnalités web ; objectif expérience universelle entre devices. Certaines fonctions mobiles spécifiques (scan code barre, biométrie). Application compilée en un code unique pour Android et iOS, packagée via forge mobile, déployée sur stores via Cnam (hors périmètre du marché). Titulaire assure MCO sur versions majeures OS, couverture cible 85% OS. Versions min : Android 8.1, iOS 13 (mai 2023). Notes (17/01/2024) : Android 4,5 ; iOS 4,7. Téléchargements et audience : Android ~1 002 815 (note 4,5), Apple ~1 258 286 (note 4,7), visiteurs uniques hebdo ~933k, visiteurs connectés ~309k (33% des visiteurs uniques).

Forge mobile, App Distribution pour suivi versions.

##### 3.1.3.4.3 SI Enrôlement (opt‑out / création automatique)

Déploiement initial (janv. 2022) : notifications courrier/email (75% mail / 25% postal), 6 semaines pour opposition/activation ; passé délai, création automatique MES via SI Enrôlement. Création automatique ouvre MES contenant DMP et messagerie ; l’usager doit activer son compte pour accéder au contenu. Objectif : cercle vertueux où dépôts professionnels incitent activations usagers. Codes temporaires fournis dans notifications ; possibilité de régénération via identification forte.

Prérequis création : affiliation à régime obligatoire (NIR certifié ou NIA temporaire), carte Vitale et coordonnée de contact fiabilisée (authentification MFA). Cnam opère SI Enrôlement (notifie, contrôle identité, déclenche créations automatiques après opt‑out). SI Enrôlement s’appuie sur référentiels nationaux (SNGI, RNIAM, RFI, BDO...) et batchs automatisés ; gère webservices d’activation (vérifications identité, carte Vitale, code temporaire). SI Enrôlement pilote courriers en interaction avec système de communication sortante Cnam ; génère codes temporaires envoyés via SI MES (mail/sms). Améliorations et exploitation assurées par équipe Cnam (MOA, MOE, fabricant) et DIA.

##### 3.1.3.4.4 Identification électronique

Moyens de connexion MES :
- Identifiant/mot de passe + OTP (SMS/email) ;
- FranceConnect (choix FI, SSO) ; FC niveau 1 demande OTP ;
- Mobile : biométrie / code déblocage via WebAuthN/FIDO2 (appui fonctionnalités device).

Identification univoque dans SI santé via INS (NIR/NIA + nom, prénom, date de naissance, code INSEE commune naissance, sexe) assurant identito‑vigilance. Référentiel INS : esante.gouv.fr.

##### 3.1.3.4.5 Gestion des comptes

Après création, l’usager gère paramètres de connexion (changement mdp, révocation device), préférences, notifications, consentements, autorisations d’accès. Comptes individuels pour majeurs ; mineurs accessibles via délégation parentale (justificatif). Toutes actions tracées. Paramètres confidentialité : masquer/démasquer tous documents, interdire accès pros, modalités accès urgence, gestion cookies, historique d’activité. Accès aux documents DMP selon matrice d’habilitation DMP (évolutive) ; possibilité de bloquer nominativement un professionnel. Consentement éclairé pour échanges avec apps catalogue (lecture/écriture mesures/documents), révocable. Extraction de données, notifications agenda, signalement mobile, avis/améliorations via paramètres.

Clôture MES (demande usager ou décès) : conservation 10 ans (hors décès) avec possibilité de réactivation ; suppression définitive après droit de rétractation 14 jours ; recréation possible mais historique vierge sauf données réalimentées depuis Assurance Maladie (remboursements, médecin traitant). Un majeur peut avoir un compte d’accès sans posséder son propre MES pour accéder au MES d’un mineur. La suppression d’un MES n’entraîne la suppression du compte d’accès que si aucune délégation active n’existe.
##### 3.1.3.4.6 Gestion des traces et des notifications

###### 3.1.3.4.6.1 Traces

Les traces d’activité sont systématiques dans Mon espace santé et enregistrent toutes les actions (création, modification, suppression, lecture) des usagers, délégataires, professionnels ou services tiers. La complexité technique est masquée pour une lecture compréhensible par l’usager. Les traces sont normalisées pour faciliter l’instruction par les niveaux de support habilités.  
Le recours à une signature qualifiée pour renforcer la valeur probante des traces peut être décidé au cas par cas après analyse de risque partagée avec la Cnam.

###### 3.1.3.4.6.2 Notifications

Le système envoie des notifications pour informer l’usager (ou son délégataire) d’événements : connexion/consultation par un PS, mise à jour de service, ajout de données DMP (hors historique remboursements), réception de message, rappel de RDV, etc. Certaines notifications sont réglementaires et obligatoires (accueil, suppression d’accès d’un mineur à la majorité, accès en bris de glace, échéances annuelles de directives anticipées, etc.).  
Les services tiers gèrent en général leurs propres notifications, mais MES peut générer des notifications liées à leurs actions (connexion, déréférencement, rappel de consentement).

Toutes les notifications (push, mail) respectent de strictes contraintes de confidentialité : aucune information médicale ou nominative n’y figure ; elles incitent l’usager à se connecter pour consulter le détail.  
Le Centre De Notification (CDN) stocke la notification et son détail, et permet d’atteindre l’objet (document, message, événement). Certains événements figureront dans le CDN sans envoi mail/push.

Depuis son profil administratif, l’usager peut choisir pour certains événements le canal (push ou mail). Des règles gèrent les volumes de notifications pour équilibrer information, attente usager et coûts (push vs mail vs CDN), et les équipes évaluent les impacts financiers avant de déployer de nouvelles notifications.  
Exemples : choix push exclut le mail ; notifications rapprochées peuvent être consolidées en une seule et envoyées en différé, démarche écoresponsable et économique. Le paramétrage des notifications est modifiable à chaud par le métier.

L’adressage diffère selon l’existence d’un compte MES :
- Compte créé : mail enregistré dans le compte ; push envoyés aux appareils with app installée selon paramètres OS.  
- Pas de compte : mail récupéré auprès du régime d’Assurance Maladie (SI externes comme MSA, MGEN).  
- Pas de compte et pas d’adresse mail fiable (~25% population) : notification par courrier postal.

Les notifications postales ne sont pas envoyées unitaires pour des raisons économiques. Un service de génération de courriers (format AFP) est disponible dans le SI MES, transmis via la chaîne éditique Cnam (CEREUS) pour produire rapidement des courriers si besoin.  
À mai 2023, deux types de courriers sont générés :
- Courrier de synthèse pour les MES « sans adresse mail » (notifier dépôts/messages) — ce courrier devrait cesser fin 2023 mais peut rester imprimable à la demande RGPD.  
- Courrier d’information aux usagers opposés à MES mais détenteurs d’un DMP pour les régulariser.

##### 3.1.3.4.7 Fonctionnalités Mon Espace Santé

Après connexion, l’usager accède à l’accueil de MES, donnant un accès rapide aux fonctionnalités socles et transverses, articulées pour répondre aux processus métiers.

Les fonctionnalités socles :
- Profil médical ;
- Documents (DMP) : stockage et consultation sécurisés pour usagers et professionnels ;
- Messagerie sécurisée pour échanges usager–professionnel ;
- Agenda : consolidation des rendez-vous, hospitalisations, tâches ;
- Catalogue de services référencés par la puissance publique.

Fonctionnalités transverses, par exemple :
- Page d’accueil personnalisable ;
- Centre de notification ;
- Auto-questionnaires intégrés au profil médical pour conseils personnalisés ;
- Processus de rematérialisation des ressources à la demande de l’usager (constitution d’archives sécurisées) ;
- Processus de suppression des ressources avec délai de rétractation et coordination de suppression.

Les fonctionnalités évoluent trimestriellement ; celles présentées sont indicatives et non contractuelles.

###### 3.1.3.4.7.1 Profil médical

Le profil médical place l’usager au centre de sa prise en charge et, partagé via le DMP, améliore le suivi. À mai 2023, le profil comporte :

Rubriques libres (saisie facultative) :
- Suivi médical : maladies, traitements, hospitalisations, handicaps ;
- Facteurs de risques : allergies, antécédents familiaux, habitudes de vie ;
- Mesures de santé : poids, taille, IMC, tour de taille, glycémie, tension, etc. ;
- Professionnels de santé : sélection via annuaire, récupération du médecin traitant ;
- Entourage et volontés : contacts d’urgence, personne de confiance, proche aidant, directives anticipées, indication don d’organes ;
- Pièces administratives : déplacées dans Documents après l’incrément 11 (mise en prod prévue juin 2024).

Les mesures sont historisées et présentées en courbes ; affichage spécifique selon âge (périmètre crânien <5 ans, tour de taille adultes). Un tableau de bord par défaut est personnalisable. Les mesures peuvent être extraites de documents (actuellement glycémie) et alimentées par objets connectés référencés (selon finalités du fournisseur). L’alimentation automatique du PML depuis des documents peut être refusée par l’usager (droit d’opposition).

Les exigences d’interopérabilité reposent sur les volets CI‑SIS et la norme FHIR.  
La rubrique Entourage et volontés provient d’un document structuré VDP dans le DMP, qui permet de gérer contacts, don d’organes et directives anticipées ; ces éléments sont accessibles aux professionnels via le DMP.

Rubrique automatique :
- Mon Histoire de Santé : alimentée par l’historique de remboursements de l’Assurance Maladie, proposée sous différentes granularités. À mai 2023, l’historique est alimenté sur déclenchement de l’usager à la création du compte, présenté sous 48h max. Les règles de présentation évoluent au gré des cotations et doivent être adaptées.

Rubrique conjointe usager/PS :
- Carnet de vaccination : renseigné par PS via DMP et par l’usager depuis MES, reposant sur le référentiel Thesorimed ; informations et recommandations évoluent selon le Ministère de la Santé. Le carnet est central pour les mineurs.

L’usager peut générer la synthèse PDF de son profil médical (10 valeurs max pour mesures) pour partage professionnel, faciliter le premier rendez-vous et les préadmissions. Des synthèses vaccination/allergies sont téléchargeables (non enregistrées dans Documents) pour usages comme crèche/école. Le profil est enrichi régulièrement et toutes ses données peuvent être rematérialisées ou supprimées à la demande, individuellement ou en masse.

###### 3.1.3.4.7.2 Documents de santé

Les documents de santé, essentiels au suivi, étaient difficiles à récupérer ; l’opt-out de MES et le Ségur de la santé visent à systématiser les dépôts par les professionnels et améliorer visibilité pour usagers et PS. La rubrique Documents, basée sur le DMP, gère les types prévus au CI‑SIS : CDA R2 niveau 1 à 3. Certains documents structurés (volontés, carnet de vaccination) sont présentés dans le profil médical plutôt que dans Documents. Les CDA R2 niveau 3 déposés par PS sont présents mais leur présentation nécessite des améliorations.

Depuis Documents, l’usager peut :
- Consulter (pdf, txt, jpg/jpeg à date), ajouter, supprimer ses documents ;
- Modifier confidentialité et visibilité aux PS ;
- Créer/gérer dossiers de classement ;
- Opérations massives (suppression/déplacement) ;
- Signaler un document déposé par erreur ;
- Envoyer un document via messagerie sécurisée (ex. ordonnance à une pharmacie).

Les documents sont stockés dans le DMP et présentés via des API interfaçant DMP et MES ; un index des documents est maintenu côté MES pour performance et règles de présentation. Les dépôts/consultations peuvent être réalisés par l’usager, les PS, établissements ou services tiers appariés après consentement. Les documents répondent aux volets CI‑SIS et à FHIR.

L’accès des PS et services tiers aux documents est gérable par outils de confidentialité et consentement au niveau document ou global. Les dépôts PS dans le DMP génèrent une notification usager (instantanée ou groupée selon contexte). Seul le PS dépositaire peut dépublier un document ; en cas de rematérialisation/suppression globale du MES, tous les éléments du DMP peuvent être traités en masse sur demande de l’usager.

Classement des documents et liens entre rubriques

La classification DMP, riche et multi‑niveaux (LOINC via CI‑SIS), est adaptée aux professionnels mais complexe pour les usagers. MES propose une classification « miroir » simplifiée côté usager (rubriques de 1er niveau explicites, sans 2e niveau). L’usager qualifie ses documents selon cette classification simplifiée ; le PS voit la classification professionnelle avec identification des documents déposés par le patient.

La simplification aide l’usager mais n’élimine pas l’enjeu du volume documentaires attendu avec l’évolution des pratiques ; un marquage d’historique pourra aider à limiter l’engorgement. MES permet aussi la création de dossiers utilisateurs thématiques (liens thématiques, pas classement physique) ; un document peut appartenir à plusieurs dossiers et être lié au profil médical ou à un événement d’agenda.

Ex. : un compte-rendu de biologie peut être :
- Déposé par le laboratoire dans la catégorie Biologie côté PS ;
- Visible par le patient dans « Résultats de biologie » ;
- Rattaché par le patient à ses dossiers personnels « Cancer » et « Cœur » (invisibles au PS) ;
- Lié à un item du profil médical (ex. hospitalisation « Remplacement pacemaker »).  
Ces liens sont modifiables par le patient.

###### 3.1.3.4.7.3 Messagerie

MES propose une messagerie sécurisée entre usager et Professionnels disposant de boîtes MSSanté. Tous les échanges utilisent le système référencé dans l’Espace de Confiance MSSanté. MES est opérateur de messagerie pour les citoyens ; les boîtes PS sont gérées par divers opérateurs externes. Les interactions suivent le Référentiel Opérateurs de Messageries Sécurisées de Santé et la documentation (référentiel opérateur/client) est disponible publiquement. La messagerie MES respecte les exigences de l’ANS pour l’Opérateur usagers.

Chaque usager non opposé dispose d’une adresse @patient.mssante.fr (format matricule INS 15 caractères@patient.mssante.fr). Plus de 66 millions de boîtes ont été créées et un message d’accueil y est déposé lors de la création du MES, activé ou non.

La messagerie repose sur Zimbra et propose les fonctionnalités standard, mais l’interface patient est réduite aux besoins essentiels pour limiter l’effort et respecter les spécificités patient–PS. Des règles particulières s’appliquent pour maîtriser ce canal.

Principales fonctionnalités :
- Consultation en mode conversation et pièces jointes ;
- Réponse / répondre à tous ;
- Suppression de messages ;
- Enregistrement de pièces jointes dans Documents ;
- Rédaction et brouillons auto‑sauvés ;
- Recherche et envoi sécurisé d’ordonnances aux pharmacies MSSanté ;
- Accès au détail du PS expéditeur et ajout aux professionnels du profil médical.

Certaines fonctionnalités (ex. transfert d’un message) ne sont pas implémentées en attente de cas d’usage probants.

Spécificités implémentées :
- Restrictions destinataires : impossibilité de contacter tout PS (sauf pharmacies organisationnelles) ; impossibilité de correspondre entre usagers ;
- Mécanisme pour que tout PS interdise un usager de lui écrire (hors pharmacies organisationnelles) ;
- Contrôles sur formats de pièces jointes pour garantir compatibilité DMP et lisibilité ;
- Messages automatiques personnalisés (compte inexistant, fermé, INS invalide, etc.).

Les messages reçus de professionnels génèrent une notification instantanée. Tous les éléments de la messagerie peuvent être rematérialisés ou supprimés à la demande de l’usager ; l’usager peut aussi supprimer ses saisies unitairement.

###### 3.1.3.4.7.4 Agenda

L’agenda vise à consolider tous les événements de santé (rendez‑vous, tâches). Il permet :
- Enregistrement d’événements par saisie manuelle ;
- Récupération de rendez‑vous depuis des services tiers synchronisés (si l’usager accepte la synchronisation) ;
- Modification et suppression des événements saisis manuellement.

Les notifications de rappel suivent les préférences de l’usager. Les fonctionnalités sont en extension : rappels d’actes de prévention ciblés (liaison Notifications) et alimentation à partir de parcours Assurance Maladie (ex. PRADO). L’agenda s’appuie sur le volet CI‑SIS et la norme FHIR. À janvier 2024 il est développé, déployé mais non activé ; il devra l’être au 1er semestre 2024.

###### 3.1.3.4.7.5 Catalogue de services Mon Espace Santé

Le catalogue référencé propose des services (avec ou sans échanges de données) répondant à des exigences strictes : sécurité, RGPD, technique, interopérabilité, éthique. Il incarne le principe d’État‑plateforme. Depuis fin 2021 le référencement sans échanges existe ; la valeur se construit progressivement selon cas d’usage. Au 15 mai 2023 : 267 éditeurs intéressés, 117 ont réalisé des échanges avec la Cnam, 26 services en instruction, 23 services référencés consultés par 15% des utilisateurs connectés.

Les services (apps, sites, objets connectés) proviennent d’éditeurs publics/privés ; le référencement apporte un gage de confiance. Un service tiers peut être apparié au MES après consentement éclairé pour échanger des données (nécessite identification précise). En juillet 2023, l’échange de données est possible uniquement pour MES de patients majeurs.

Dans le catalogue, l’usager peut rechercher et consulter les fiches, télécharger l’application depuis les stores officiels et synchroniser un service. L’appariement se fait généralement depuis le service tiers mais peut se faire depuis MES ; l’usager consent de façon éclairée (nature et fréquence des données, finalités, recours, textes applicables). Depuis les paramètres, l’usager gère ses consentements (autoriser, retirer, désynchroniser, consulter traces) et reçoit des notifications liées à la synchronisation (rappels de consentement, déréférencement).

Une fois le consentement donné, les échanges back‑office peuvent alimenter ou consulter :
- Documents ciblés du DMP ;
- Mesures du profil médical ;
- Événements Agenda.

L’accès des services référencés se fait via API sécurisées conformes aux standards d’interopérabilité de l’Agence du Numérique en Santé.

Fonctionnement de l’API Appariement :
L’API Appariement (OAuth2.0) connecte un profil MES à un profil service référencé, faisant l’interface entre le service et les API métiers (Documents, Mesures, Agenda, puis Messagerie) et protège l’échange de données.

###### 3.1.3.4.7.6 Environnement de tests et de démonstration éditeurs

L’environnement de test/démonstration est accessible aux éditeurs de messagerie MSSanté, éditeurs de logiciels PS et éditeurs du catalogue MES. Il propose :
- Accès interface MES en tant qu’usager ;
- Ajout/consultation de données via MES ;
- Ajout/consultation via DMP.

Le Titulaire gère fourniture/modification/retrait d’accès, fourniture/suppression de données sur demande du responsable Cnam relation éditeur.

###### 3.1.3.4.7.7 Les parcours transverses

Accompagnement contextualisé et prévention

Les usagers attendent de la personnalisation ; toute personnalisation doit respecter le cadre juridique MES/DMP et permettre l’exercice des droits. En 2023 MES propose déjà contenus/personnalisation selon âge et sexe et parcours contextualisés. Exemples de blocs Mon actu santé ciblés (dépistages, conseils chaleur) : contenus dynamiques via CMS pour renouveler l’affichage.

La prévention s’appuie sur informations usager (début 2023 : sexe et âge ; d’autres critères prévus via décret automne 2023) pour adresser messages adaptés.  
Depuis le 24 janvier 2024, des auto‑questionnaires sont proposés selon tranches d’âge (18–25, 45–50, 60–65, 70–75). Ils posent questions santé/habitudes et produisent une synthèse PDF disponible aux PS via le DMP sur action de l’usager ; certains items circulent entre questionnaire et profil médical. L’objectif est d’aider la collecte de données utiles pour échanger avec les PS et proposer actions : prise de rendez‑vous, suivi de mesure, appariement d’app tierce, etc.

Carnet de santé de l’enfant

Depuis 2023 MES évolue en carnet de santé numérique des enfants avec parcours parents dédiés. Carnet papier et numérique cohabitent ; le carnet numérique propose contenus adaptés selon âge, bibliothèque de conseils, rappels, incitations dynamiques et conseils personnalisés.

### 3.1.4 Sites et portails autour de Mon Espace Santé

#### 3.1.4.1 Site institutionnel Mon Espace Santé

Un portail public présente informations générales sur MES, liste des services tiers référencés, etc.

#### 3.1.4.2 Portail de support Mon Espace Santé

##### 3.1.4.2.1 Niveaux de support

Un workflow défini organise la coordination du support. Principes :
- Niveau 0 : aide par notifications, courrier ou site monespacesante.fr (rubrique Aide).  
- Niveau 1 : contact téléphonique (34 22) ou formulaire de contact (après connexion) pour infos générales, enrôlement, oppositions, clôture, dépannage et aide à l’usage. Le 34 22 est géré par un prestataire externe ; la Cnam mobilise CPAM/MSA selon les régimes. Les formulaires sont reçus/traités par la CPAM du Puy‑de‑Dôme.  
- Niveau 2 : analyse technique par la Cnam, le titulaire MES ou le titulaire DMP ; escalade vers niveau 3 si nécessaire.  
- Niveau 3 : acteurs et SI externes intervenant indirectement (ex. gestion bénéficiaires, services d’identification).  
- Incidents techniques et de sécurité : pris en charge par le titulaire responsable du périmètre MES.

##### 3.1.4.2.2 Moyens d’authentification et de connexion

Agents externes se connectent au portail support via ID/mot de passe + OTP mail (enrôlement mail). Agents internes Cnam/MSA se connectent via SSO interne (protocole interops).

##### 3.1.4.2.3 Informations manipulées

Le support accède au statut du compte‑profil MES et DMP, liste des délégataires, statut de rematérialisation, historique des tickets, et informations du demandeur si celui‑ci dispose d’une délégation d’accès.

##### 3.1.4.2.4 Actions du support

Niveau 1 : opposition, clôture, désappariement d’app, dissociation d’appareils enrôlés (biométrie), annulation de demande de suppression, création ticket d’escalade.  
Niveaux supérieurs : suppression ou rematérialisation des données MES.  
Les tickets peuvent être caractérisés (application, offre, sévérité, consentement de consultation des traces) pour orienter le traitement.

##### 3.1.4.2.5 Cycle de vie d’un ticket d’escalade

Un agent peut abandonner, escalader, transférer, dupliquer, clôturer, annoter ou contacter l’usager. Après réponse du niveau 2, le niveau 1 peut clôturer, transférer, réescalader ou dupliquer le ticket ; annotations toujours possibles.

##### 3.1.4.2.6 Pilotage du support et traces

Pilotage :
- À chaud : volumétrie temps réel par statut, plateau, régime des usagers ;
- À froid (demande) : fichier quotidien avec motif, régime, volume J‑1 ;
- À froid (ticket) : fichier quotidien avec applications, offres, tickets créés/escaladés/retournés.  
Toutes les actions du support doivent être tracées et consultables par l’usager.

##### 3.1.4.2.7 Outillage du support

Un outil de support (PSN1) existe et le Titulaire doit le reprendre. Il doit permettre :
- Consultation sécurisée des données compte‑profil après sécurisation de l’identité ;
- Exécution des actions de niveau 1 ;
- Escalade et traçage via ticketing ;
- Réception/traitement des formulaires du site ;
- Pilotage de l’activité ;
- Interfaçage avec outils ticketing niveau 3.

Fonctionnalités requises : accès sécurisé à authentification forte, traçage de toutes actions, base documentaire contributive, module reporting/pilotage, interfaçage ITSM Cnam, évolutivité technologique. Les développements d’outillage support (N1 à N3) sont compris dans la prestation P5 Run_MCO‑S ; connecteurs hors SI‑Cnam font l’objet de commandes UO.

##### 3.1.4.2.8 Outillage du Support aux éditeurs

Avec l’ouverture du catalogue d’échanges, le support aux éditeurs est inclus dans le workflow de traitement des tickets d’incidents (référencement et exploitation).

#### 3.1.4.3 Portail d’Administration du Catalogue de Services (PACS) Mon Espace Santé

Le PACS gère le contenu et les paramètres des fiches services (avec ou sans échanges). Destiné au GIE SESAM‑Vitale (pilote du référencement avec l’ANS) et au Titulaire. Le GIE dispose d’un réseau propre dans la sphère de confiance Cnam et pilote le référencement/opérationnel.  
Le PACS met en ligne les fiches services et gère les environnements production et éditeur pour tests/homologation, suivit workflow (création, tests, homologation, mise en ligne, suspension, déréférencement). Le GIE a accès aux deux environnements avec droits spécifiques.

#### 3.1.4.4 Site d’information pour le référencement éditeurs Mon Espace Santé

Site d’initiation pour les éditeurs : étapes du référencement, critères, documentation (guide, formulaires, exigences techniques, spécifications API, charte graphique, FAQ), orientation dans le processus. Une fois référencés, services publiés sur le site institutionnel. Le site publie aussi documents liés au référencement (PV, délibérations, pièces). La documentation publique des API et guide d’implémentation y sont disponibles. URL : editeurs.monespacesante.fr.

#### 3.1.4.5 Environnements de recette et de démonstration du portail éditeurs Mon Espace Santé

Environnement de recette/démonstration pour éditeurs tiers, MSSanté et éditeurs logiciels PS, avec comptes et données fictives. Le Titulaire réalise souscription, initialisation des données et gestion des comptes éditeurs.

#### 3.1.4.6 Content management system (CMS)

Certaines pages MES utilisent le CMS Drupal : site institutionnel, pages connectées (message prévention), bandeau d’alerte, carte vaccination, matrice d’habilitation DMP, gestion services référencés, site éditeurs, contenu support. Le CMS gère textes, liens et illustrations, et l’accès peut être donné à la Cnam et à tiers (ex. GIE SESAM‑Vitale).

### 3.1.5 Indicateurs métier

La supervision métier fournit indicateurs clés (disponibilité, temps de réponse, usages) et doit s’interfacer aux outils de gestion de support Cnam. Objectifs :
- Suivi des usages : audience, engagement (connexions, actions), performance contenus (durée moyenne, pages populaires), corrélé à appels support et retours PS pour identifier points de friction et optimisations.
- Outillage BI ergonomique, sécurisé, interopérable (CSV export), générant graphiques/tableaux dynamiques ; plusieurs solutions peuvent coexister (BI + mesure d’audience).
- Suivi efficience produit : indicateurs accessibilité, disponibilité, temps de chargement, SLA, anomalies et SEO. Intégration possible de services tiers (ex. status.esante.gouv.fr).

Actuellement le SI Pilotage utilise Knowage mais nécessite beaucoup de traitements manuels. Le Titulaire doit proposer et déployer un outil de suivi/pilotage de l’activité MES (cf. EXG_FON_22).

## 3.2 Présentation du périmètre technique MES

### 3.2.1 Présentation générale de l’architecture de MES

Vision globale des interactions MES avec SI partenaires. Remarque : une évolution technique prévue 1er trimestre 2024 vise à abandonner Maincare :  
- Authentification via Gravitee Access Manager (remplace IdeoDirectory/IdeoSSO) ;  
- Base métier MES (remplace IdeoIdentity) ;  
- Intégration MSSPro de Wrapto (remplace Ideo ProxySecureMail).  
Ne pas tenir compte des mentions de ces composants dans les schémas 3.2.x.

#### 3.2.1.1 MES - Interfaces externes

(Description synthétique des entités et flux entre MES et systèmes externes — Usagers, Apps eSanté référencées, prestataires mail/SMS, éditeurs, SI‑VAC, Alimentation HR, DMP, FranceConnect, INSi, Editique DSS, gestion bénéficiaires, RNIAM, SNGI, RASS, MSSanté, PSN1 support, outils BI, ITSM N2/N3.)

Tableau des flux : listing des composants, commentaires, déclenchements et origines (entrant/sortant, unitaire/en masse) pour les principaux échanges entre MES et partenaires (apps eSanté, prestataires mail/SMS, DMP, FranceConnect, INSi, RNIAM, SNGI, RASS, etc.).

#### 3.2.1.2 Composants Internes

MES regroupe sous‑systèmes par zones applicatives : Front Office, Socle Technique, Back‑End Métier, Pilotage Métier, Socle Sécurité, Ressources (Documents, Données structurées, Messagerie, Agenda, Référentiels). Chaque zone contient composants et APIs nécessaires (APIs REST+FHIR, Mesures, Profil Médical, Messagerie GraphQL/JMAP, API Agenda FHIR, etc.).

Zone Front Office : ENS Web, appli mobile, portail support N1, site institutionnel, BFF et portail éditeurs.  
Back‑End Métier : logiques métier, traitements de masse, entrepôts traces et données.  
Pilotage Métier : BI et analytics.  
Ressources : documents, données médicales, messagerie, agenda, référentiels.  
Socle Technique : API Management (Gravitee), InterOPS, Traçabilité, Supervision, comms sortantes.  
Socle Sécurité : gestion identités, serveur d’autorisation (OAuth2/OIDC/UMA2), cybersécurité.

### 3.2.2 Présentation détaillée de l’architecture de MES

NB : le schéma général (Fig. Archi‑02) a été modifié pour exhaustivité ; les renvois annexes peuvent ne pas être linéaires.

#### 3.2.2.1 Front Office de MES

Front Office : ENS Web, appli mobile, portail support N1, site institutionnel, portail éditeurs, Back For Front. Socle Technique : Gravitee APIM, InterOPS, traçabilité, supervision, communications sortantes. Back‑End Métier : Métier ENS (API, batch, base métier, entrepôt traces), Support (API, index tickets), Store (gestion/base), Pilotage (décisionnel, web analytics). Socle Sécurité et Ressources décrits (APIs documents, mesures, profil médical, messagerie, agenda, référentiels). Détail complet disponible dans annexes 16–17.

#### 3.2.2.2 Back-End Métier de MES

Rappel des composants et zones (Front Office, Socle Technique, Back‑End Métier, Pilotage, Socle Sécurité, Ressources) et renvoi aux annexes pour le détail : Métier et Orchestration ENS (Annexe 16), Support (Annexe 16), Store (Annexe 16).
3.2.2.3 Pilotage Métier de MES
Architecture du Système MES
Front Office de MES

Le Front Office regroupe les interfaces utilisateur : ENS Web, application mobile (iOS/Android), portail support niveau 1, site institutionnel et portail éditeurs. Un Back For Front MES supporte ces interfaces.
Socle Technique

Composants clés : API Management (Gravitee APIM), InterOPS, traçabilité, supervision et communication sortante (SMS, courriels, notifications InApp).
Back-End Métier de MES

Domaines fonctionnels :

    Métier et Orchestration ENS : gestion des opérations ENS (création, enrôlement, opposition, coordonnées, préférences, contacts), batch campagne (passage à la majorité), base métier ENS, entrepôt traces usagers.
    Support : API Support et indexation des tickets.
    Store : gestion du store et base store.
    Pilotage Métier : décisionnel, web analytics, données décisionnelles.

Socle Sécurité

Assure protection des données et accès : gestion des identités, entrepôt d'autorisation (OAuth2, OIDC, UMA2, consentements), cybersécurité.
Ressources

Catégories principales :

Documents

    API Documents REST+FHIR, API HR BDD REST, gestion événement DMP.

Données structurées & médicales

    API Mesures REST+FHIR, API Profil Médical, Carnet PS, entrepôt profil médical, gestion du provisionnement.

Messagerie

    API Messagerie GraphQL, API Messagerie JMAP, formulaires, BAL.

Agenda

    API Agenda, entrepôt RASS.

Référentiels

    API Référentiels, copie du RASS, RVAC, RGGVAC.

Cette architecture décrit les composants et leurs interactions pour gérer les données et opérations liées à l'ENS.

Documents détaillant l’architecture et le patrimoine applicatif :

    Web Analytics : Annexe « MESDMP_Annexe 17_MES-Dossier Architecture Logicielle Front-End ».
    Décisionnel : Annexe « MESDMP_Annexe 16_MES-Dossier Architecture Logicielle Back-End ».

3.2.2.4 Ressources
Architecture du Système MES
Front Office de MES

Interfaces : ENS Web, application mobile (iOS/Android), portail support niveau 1, site institutionnel, portail éditeurs. Back For Front MES présent.
Socle Technique

Composants : API Management (Gravitee APIM), InterOPS, traçabilité, supervision, communication sortante (SMS, courriels, notifications InApp).
Back-End Métier de MES

Domaines :

    Métier ENS : gestion ENS (création, enrôlement, opposition, coordonnées, préférences, contacts), batch campagne (majorité), base métier, entrepôt traces usagers.
    Support : API Support, index tickets.
    Store : gestion store, base store.
    Pilotage Métier : décisionnel, web analytics, données décisionnelles.

Socle Sécurité

Identité, entrepôt autorisation (OAuth2/OIDC/UMA2/consentements), cybersécurité.
Ressources

Documents

    API Documents REST+FHIR, API HR BDD REST, gestion événement DMP.

Données structurées & médicales

    API Mesures REST+FHIR, API Profil Médical, Carnet PS, entrepôt profil médical, gestion provisionnement.

Messagerie

    API Messagerie GraphQL, API Messagerie JMAP, formulaires, BAL.

Agenda

    API Agenda, entrepôt RASS.

Référentiels

    API Référentiels, copie du RASS, RVAC, RGGVAC.

Cette architecture montre les composants et interactions assurant la gestion des données et opérations ENS.

Documents de détail :

    Documents, Données Structurées & Médicales, Messagerie, Agenda, Référentiels : Annexe « MESDMP_Annexe 16_MES-Dossier Architecture Logicielle Back-End ».

3.2.2.5 Socle technique
Architecture du Système MES
Front Office de MES

Interfaces : ENS Web, application mobile, portail support, site institutionnel, portail éditeurs. Back For Front MES existant.
Socle Technique

Éléments : API Management (Gravitee APIM), InterOPS, traçabilité, supervision, communication sortante.
Back-End Métier de MES

Domaines :

    Métier ENS : opérations ENS, batch passage à la majorité, base métier, entrepôt traces.
    Support : API Support, index tickets.
    Store : gestion/base store.
    Pilotage Métier : décisionnel, web analytics, données décisionnelles.

Socle Sécurité

Gestion d'identités, entrepôt d'autorisation (OAuth2/OIDC/UMA2/consentements), cybersécurité.
Ressources

Documents

    API Documents REST+FHIR, API HR BDD REST, gestion événement DMP.

Données structurées & médicales

    API Mesures REST+FHIR, API Profil Médical, Carnet PS, entrepôt profil médical, gestion provisionnement.

Messagerie

    API Messagerie GraphQL, API Messagerie JMAP, formulaires, BAL.

Agenda

    API Agenda, entrepôt RASS.

Référentiels

    API Référentiels, copie du RASS, RVAC, RGGVAC.

Cette architecture illustre composants et interactions du système MES.

Documents d’architecture relatifs à la zone :

    API Management, InterOPS, Traçabilité, Supervision, Communication Sortante : Annexe « MESDMP_Annexe 16_MES-Dossier Architecture Logicielle Back-End ».

3.2.2.6 Socle sécurité
Architecture du Système MES
Front Office de MES

Interfaces : ENS Web, application mobile, portail support, site institutionnel, portail éditeurs. Back For Front MES présent.
Socle Technique

Composants : API Management (Gravitee APIM), InterOPS, traçabilité, supervision, communication sortante.
Back-End Métier de MES

Domaines :

    Métier ENS : opérations ENS, batch passage à la majorité, base métier, entrepôt traces usagers.
    Support : API Support, index tickets.
    Store : gestion/base store.
    Pilotage Métier : décisionnel, web analytics, données décisionnelles.

Socle Sécurité

Gestion identités, entrepôt autorisation (OAuth2/OIDC/UMA2/consentements), cybersécurité.
Ressources

Documents

    API Documents REST+FHIR, API HR BDD REST, gestion événement DMP.

Données structurées & médicales

    API Mesures REST+FHIR, API Profil Médical, Carnet PS, entrepôt profil médical, gestion provisionnement.

Messagerie

    API Messagerie GraphQL, API Messagerie JMAP, formulaires, BAL.

Agenda

    API Agenda, entrepôt RASS.

Référentiels

    API Référentiels, copie du RASS, RVAC, RGGVAC.

Cette architecture montre les composants et interactions assurant la gestion des données et opérations ENS.

Documents d’architecture sécurité :

    Identités et Compte, Authentification et Access Management, Consentements : Annexe « MESDMP_Annexe 16_MES-Dossier Architecture Logicielle Back-End ».

Nouveaux groupes de composants sécurité ajoutés :

    Plateforme IA/Big Data (Salt Security) : sonde analysant dynamiquement les flux API internes et externes via duplication au niveau des équilibreurs ; connectée au SaaS éditeur ; peut agir sur WAF Ubika pour bloquer certaines requêtes. Licences fournies par la Cnam.
    FORTIFY SAST + SCA : analyse du code et dépendances intégrée dans le pipeline et IDE des développeurs pour détecter vulnérabilités tôt. Licences fournies par la Cnam.
    Extension WAF Ubika (EAS) : traitements supplémentaires pour contrôler format et analyser contenu des appels API. Licences fournies par la Cnam.
    Nexus LifeCycle IQ : alimente Fortify pour identifier dépendances vulnérables. Licences fournies par la Cnam.

3.2.3 Architecture Technique de MES
3.2.3.1 Aperçu MES+DMP

Actuellement, hébergements de MES et DMP confiés à deux titulaires différents.
Architecture du Système d'Information Médical

Systèmes principaux :

    S.I. CNAM : connecté Internet/VPNs (IPSec/SSL), communique avec MSA, GIESV, MES.
    S.I. Partenaires MSA, GIESV : connectés Internet/VPNs, communiquent avec CNAM et MES.
    S.I. Partenaires MES : connecté Internet/VPNs, communique avec CNAM, MSA, GIESV.
    S.I. DMP : connecté Internet, communique avec S.I. MES via WAN MPLS.

Datacenters :

    Datacenter principal MES et secondaire MES (site de reprise), interconnectés.
    Datacenter principal DMP et secondaire DMP, interconnectés.
    Datacenter externalisation sauvegardes connecté via réseau COLT chiffré.

Services & applications : éditeurs Store/LPS, messagerie, CNAM Internet, horodatage.

Utilisateurs accèdent via Internet et VPNs IPSec/SSL aux services fournis.

Les MES et DMP sont déployés chacun sur une paire de datacenters reliés via WAN MPLS COLT ; chaque hébergeur gère sa propre infrastructure redondante et sécurisée.
3.2.3.2 Présentation générale de MES
Architecture de Stockage et de Réseau
Data Centers

DC1/LCB et DC2/MRC (principaux) : cloud privé compute, appliance sauvegarde, stockage bloc/fichier/objet répliqués, cluster étendu, équilibrage (LAN/WAN MPLS), HSM relié à sauvegarde et équilibrage.

DC3/TLZ (sauvegardes) : appliance sauvegarde connectée Internet, stockage objet.

Réseaux : LAN, SAN/réplication, WAN MPLS, Internet. Filtrages entre appliances sauvegarde et équilibrages.

Résumé : DC1, DC2, DC3 interconnectés via WAN MPLS et Internet ; composants de stockage (bloc, fichier, objet), appliances sauvegarde, cloud privé et équilibreurs.

Infrastructure MES principale :

    Deux datacenters en région parisienne.
    Troisième datacenter de sauvegarde à ~250 km.
    Équipements réseau, filtrage (Firewall, WAF), équilibrage en clusters étendus.
    Cloud privé (VMWare) actif/actif sur 2 zones.
    Instances de plateforme d’orchestration de conteneurs sur clusters de VMs.
    Stockage bloc et fichier répliqué entre DC1/DC2.
    Stockage objet Ceph étendu sur DC1/DC2, dédié aux contenus de boîtes aux lettres.
    Sauvegarde croisée des stockages principaux et externalisation sur DC3.
    Externalisation du stockage objet sur DC3.

3.2.3.3 Description détaillée de MES
3.2.3.3.1 Les datacenters

Trois datacenters : deux principaux en région parisienne (dual-site) et un tiers pour externalisation des sauvegardes (>250 km). Chaque datacenter principal peut assurer seul le service MES si l'autre tombe. Services mutualisés : accès Internet (adresses publiques, multi-FAI, BGP, anti-DDOS, garantie 1 Gbps), dual-site en L2 par boucles optiques redondées, accès administrateurs, zone d’interconnexion dédiée à MES, monitoring centralisé, hébergement HDS.
3.2.3.3.2 Les environnements

Deux types : production et hors-production. Ressources majoritairement affectées à l’un ou l’autre. Partage/Dédié résumé :

    Ressources présentes uniquement en production : certains éléments sécurité spécifiques.
    Ressources matérielles partagées : équipements ethernet, clusters de filtrage, cluster de répartition, baie de stockage, système de sauvegarde.
    Ressources matérielles dédiées : châssis, éléments de calcul, cluster HSM, cluster Ceph.
    Ressources logiques partagées/dédiées : clusters VMware, route domains, LUNs/datastores, clusters OpenShift, bastions WALLIX, VLANs.

3.2.3.3.3 Les éléments réseau et sécurité

Architecture générale : boîtiers physiques (1+1) par datacenter en HA (A/P), bascule automatique sans perte de session.

Principaux équipements :

    Filtrage front : Firewall Juniper (IPS).
    Filtrage back : Firewall Fortinet.
    WAF : Rohde&Schwarz (2+2 A/A).
    Répartiteur : Big IP F5 (1+1 A/P).
    VPN gateway : Stormshield (1+1 A/P).
    Appliance SFTP admin : Bertin.
    TAP/sondes IDS : Jizo.
    Conformité postes : Forescout.
    HSM Trustway Proteccio en configurations redondées.

Éléments logiques :

    1 LAN étendu sur les 2 datacenters principaux (zones Front/Back/Sauvegarde).
    1 LAN sur DC3 (zones Back/Sauvegarde).
    VLANs segmentent les LANs (plage IP MES : 10.38/16). Trois types de flux : administration, sauvegarde, applicatifs, transitant sur VLANs distincts. Environ 300 VLANs.

Zones :

    Zone Front : DMZ pour composants frontaux (SFTP, SMTP, proxy), connexions Internet/VPNs/MPLS.
    Zone Back : composants internes ENS (prod et hors-prod), serveurs applicatifs, management, bastions, servitudes (DNS, LDAP).

Firewall Front : routage/filtrage VLANs Front, passerelle VPN IPsec, IDS/IPS, NAT. Firewall Back : routage/filtrage VLANs Back, accès au DC3. Répartiteur : segmentation logique par 3 Route Domains, topologie one-arm nécessitant NAT source. WAN MPLS Colt interconnecte zones Front/Back avec DMP et DC3, flux chiffrés.
3.2.3.3.4 Les éléments de calcul

Éléments de calcul par datacenter : 3 groupes/châssis (2 pour prod, 1 hors-prod) ; 23 éléments de calcul par datacenter. Caractéristiques par lame : 2 CPU, 20–40 cœurs par CPU, 768–1536 Go RAM. Infrastructure vSphere avec licences vCloud Suite Enterprise et vCenter Server 7.x.

Clusters VMware par datacenter (exemples) :

    Administration VMWARE : 2 ESX.
    Outillages/infra : 2 ESX.
    Hors-prod containers : 4 ESX.
    Prod containers : 4 ESX.
    Hors-prod VM hors container : 6 ESX.
    Prod VM hors container : 5 ESX. Soit 9 ESX production, 4 ESX mutualisés, 10 ESX hors-production.

Architecture tolère perte d’un nœud ESX. Les deux datacenters partagent un domaine SSO via vCenter Enhanced Linked Mode.
3.2.3.3.4.1 Les systèmes d’orchestration de containers

Instances OpenShift (OCP v4.x) sur Kubernetes pour applications conteneurisées et outils de développement. Chaque cluster OCP est mono-datacenter ; chaque cluster hors-prod supporte plusieurs environnements. Chaque cluster OpenShift est associé à un cluster VMware et utilise le cloud provider VMware pour déployer Masters, Infrastructures et Workers. Accès aux applications via Global Load Balancer F5 répartissant la charge sur les Ingress Router des nœuds des clusters OpenShift d’un même environnement.

Infrastructure exemple (DC1) :

    OCP-PROD-1 : 16 workers
    OCP-HorsPROD-INT1 : 13 workers
    OCP-HorsPROD-PP1 : 13 workers
    OCP-HorsPROD-TECH1 : 5 workers
    OCP-PROD-2 : 16 workers
    OCP-HorsPROD-INT2 : 13 workers
    OCP-HorsPROD-PP2 : 13 workers
    OCP-HorsPROD-TECH2 : 5 workers

    3 VM master par cluster OCP.

Containers en prod : env. 30 containers middleware (Ideo, Elastic, Drupal, Gravitee, Varnish...), ~120 containers applicatifs.
3.2.3.3.4.2 Les VMs hors container

L’application ENS s’appuie sur PODs et middleware en VM, avec VIPs pour équilibrage/HA.

Composants middleware principaux :

    PostgreSQL : une VM par domaine métier, architecture actif/passif avec transfert asynchrone des journaux.
    Kafka : bus applicatif (3 serveurs sur DC1, reprise sur DC2 via SRM/VMware).
    MongoDB : cluster 5 VMs étendu DC1&DC2 (4 Data + 1 témoin), protégé par SRM.
    LDAP/MySQL pour Idéo (SSO) : MySQL primaire DC1/secondaire DC2 ; OpenLDAP multi-master (1 instance par DC).
    Relais de messagerie en DMZ pour envoi OTP (actuellement service externe SFR) ; envoi courriel via relais SMTP RET en DMZ via VIP.
    Proxy Interops (suite jeton GIP-MDS) : échanges Interops-A/P, instance par DC derrière VIP.
    Messagerie Zimbra : ~60 VM (Jetty, MariaDB, OpenLDAP) ; Message Store sur Ceph objet, 50% des serveurs par datacenter, protégé par SRM.
    Relais SMTP MSSanté : MTA internes et relais SMTP en DMZ avec enregistrements MX publics/internes.
    Relais SFTP : plusieurs groupes de serveurs SFTP en paire DC1/DC2 avec VIP et NAS répliqué.
    Clusters Elastic : 3 clusters (un avec Zammad, deux étendus sur DC1&DC2), instanciés sous OpenShift.

Cluster VMWARE (ordres de grandeur) :

    Administration : ~5 VM.
    Outillage : ~15 VM.
    PROD - Application : ~100 VM (techniques, progiciels, applicatifs).
    Hors-PROD - Application : ~300 VM (multiples environnements).

Systèmes d’exploitation prod : 85% RHEL 8, 10% Windows 2019/2016, reste Suse, CentOS7, Debian.
3.2.3.3.5 Les éléments de stockage

Stockage bloc/fichier en DC1 & DC2 :

    Baie DELL/EMC Unity XT 680F, capacité utile 134 To (compression incluse), emplacement pour extension.
    SAN redondant (2 switchs Brocade) ; switches SAN extensibles.

Stockage objet :

    Cluster Ceph distribué et hautement disponible, répliqué sur DC1/DC2, protégé contre perte serveur ou datacenter, implémentation Red Hat Ceph Storage.

Configurations (extraits) :

    Production Ceph : physique (3+3 + témoin externe), CPU 1x24C, RAM 64Gb, SSD 2To/HDD 32To, NIC 2x10Gbps.
    Externalisation Ceph sur DC3 : physique (3).
    Hors-Prod Ceph : physique (2+2).

Usages et volumes (fin 2023) :

    Stockage bloc : baie DELL/EMC, 30 To occupés compressés/dédupliqués.
    Stockage objet : 18 To occupés, croissance ~24 To/an fin 2023.
    Stockage fichier : 6 To occupés compressés/dédupliqués. Usages : Zimbra stocke mails/PJ sur Ceph ; SFTP Editique et rematérialisation ; datastores VMware ; volumes Openshift via CSI ; NAS NFS pour exports PROD/HORS-PROD.

3.2.3.3.6 Les éléments de sauvegarde

Sauvegarde basée sur EMC DataDomain et Networker.

Composants :

    Data Protection Suite Networker : NSR, NMC, 2 Global Storage Nodes (1 par DC principal).
    PowerProtect DD6900 : 2 unités (94 TB utile) dans DC1/DC2 pour sauvegardes croisées ; 1 unité similaire au DC3 pour externalisation.

Modes de sauvegarde :

    Majoritairement via snapshots VMware (NVP) connectés au vCenter, circulation sur réseau de sauvegarde dédié.
    Agents Networker possibles pour dumps bases de données, sauvegarde via réseau dédié.

3.3 Présentation du périmètre existant DMP
3.3.1 Fonctionnalités du DMP

Le DMP est un service de santé antérieur à Mon espace santé, permettant à l’usager de conserver de façon sécurisée et pérenne ses documents et données de santé. Depuis MES, l’usager peut ajouter/classer des documents, consulter documents présentés en format document ou structuré (ex. comptes rendus, historiques de remboursement), recevoir documents alimentés par professionnels ou services tiers sous réserve de consentement, et modifier visibilité des documents aux professionnels.

Nativement, le DMP communique avec logiciels professionnels via API TD X.X pour dépôt, consultation et gestion des documents (webDMP et LPS). Avec Mon espace santé, d’autres API assurent échanges relatifs au compte MES (création, MAJ, fermeture, suppression) et à la gestion des documents (dépôt, modification, dépublication, traces) entre DMP et MES, ainsi que traitements automatisés (ex. déclenchement historiques de remboursement, MAJ traits d’identité depuis SNGI, actions services tiers appariés). Des services DMP gèrent aussi documents issus d’amelipro.

Accès aux usagers via MES, et aux professionnels via le Bouquet de Services aux Professionnels (BSP) : portail amelipro ou intégration LPS (TLSi, API DMP). Deux modes d’accès PS : web DMP PS ou via LPS (interfaces SOAP/REST-FHIR selon fonctionnalité).

Diagramme BSP : API BSP (TLSi, API DMP) et Web BSP (amelipro, WebPS DMP). Le périmètre de reprise englobe ces éléments.

La Cnam peut alimenter les DMP en données de remboursement ou documents (ex. notes/attestations vaccination). La création massive de DMP via opération opt-out de MES met à disposition documents/données pour professionnels, tout en laissant l’usager maître des autorisations : oppositions, masquage, blocage nominatif ; l’usager est informé des dépôts et accès.
3.3.2 Les documents du DMP

Les documents du DMP respectent le cadre d’interopérabilité CI-SIS. Ils sont organisés en catégories diverses. La Cnam peut alimenter les DMP en données de remboursement sans autorisation explicite supplémentaire.

Le document Historique des Remboursements (CNAM-HR) comprend données administratives et données médicales remboursées. Le flux d’alimentation HR : réception depuis Middle Office, intégration en base HR, génération de lots JSON et dépôt sur SI DMP, puis mise à jour de la base.

Le service consultation est appelé par composants du SI DMP : socle (requête Logiciel PS), WebPS, WebMH, service rematérialisation et API ENS. Pour la vaccination COVID, SI Vacci-COVID alimente le carnet de vaccination de chaque DMP via traitement d’intégration SIDMP.
3.3.3 Contexte d’accès au DMP par les PS

L’accès est réservé aux professionnels de l’équipe de soins ou bénéficiant d’une délégation par le titulaire, selon une matrice d’habilitations fixée par l’ANS et le Code de la santé publique (différenciation par profession ou droit particulier). Le « médecin administrateur » peut accéder à l’ensemble des informations, y compris celles masquées au reste des PS ; le titulaire peut attribuer ou retirer ce droit. Le titulaire peut aussi bloquer un PS ou masquer des informations à certains PS (mais accessibles au déposant). Accès spécifique en cas d’urgence (articles L.1111-17, R.1111-39). Les personnes agissant sous la responsabilité d’un PS peuvent alimenter un DMP sans droit de consultation. Le SI DMP doit reconnaître le PS et lui affecter les droits selon la matrice d’habilitations.
3.3.4 WebDMP PS

Interface Web disponible pour PS sans LPS compatible. Connexion possible via carte CPS physique ou application mobile E-CPS et téléservice Pro Santé Connect. Couverture fonctionnelle identique à celle offerte aux éditeurs LPS.
3.3.5 Interfaces DMP proposées aux LPS

Accès au DMP pour les PS soit via LPS (ou web avec carte CPS), soit via LPS en utilisant le certificat serveur de l’établissement. Fonctions principales (résumé) :

    Accès DMP par INS ou traits d’identité, lecture carte vitale, listes de patients rattachés.
    Autorisations d’accès (accord patient, représentant légal, urgence).
    Données MES non modifiables (administratives, volontés/droits).
    Types de documents acceptés : TXT, JPEG, TIFF, PDF, RTF.
    Catégories : synthèses, traitements/soins, comptes rendus, imagerie, biologie, prévention, certificats, données remboursement, autres.
    Actions sur documents : ajout, consultation, modification, suppression, archivage, désarchivage, gestion des versions, téléchargement (PDF, TXT, RTF, JPG, TIFF, CDA, XDM).
    Parcours de soins : vue chronologique.
    Confidentialité/masquage : gestion par patient.
    Autres accés : dossier pharmaceutique, dossier santé au travail, carnet de vaccination (CVA), historique vaccinations, gestion versions CVA.
    Gestion autorisations : liste professionnels/établissements autorisés, droits d’accès urgence, PS non autorisés, suivi demandes patients, gestion médecin traitant, notifications aux PS, historique des accès, gestion connexion secrète (mineurs), état du DMP, messages d’alerte, information PS connecté, gestion cadre d’exercice, FAQ, tutoriel WebPS, bandeau d’alerte, gestion symboles.

Selon implémentation LPS, le PS accède :

    Soit via fonctions DMP intégrées dans son LPS (mode privilégié).
    Soit via accès direct à URL webDMP PS appelées depuis son LPS en passant contexte patient pour fonctions non intégrées.
### 3.3.6 Interfaces DMP avec MES

L’interfaçage avec MES est assuré par l’API DMP, composée de deux applications :  
1) une Authorization Management et une API Management (basées sur Gravitee) — gestion des jetons et redirection vers les API fonctionnelles (SAPS, service DMP) ;  
2) une API fonctionnelle donnant accès aux fonctions du DMP (gestion et usages).

Les fonctions de l’API DMP sont regroupées en familles correspondant à des fonctionnalités distinctes :  
- Autorisation : fonction transverse, prérequis pour accéder aux autres fonctions sauf fonctions techniques ;  
- Gestion du DMP : création, modification, consultation, fermeture, réactivation, récupération du statut/compte, rattachement à un compte MES (service DMP) ;  
- Fonctions d’usage : gestion des documents, autorisations d’accès (opposition, habilitations), abonnements notifications, médecin traitant, représentants légaux, accès traces, demande de rematérialisation (service DMP) ;  
- Fonctions techniques : recherches sur l’annuaire des professionnels et structures, réalisables sans autorisation pour un dossier DMP (service SAPS).

Famille de fonctions — Actions (résumé) :  
- Autorisation : fonctions transverses.  
- Gestion du DMP : création, modification, consultation, réactivation, fermeture, vérification existence + infos, rattachement à MES, demande de destruction.  
- Usage du DMP : gestion des consentements (liste, ajout, mise à jour, suppression), consultation et gestion des représentants légaux, abonnement notifications, recherches multicritères (documents, lots), consultation/ajout/suppression/archivage/désarchivage/masquage/démasquage de documents, consultation HR Bdd, historique des traces, commandes et téléchargements de rematérialisation.  
- Technique : recherches multicritères et récupération d’informations détaillées sur professionnels et structures, récupération du référentiel vaccinal.

Travaux en 2023 prévus pour interfaçage avec AmeliPro (BSP) ; cet interfaçage sera repris dans l’accord‑cadre. Un état des lieux est fait en phase P1.1 - Pdc_Init.

### 3.3.7 Interfaces avec amelipro

Les interfaces permettent à AmeliPro, via authentification forte, d’interagir avec le DMP par téléservices pour :  
- alimenter le DMP (ex. dépôt du volet Patient d’un avis d’arrêt de travail) ;  
- rechercher et consulter des documents (ex. documents de suivi de santé d’un enfant).

Les contrôles d’autorisation et le positionnement des consentements patients sont appliqués comme pour les interactions LPS–DMP.

### 3.3.8 Site institutionnel DMP

Un portail web pour professionnels publie des informations sur le service DMP et donne accès aux services DMP.  
Un portail pour le grand public fournit un contenu informationnel, des infos relatives à MES, la liste des services tiers référencés, et des informations ciblées professionnels (articulation MES / BSP, DMP, MSS).  
D’autres pages utilisent le CMS Liferay.

### 3.3.9 Support DMP

Support pour demandes patient :  
- N1 : PSN1 ; N2 : PSN Cnam ; N3 : titulaire de l’accord‑cadre. Outils : PSN1, Clearquest, FSP, courriels.

Support pour professionnels de santé :  
- N1 : éditeur ou CIS DNS ou PF de Service de Moulin ; N2 : GIE SESAM VITALE ; N3 : titulaire de l’accord‑cadre. Outils : Clearquest, courriels.

Volume support pro : ~50 demandes/mois avec pics (275 en déc. 2023).

### 3.3.10 Web MH

Le médecin de l’hébergeur (Web‑MH) est le gestionnaire des données de santé côté exploitation. Il intervient sur incidents impactant les données de santé ou les droits des personnes et assiste l’hébergeur sur missions liées à ses attributions. Il utilise l’outil Web MH, similaire au Web DMP PS.

Fonctions clés du Web MH : lister demandes de copie (prêtes / expédiées), détecter tickets de suppression définitive lors d’une demande, gérer demandes de copie et destructions de DMP, visualiser traces via VisioTrace, vérifier existence de demandes de destruction, etc. Depuis l’outil le médecin traite les demandes de communication des données et historiques d’accès.

Statistiques (sept.2022‑août2023) : 25 demandes N2 médical prises en charge (11 copies, 14 destructions, 0 fermetures) et 99 demandes exceptionnelles (anomalies affichage, vérification existence pour homonymes).  
Les missions du médecin de l’hébergeur ne font pas partie des prestations du §7 ; son intervention est déclenchée par la Cnam par bon de commande.

### 3.3.11 SI Pilotage DMP

#### 3.3.11.1 Introduction

Le SI Pilotage DMP est un portail de suivi statistique des usages et du déploiement, alimenté par des traces anonymisées émises par le SI‑DMP. Les rapports/indicateurs sont mis à jour au fil de l’eau (jusqu’à j‑1) ; accès libre‑service avec identifiant/mot de passe fournis par la Cnam. La gestion des comptes (création, suppression, mise à jour) est assurée par le Titulaire à réception des demandes Cnam. Environ 3 500 comptes existent à ce jour. Les clients et rapports sont listés en annexe MESDMP_Annexe 28.

#### 3.3.11.2 Principales caractéristiques

Principes du Pilotage DMP : fondé sur traces anonymisées « élémentaires » sans reconstitution d’objets Dossier/Document, intégration au fil de l’eau, historique limité à 36 mois glissants, exploitation de cumuls généraux issus du SI‑DMP, enrichissement des traces à l’ingestion pour éviter toute jointure.

#### 3.3.11.3 Composition du SI Pilotage

Front office : 8 profils utilisateurs (droits différenciés) — admins Cnam en écriture, profil national lecture, régionaux, départementaux, etc. Environ 80 tableaux de bord composés d’environ 350 tables élémentaires, elles‑mêmes issues d’environ 200 champs de traces.  
Back office : 70 types de traces fonctionnelles (820 M traces générées en 2022), ~40 règles de gestion, référentiels partagés avec SI‑DMP.  
Service d’export : fournit des données plates aux équipes Cnam pour besoins (suivi Ségur, rémunérations, Observatoire National des Flux, etc.).

#### 3.3.11.4 Accès au SI Pilotage du DMP

(Description schéma des entités et profils utilisateurs — Cnam, coordinations nationales/régionales/départementales, profils ADM/NAT/TS/TSLP/EDIT/REG/ARS/DEP/ES). Le SI Pilotage compte 8 profils (3 nationaux, 2 régionaux, 1 départemental, 2 pour établissements/éditeurs) ; création des comptes est soumise à règles de sécurité et procédure communiquée au Titulaire après notification de l’accord‑cadre.

#### 3.3.11.5 Principe de fonctionnement des données calculées

Le SI Pilotage s’appuie sur traces « élémentaires » ; conservation 36 mois glissants ; interdiction de jointures oblige à compter uniquement sur les données présentes ou enrichies via référentiels (référentiel SI‑DMP enrichi si besoin).

### 3.3.12 Outil de test Wizard

L’outil WIZARD simule un LPS appelant le DMP. Il appartient au patrimoine de tests et doit être repris par le Titulaire pour TMA/MCO, accompagnement des testeurs Cnam et complétion des cas de test. Documentation en annexe MESDMP_Annexe_34_DMP_WIZARD_Documentation.

## 3.4 Présentation du périmètre technique DMP

### 3.4.1 Présentation générale de l’architecture du DMP

Vision globale du DMP et de ses interactions avec systèmes partenaires.

#### 3.4.1.1 DMP - Interfaces externes

(Schéma Archi‑03 résumé) Le DMP interagit avec Usagers, PS, MES, AmeliPro, MOE/MOA CNAM, Envoi Mails/SMS, Service INSi, Horodatage des traces, SI‑VAC COVID, RASS, Thesorimed, ProSanté Connect, Alimentation HR. Les flux (numérotés) précisent origine, type et déclenchement (entrant/sortant, unitaire/masse).

Tableau flux (résumé) :  
1 Usagers – portail patients décommissionnable (entrant).  
2 PS – portail PS / WebPS (entrant).  
3 MES – pilotage créations, API documents, coordonnées, événement dépôt (entrant/sortant).  
4 MOE/MOA/Etc. – accès statistiques anonymisées (~2570 utilisateurs) (entrant).  
5 Envoi Mails/SMS – sorties de communication (sortant).  
6 Service INSi – vérification identifiant national (sortant).  
7 Horodatage traces – preuve des traces (sortant).  
8 SI‑VAC – dépôts vaccins par lots (entrant).  
9 RASS – référentiel acteurs santé (sortant).  
10 Thesorimed – nomenclatures médicaments (sortant).  
11 ProSanté Connect – authentification OIDC PS (sortant).  
12 Alimentation HR – dépôts remboursements en masse (entrant).  
13 AmeliPro – alimentation/consultation documents via APIPRO (entrant).

#### 3.4.1.2 Composants Internes

Le DMP se compose de sous‑systèmes applicatifs (SSA) : SI Portail, SI Pilotage, SI DMP, Visiotrace, sécurité/technique, annuaires/référentiels, VacciCovid, création automatique, gestion HR BDD, etc. (schéma Archi‑04 résumé).

SSA « SI Portail » : composants pour publier contenu éditorial/documentaire sur le portail DMP (https://www.dmp.fr/).  
SSA « SI DMP » : composants gérant tous les documents du DMP, APIs pour LPS, IHM PS pour alimentation/consultation.  
SSA « SI Pilotage » : dispositifs BI pour produire indicateurs-clé des usages DMP.

### 3.4.2 Présentation détaillée de l’architecture du DMP

Annexe MESDMP_Annexe 13 contient le détail architecture applicative et composants (liste exhaustive reprise succinctement) : SI Portail, SI Pilotage (CO‑SI PIL, CO‑ElasticSearch, CO‑Chargement), Socle DMP (CO‑WebPS, CO‑SOCLE, CO‑Batchs, Stockage Objet), Visiotrace (CO‑VisioTrace), API (CO‑APIsation, CO‑API Management, CO‑API PRO), mésusages, annuaires/référentiels, VacciCovid, création automatique, gestion HR BDD, sécurité/CO‑Archivage SAE, HSM, etc.

### 3.4.3 Architecture Technique du DMP

#### 3.4.3.1 Présentation générale de DMP

Infrastructure de stockage et réplication : deux datacenters en région lilloise (DC1 primaire actif, DC2 secondaire PRA), cloud privé compute, stockages bloc/fichier/objet répliqués, équipements mutualisés et dédiés (firewalls, WAF, équilibreurs), VMWare, HSM, réplication via Snapmirror/StorageGrid.

Réseau : LAN, WAN MPLS, Internet ; services de réplication et filtrages en DC1/DC2.

#### 3.4.3.2 Présentation détaillée de DMP

##### 3.4.3.2.1 Les environnements

Deux types : production et hors‑production. Hors‑production sur datacenter primaire seulement (non intégrés au PRA). Production a infrastructure dédiée.

##### 3.4.3.2.2 Les éléments réseau et sécurité

Équipements principaux : Big IP F5 DNS GSLB (routage/équilibrage mutualisé), Firewall Cisco ASA (DMZ front, dédié DMP, HA), Checkpoint (middle/back), Big IP F5 ASM (WAF), LVS/HaProxy (équilibrage), HSM Trustway Proteccio (HA primaire, 50% en PRA). Segmentation VLAN fine, filtrage inter‑VLAN, plages IP 10.42., 10.35., ~15 VLAN applicatifs en production (non étendus entre DC).

##### 3.4.3.2.3 Les éléments de calcul

Chaque DC dispose d’un cluster ESXi, serveurs physiques/VM ; environ une centaine de VM en production au primaire. Cluster Oracle RAC 2 nœuds (16 cores/224 Go RAM par nœud), stockage SAN 40 To, réplication DataGuard passive sur secondaire.

##### 3.4.3.2.4 Les éléments de stockage

Stockages en DC primaire/secondaire :  
- Bloc (HPE Primera A650) capacité utile 130 To (consommation fin 2023 ≈50 To, croissance 15 To/an).  
- Fichier (NetApp FAS) 140 To utile (consommation fin 2023 ≈40 To, croissance 10 To/an).  
- Objet (StorageGrid/Webscale NetApp) 470 To utile (consommation fin 2023 ≈250 To, croissance 50 To/an).  
Réplication assurée par NetApp/StorageGrid.

##### 3.4.3.2.5 Les éléments de sauvegarde

Sauvegarde primaire sur infrastructure mutualisée. S3 (objet) sauvegardé via solution Point. Oracle‑RAC – RMAN + CommVault ; MongoDB – CommVault ; SAE – SnapVault NetApp.

## 3.5 Evolution et convergence MES DMP

### 3.5.1 Convergence entre MES et le DMP

Besoins inclus dans P3 – Conv : mise en place d’une convergence progressive MES/DMP en tirant parti des ressources, enrichissements durant convergence (pas d’interruption d’évolution visible), continuité de service pendant migration, décommissionnement progressif du Web DMP une fois la solution remplaçante opérationnelle et utilisée par les PS.

### 3.5.2 Besoins d’évolution du système MES DMP

#### 3.5.2.1 Feuille de route du numérique en santé 2023-2027

Ambition 2023‑2027 : intégrer Mon espace santé (MES) au quotidien des citoyens. Développer le Bouquet de services aux professionnels (BSP) pour généraliser les usages patients et PS via APIs intégrées aux logiciels métiers et portail BSP. Après généralisation S1 2022, objectif d’augmentation massive d’usage (ex. récupération systématique de documents, partage d’ordonnance, suivi enfants). À la date de rédaction >93% des citoyens ont un profil MES, 13% se sont connectés une fois — il faut développer l’activation et la rétention, notamment pour pathologies chroniques et familles. MESDMP doit se conformer aux évolutions Espace de Confiance MSSanté.

Évolutions prévues : carnet de santé enfant, prévention personnalisée, consultation d’images radiologiques (DRIM‑M), délégation d’accès à un aidant, amélioration des préférences d’accès, exploitation des historiques de remboursements et documents structurés, etc. Données alimentées pourront servir aux recommandations personnalisées (avec droit d’opposition), et MES s’ouvrira progressivement aux services tiers référencés via catalogue (interopérabilité, éthique, conformité, sécurité).

RSE, éco‑conception et accessibilité (Eco‑score, RGAA) intégrées au développement. Exploitation des données pour usages secondaires (recherche, pilotage) à travailler dans cadre juridique.

#### 3.5.2.2 Les besoins du métier au-delà des fonctionnalités

Le Titulaire doit compléter le dispositif organisationnel pour accompagner l’évolution MES‑DMP en répondant aux axes suivants.

##### 3.5.2.2.1 Continuité de service et disponibilité

MES‑DMP dessert grand public et PS ; qualité de service élevée exigée (peu d’incidents, RTO courts, haute disponibilité, minimisation indisponibilités programmées). Les indisponibilités impératives doivent être planifiées sur plages peu impactantes ; Titulaire doit fournir organisation et outils pour répondre dès l’initialisation et pendant convergence. Indicateurs de disponibilité listés au §6.2.3. Acteurs externes (ex. GIE SESAM‑Vitale) doivent être informés des indisponibilités programmées.

##### 3.5.2.2.2 Supervision et communication sur incidents

Supervision métier + technique/applicative requise, vue utilisateur final. Processus de communication pour acteurs impliqués (support N1/N2, communication institutionnelle, accompagnement terrain CPAM/ARS). Ces acteurs sont nombreux.

##### 3.5.2.2.3 Gestion de l’innovation et de l’écoute client

Titulaire doit : maintenir dispositif continu de retours utilisateurs, tester améliorations/pré‑versions, suivre adoption ; détecter services innovants favorisant activation/usages ; proposer méthodes/outils pour connaissance client (panels, métriques, outils). Proposer organisation, veille fonctionnelle/technique, modalités d’analyse (tests, faisabilité, coût, estimation usages), modalités juridiques/financières d’intégration de services tiers, articulation avec feuille de route MES, et évaluation d’adoption.

##### 3.5.2.2.4 Pilotage / statistiques

Suivi usages et parcours essentiel ; deux systèmes de pilotage actuels (MES et DMP) à maintenir pendant convergence. Titulaire propose modalités pour produire indicateurs consolidés, outils nécessaires, et cible pour gestion données d’usage intégrant : enrichissement rapide d’indicateurs, production automatisée de tableaux de bord, restitution adaptée selon besoins (macro, terrain, parcours), outils utilisables par non‑experts, technologie éprouvée. Continuité webanalytics (AT Internet, Commanders Act) à assurer (licences Cnam, plan de taggage, tableaux de bord). Continuité production livrables (infographies, analyses) attendue.

##### 3.5.2.2.5 Conception basée sur la donnée et observation des usages

###### 3.5.2.2.5.1 Evolution des Personas et études utilisateurs

Personas MES évolutifs et complétés selon apprentissages ; nouveaux personas prévus (tranches d’âge, prévention personnalisée).

###### 3.5.2.2.5.2 Expérience utilisateurs / tests utilisateurs

Communauté d’usagers recrutée pour retours (questionnaires, focus groups). Titulaire doit constituer panels récurrents, fournir outils (recherche utilisateur, tests d’utilisabilité, design collaboratif type Figma, outils d’étude comme glean.ly, gestion questionnaires type Eval&Go ou équivalents) et récupérer connaissance existante.

##### 3.5.2.2.6 Conception agile

###### 3.5.2.2.6.1 Conception incrémentale

Approche agile, itérative, centrée sur MVP, intégration cohérente au produit existant, minimisation duplication de fonctionnalités. Toute évolution doit inclure analyse d’impact sur SI Pilotage, portail support, etc. Rythme d’évolution court pour APIs et produits.

###### 3.5.2.2.6.2 Delivery agile à l’échelle

Organisation des chantiers très coordonnée ; Titulaire doit proposer convergence organisationnelle, stabilité des équipes et capacité d’adaptation systémique aux phases (initialisation, convergence, croisière).

###### 3.5.2.2.6.3 Validation / recette

Qualité logicielle essentielle pour confiance usagers et maîtrise du support N1. Titulaire doit mettre en place organisation de validation (recette agile), automatisation tests, tests bout‑à‑bout multi‑systèmes, et modes d’organisation pour réduire délais et risques entre besoin et mise en service.

###### 3.5.2.2.6.4 Déploiement continu

Titulaire doit automatiser déploiements sur environnements nombreux (dev, tests, intégration, E2E, éditeurs, opérateurs MSS, démo), limiter opérations manuelles, sécuriser délais. Mettre en place canary releases pour déploiements ciblés et pilotés (critères géographiques, âge, canal, volontariat, etc.).

##### 3.5.2.2.7 Administration

Titulaire doit proposer outils et organisations pour administration découplée du delivery. Principaux champs : CMS, gestion réseau éditeur, comptes tests/démonstration, gestion accès SI Pilotage.

###### 3.5.2.2.7.1 Content Management System (CMS)

CMS attendu pour gérer intégralement contenus MES/DMP, avec planification/automatisation de diffusion, prévisualisation, ciblage selon segmentation, interface user‑friendly (pas de HTML requis), gestion multimédia, gestion multi‑acteurs (hiérarchie droits), administration SEO/metadonnées. Idéalement une plateforme d’expérience digitale pour personnalisation.

###### 3.5.2.2.7.2 Autres besoins d’administration

Environnement Editeur évolue pour référencer services tiers, permettre DMP‑compatibilité éditeurs, tests opérateurs MSS, et proposer environnements de démonstration/test, gestion comptes fictifs, jeux d’essais et bouchons techniques, gestion accès CMS/SI Pilotage.

##### 3.5.2.2.8 Accompagnement technico‑organisationnel

###### 3.5.2.2.8.1 Accompagnement RGPD

Titulaire doit fournir accompagnement RGPD/AIPD, suivi travaux, conseils juridiques techniques, mise à jour documentation RGPD au fil des versions et pour le système convergé, sous pilotage des services juridiques Cnam.

###### 3.5.2.2.8.2 Accompagnement au référencement et événements

Titulaire doit accompagner gestion du catalogue de services référencés, support aux éditeurs pour accrochage technique (coordination GIE SESAM Vitale), participation/organisation d’événements (conférences, hackathons) et prise en charge accrochage technique jusqu’au succès.

#### 3.5.2.3 Prévision des futurs besoins fonctionnels

Liste non exhaustive d’évolutions potentielles à réaliser pendant l’accord‑cadre. Si mise en œuvre antérieure, constituera patrimoine à faire évoluer.

##### 3.5.2.3.1 Identification/Enrôlement/cohérence identités PS

Fonctions prévues : enrôlement mineurs (gestion droits responsables légaux), nouveaux nés (récupération données, opt‑out représentants légaux), nouvelles campagnes d’enrôlement, gestion NIA (N° provisoire pour populations AME), enrôlement populations particulières (aidants/tutelles), enrôlement via FranceConnect (niv. eIDAS selon sécurité), opt‑in via appli carte Vitale, relance activations ciblées, obtention INS pour réconciliation identité via INSi.

##### 3.5.2.3.2 Authentification

Fonctions : FranceConnect+ (eIDAS2/3 sans facteur complémentaire), TOTP comme MFA pour MES, amélioration du parcours biométrique (mobile, Mac/PC), authentification via application Carte Vitale (ApCV).

##### 3.5.2.3.3 Gestion des comptes

Permettre réception d’événements pour évolutions données administratives (y compris date de décès) et évolutions liées à la gestion AM (coordonnées), via abonnement / mode événementiel si nécessaire.

##### 3.5.2.3.4 Consentements

Gérer consentements pour partage de données non anonymisées avec tiers (ex. HDH, OpenAI, SPF, INSERM), partage de données anonymisées de masse sans consentement, choix sur réutilisation secondaire, rendre préférences consommables par API pour éviter ré‑expression des choix.

##### 3.5.2.3.5 Délégation d’accès à un tiers professionnel

Permettre au professionnel (ex. médecin traitant) de déléguer un accès à un autre professionnel via MES BSP, en transparence et contrôle du titulaire.

##### 3.5.2.3.6 Expérience utilisateur, ergonomie et facilité d’utilisation

Fonctions : site multilingue (non‑francophone), accès BSP via portail Sesali pour PS européens sans contrôle d’identité externe, permettre au patient de pro‑activement autoriser l’accès d’un professionnel ou répondre à une demande d’accès notifiée.

##### 3.5.2.3.7 Services tiers en santé et bien‑être

Fonctions : versionning des API pour éditeurs référencés, API client de messagerie citoyenne pour applications catalogue MES, API BSP équivalentes pour solutions professionnelles (complément aux existantes).

##### 3.5.2.3.8 Gestion du site MES et sites institutionnels

Fonctions CMS détaillées : ergonomie, planification/automatisation diffusion, prévisualisation, affichage segmenté, interface user‑friendly, gestion multimédia, multi‑acteurs, adaptation device, amélioration référencement naturel.

##### 3.5.2.3.9 Gestion des documents

Fonctions : alimentation automatique MES enfant par PS, récupération données à la naissance (depuis DPI mère), exploitation formats structurés (CDA R2 N3) pour catégories MES, charger données en bases, moteur de recherche documentaire (mots‑clés), suppression/modification titres par usager ou PS, actions unitaires/massives par opérateur Cnam selon cadre juridique (remplaçant rôle Médecin Hébergeur), gestion fraîcheur des données (purge/archivage), accélérer affichage HR (actuel 48h), augmenter profondeur historique HR (au‑delà 12 mois).

##### 3.5.2.3.10 Profil médical et habitudes de vie

Fonctions : collecte via questionnaires intégrée aux bases MES (profil médical/habitudes), gestion signature patient pour certains actes (don d’organe, fin de vie), évolution catégories, mise à disposition possible de données anonymisées/pseudonymisées pour usages secondaires si loi l’autorise.

##### 3.5.2.3.11 Parcours de prévention

Fonctions : parcours de prévention personnalisé (si loi l’autorise), campagnes prévention selon activité professionnelle, parcours sociaux, données environnementales.

##### 3.5.2.3.12 Agenda

Fonctions : intégration agendas à programmes/études, articulation avec parcours prévention, représentation UX type « ligne de vie », accès professionnels via API agenda (coordination, DAC, CPTS…).

##### 3.5.2.3.13 Messagerie

Fonctions : messagerie instantanée entre usager et acteurs (PS, support) avec conditions d’implémentation, périmètre destinataires pouvant s’appuyer sur sources externes (cercle de soins, médecin traitant, blacklist, historique remboursements).

##### 3.5.2.3.14 Bibliothèque de contenus personnalisés

Mettre à disposition une bibliothèque de contenus personnalisés (articles, vidéos sous réserve écoresponsabilité, quiz) pour les usagers.

##### 3.5.2.3.15 Accompagnement de la communauté

Actuellement Eval&Go utilisé pour questionnaires ; solution doit permettre gestion questionnaires complexes, segmentation participants, tests utilisateurs, analyses premières, croisement réponses, invitations par courriel et mise en page aux couleurs MES.

Méthodes/outils d’écoute client et profils pour accompagner précisés dans l’offre du Titulaire.

##### 3.5.2.3.16 Communication sortante aux détenteurs de Mon Espace Santé

Notifications automatiques e‑mail/SMS pour actions tierces (nouveau document, message), codes provisoires, partages, interactions support ; contenu notifications modifiable lors des mises en production. Outil de campagnes e‑mailing nécessaire pour communications promotionnelles/informationnelles (newsletter, messages pouvoirs publics).

Fonctions attendues : campagnes ciblées selon critères bases MES, suivi statistique des campagnes (ouvertures, clics, bounces).

##### 3.5.2.3.17 Support

Alimenter la GRC Cnam (usager avec ou sans MESDMP actif) pour faciliter réponses support.

##### 3.5.2.3.18 SI Pilotage

Fonctions attendues : vue consolidée transverse MES/DMP, renforcement sécurité et traçabilité connexions, indicateurs Usage RNIAM (régime, caisse, centre, statut, Nb ENS), indicateurs Usage Notifications (template, type, date, canal), indépendance Cnam sur accès SI PIL DMP, indicateurs pilotage support à froid (détails appels, formulaires, motifs, volumes, niveaux de support). Ces listes sont indicatives et non exhaustives.
3.5.3 Métriques de MESDMP

Indicateurs d’usage actuels :

    66 M comptes créés
    8,7 M comptes activés
    200 000 activations/mois

        400 000 visiteurs hebdo

Dimensionnement minimal visé :

    250 M documents/an alimentés par des pros d’ici fin 2023 ; 400 M/an d’ici fin 2026.
    1 M de patients préparant un bilan de prévention dans Mon espace santé d’ici 2027.

        100 applications référençées échangeant avec Mon espace santé d’ici fin 2026.

Accès pro au dossier = enjeu central (vague 2 du Ségur numérique) : poursuivre l’amélioration des fonctionnalités pour un accès fluide et ergonomique, via portail DMP et intégration directe dans les logiciels métiers (synthèses, prescriptions, biologie, profil médical, etc.), crucial en urgence.

Objectif d’usage pro : >50 % des médecins en activité doivent consulter au moins une fois le profil Mon espace santé d’un patient par an d’ici fin 2026.

Objectifs COG (part d’activations MES activés) :

    2023 : 20 % ; 2024 : 30 % ; 2025 : 40 % ; 2026 : 50 % ; 2027 : 60 % (totalité sur 7 ans).

DMP alimentés par ≥1 document :

    2023 : 35 % ; 2024 : 45 % ; 2025 : 55 % ; 2026 : 65 % ; 2027 : 75 %.

Volumétrie SI : cf. §7.4 « P2 - PSE – Hébergement ».
3.6 Architecture envisagée à 3 ans (MES + DMP = MESDMP)
3.6.1 Architecture envisagée à 3 ans MESDMP – Vision convergence interne

Vision cible 3 ans décrivant les transformations couvertes par l’accord‑cadre.

Le MESDMP fourni après reprise est formalisé par deux schémas : architecture applicative simplifiée et architecture technique simplifiée, montrant évolutions applicatives et techniques du scénario de reprise.

Objectifs principaux : faire converger DMP et MES en un SI MESDMP et faciliter la circulation de l’information entre Professionnels et Usagers via le concept de Ressources Partagées.

Définition synthétique d’une Ressource Partagée : donnée partagée Pro/Usager modélisée en « ressource » ROA (autonomie, agnostique métier, RESTful, etc.).

Critère clé : mise en œuvre d’un Contrôle d’Accès prenant en compte la sécurité pour les deux populations (Professionnels et Usagers), pas seulement les contraintes du SI hébergeur.

Le CARP doit consolider consentements/délégations des usagers et habilitations/délégations des professionnels (ex. PS remplaçant).

Axes de convergence (synthèse) :

    Axe fonctionnel : mutualisation des fonctions communes.
    Axe applicatif : rationalisation des applicatifs, migration d’un SI DMP monolithique vers un style MES orienté ressources & microservices ; mise en œuvre des Ressources Partagées.
    Axe technologique : homogénéisation de la stack de développement. Convergence d’hébergement/infrastructures : stratégie décrite dans l’offre du Titulaire.

Clés de lecture de la vision 3 ans : résultante des phases Reprise + Convergence + certaines évolutions anticipées ; lots indiqués CX.Y (X = priorité, Y = n° lot) ; indicateur R = reprise anticipée ; composants sans indicateur = améliorations possibles.

Proposition d’architecture (synthèse de l’image) :

    Vue d’ensemble : SIM centré sur interactions pros, usagers, services tiers via API et ressources.
    Entités : Professionnels (IHM/API), Usagers (IHM Web/Mobile), Services tiers (messagerie, support).
    IHM : IHM institutionnel, IHM Web/Mobile, portail éditeur.
    API : API Santé Usagers, API Santé PS, API Historique de Soins, API Imagerie, API Mesures, API Document.
    Ressources : identités, consentements, profils, documents, carnets de vaccination, épisodes de soins, mesures, index imagerie.
    Fonctions transverses : médiation & access management, broker messages, CMS, comm’ sortante, supervision, KPI, traçabilité/sécurité.
    Interactions : exposures via API/IHM, intégration aux logiciels métiers, accès synthétique aux données structurées.

NB : SI CNAM simplifié pour le CCTP (fig. Archi‑05).

Description des évolutions à opérer en 3 ans (lots principaux) :

    C1.1 : Fonctions transverses essentielles, CARP, site institutionnel, suppression du Socle DMP.
    C1.2 : Suppression SGBD Oracle.
    C1.3 : Dispositif de communication sortante.
    C2.1 : Système de pilotage.
    C2.2 : Stratégie de chiffrement.
    C3.1 : Décommissionnement de webPS.

IHMs BSP :

    Reprise/adaptation du site institutionnel dmp.fr.
    Reprise/adaptation transitoire d’IHM webPS par le Titulaire jusqu’à intégration dans des IHM webBSP ; possibilité d’IHM webPS transitoires découplées du Socle DMP.

API Santé PS (synthèse des exigences) :

    Exposition via dispositifs de médiation (API Management/REST, médiation SOAP).
    Favoriser REST et standards FHIR / CI‑SIS quand pertinent.
    Possibilité de ressources agrégées (ex. suivi enfant).
    Façade SOAP de rétrocompatibilité pour décommissionner API V2 SOAP.
    Création d’API V3 REST pour ressources : Document, Carnet de Vaccination, Histoire de Soins, Ordonnance Numérique, Consentement Patient, Mesures Médicales, et autres nouvelles ressources nécessaires.

Ressources Partagées (créations prévues, CARP requis) :

    Documents : consolidation/adaptation des API Pro/MES existantes vers CARP.
    Carnet de Vaccination : structuration comme ressource (liste de lignes).
    Episodes de Soins : µservice sur gisement NoSQL déplacé vers Ressources Partagées.
    Mesures Médicales : adaptation/reprise du gisement MES.
    Index Images Médicales.
    Ordonnance Numérique : transformation en ressource partagée + API BSP pour cette ressource.
    Données Référentielles (ex. RASS), Données de Nomenclature (Thesorimed).
    Passage sur SGBD open source pour index Documents.
    … et nouvelles ressources au besoin.

MES – API et Ressources Usagers (synthèse) :

    Push des stratégies d’accès en provenance de MES.
    API Santé Usagers pour Carnet de Vaccination, Ordonnance Numérique, Index Imagerie, etc.
    Passage des Mesures Médicales en ressources partagées (séparer mesures « Quantify Yourself »).
    Exposition du statut d’existence de MES.
    Adaptation/exposition de la ressource « consentement » pour BSP (nouveaux usages : ex. médecin du travail).
    Évolutions d’enrôlement MES : éligibilité, génération/contrôle code d’enrôlement, notification d’information initiale.
    Support N2/N3 adapté et extension du domaine de support aux PS.
    IHM Web/Mobile : prise en compte des nouveaux usages.

Socle des fonctions Transverses (synthèse) :

    Création CARP (accueil push stratégies MES/BSP, intégration matrice d’habilitation DMP).
    Échanges de fichiers (SFTP/CFT).
    Médiation (REST & SOAP) + Access Management.
    Broker de messages fiable pour architecture µservices.
    CMS centralisé pour contenu rédactionnel.
    Système de comm’ sortante (SMS, mails) ; édition papier via Editique DSS.
    Supervision et alerting.
    Système de pilotage KPI (BI).
    Traçabilité & mésusages (RGPD, sécurité, réquisitions).
    Chiffrement central.
    Outillage Back‑Office support N2/N3 interfacé au PSN1.

3.6.2 Architecture envisagée à 3 ans de MESDMP – Vision interactions externes

Schéma consolidé des interactions MES + DMP (synthèse) :

    DMP : webPS, portail patients, pilotage, API PRO.
    MES : PACS, portail éditeur, APIs, front users.
    Services INSI : SI‑VAC COVID, alimentation HR.
    Applications eSanté référencées : apps utilisateurs.
    Entités/roles clés : médecins hébergeurs, MOE/MOA CNAM, MOE/MOA GIE SV, éditeurs, usagers, support N1/N2, admin MES.
    Interfaces externes : horodatage, envois mails/SMS, France Connect, DINum, ProSanté Connect, RASS, Thesorimed, CNAM services.
    SI partenaires (EFS, CNOP Sang, data.gouv), SI ANS, SI CNAV interconnectés. Le schéma indique les flux et catégories d’interactions (nouvelles, partenaires, impactées). (fig. Archi‑06 / Archi‑07)

Vision consolidée indicative : détail d’implémentation finalisé après instructions d’architecture et sécurité lors de la phase de Convergence.
4 Présentation générale de l’accord-cadre
4.1 Objet et forme de l’accord-cadre

L’accord‑cadre couvre les prestations (cf. §7) :

    P1.1 Pdc_Init : Prise de connaissance et initialisation (§7.2)
    P1.2 Rep : Reprise de l’existant (§7.3)
    P3 Conv : Convergence MES et DMP (§7.5)
    P4 Trans : Transverse (§7.6)
    P5 Run_MCO‑S : Run, MCO et MCS (§7.7)
    P6 NIS2 : Homologation NIS/NIS‑2 (§7.8)
    P7 SMS_Mail : Run SMS et Mail (§7.9)
    P8 Rév : Réversibilité (§7.10) Si la Cnam retient la PSE (§7.4), l’hébergement MESDMP chez le Titulaire (P2) est aussi couvert.

Structure contractuelle :

    Tranche ferme : prestations forfaitaires listées ci‑dessus + prestations à bons de commande (§7.10, §7.11). Hébergement PSE en tranche ferme si retenu.
    Tranches optionnelles : To1 (hébergement interne), To2 (MCO/MCS 24/7 y compris jours fériés). To2 affermissable plusieurs fois avec préavis 3 mois, durée minimale 12 mois.

Prestations réalisées selon modalités d’organisation et exigences du CCTP.
4.2 Lieux d’exécution des prestations

Le Titulaire assure logistique et réalise prestations dans ses locaux sur ses environnements techniques ; accès aux environnements hébergés par la Cnam via connexion sécurisée à la charge du Titulaire.

Présence possible sur sites Cnam ; réunions/ateliers sur plateaux communs (physiques/virtuels). Déplacements nationaux occasionnels.

Implantations principales : Paris ; Lyon/Grenoble/Valence ; Angers/Nantes ; Valenciennes ; Clermont‑Ferrand, Evreux, Lons‑le‑Saunier, Quimper, etc.

Accès distant pour personnels Cnam et prestataires via VPN Cnam ou propre VPN du Titulaire.
4.3 Livraison / Validation et admission des prestations

Modalités de livraison :

    Toute livraison accompagnée d’un Bordereau récapitulatif de Livraison (BRL) listant livrables et date ; signé par Titulaire et contresigné par la Cnam.

Validation/admission :

    La Cnam est seule habilitée à vérifier/admettre les prestations ; modalités définies dans le CCTP/PAQ.
    Vérifications quantitatives et qualitatives (conformité moyens, prestations, conformité à la politique de sécurité).
    Délais de vérification propres à chaque livrable (PAQ) ; relivraison reconductible ; retard imputable calculé en jours calendaires cumulés.
    Décision d’admission matérialisée par un PV signé par la Cnam.

5 Cadre organisationnel
5.1 Principes et responsabilités respectives des acteurs

Organisation en équipes mixtes Cnam/Titulaire ; Cnam participe activement au pilotage, fournit exigences sécurité/confidentialité et garde droit d’auditer.

Engagements principaux du Titulaire (synthèse) :

    Réaliser, héberger (si applicable), exploiter et maintenir MESDMP interfacé au SI CNAM avec niveaux de sécurité et performance contractuels ; obligation de conseil.
    Fournir solution opérationnelle avec engagements de performances et services conformes au CCTP.
    Qualifier techniquement et fonctionnellement le dispositif, coordonner intégrations bout‑à‑bout, et donner visibilité totale sur tests (stratégie, couverture, automatisation >80% attendu, preuves).
    Produire/maintenir la production et la sécurité opérationnelle ; inclure les équipes Cnam dans workflows d’anomalies/incidents.
    Maintenir dictionnaire exhaustif des données, AIPD à jour, documentation complète et plan de réversibilité.
    Assurer support aux acteurs externes (éditeurs) pour environnements hors prod, ouverture flux, habilitations, comptes fictifs, remontées, etc.

5.2 Organisation des équipes

Organisation cible :

    Direction Programme co‑animée Titulaire/Cnam.
    Direction Produit mixte.
    Direction Services mixte : cellule technique, cellule projet, cellule suivi production/support, feature teams mixtes.
    Feature teams pluridisciplinaires (PO, PPO, BA, UX, Scrum, Dev).
    DT (Direction Technique) et DA (Design Authority) responsables de la cohérence technique/architecturale et de la DAF/DAL/ADR.

Rôles clefs : Product Manager, Product Owners, développeurs agiles, CTO, architecte référent, experts (logiciel, réseaux, sécurité, cloud).

La Cnam reste MOA/MOE ; le Titulaire conserve la responsabilité pleine du service et du delivery.
5.3 Méthodologie de développement

Méthode : agile (SAFe‑like) privilégiée ; cycle en V possible par exception.

Organisation et rythme :

    Processus en 8 étapes (cadre → instruction → conception → engagement → implémentation → qualité → mise en service → gestion).
    PI (Product Increment) de 2–3 mois, sprints de 2–4 semaines.
    Rythme actuel : release trimestrielle (PI), version majeure mensuelle, version mineure hebdomadaire ; objectif d’un rythme équivalent pour composants DMP.

Principes clés :

    Priorisation selon valeur ; livraisons fréquentes ; timebox ; date immuable.
    Engagements : couverture tests automatisés élevée, reporting, transparence, plateforme DevSecOps pour CD/CI.
    Capacités feature teams : engagement ≥80% ; ≤20% du temps sur correctifs applicatifs (MCO), décroissant dans le temps.
    Mécanisme trade‑in/trade‑out pour ajuster périmètre sans délai/surcoût.
    Outils : Jira, Confluence, tableaux Kanban, indicateurs vélocité/qualité accessibles à la Cnam.

Recette et qualité :

    Pas de VSR régulier après MEP ; validation finale du PI après période de vérification (délai PAQ, min 1 mois).
    Conditions d’acceptation : livrables acceptés, pas d’anomalie bloquante, <3 anomalies graves entre 1ère MEP et validation finale.
    Tests automatisés requis (Web, Mobile, API) ; tests exploratoires automatisés ensuite.
    Plateforme d’intégration continue obligatoire ; tests devices sur réseau privé.
    Outil d’audit de code automatisé obligatoire ; métriques minimales : complexité cyclomatique, duplication, couverture tests, couplage. Si seuils non atteints, correction à la charge du Titulaire.

Cadrage et estimation :

    Cadrage piloté par la Cnam (bon de commande) ; planning poker pour estimation stories points ; catalogue de référence.
    Chaque story doit contenir les conditions du « fini » (acceptance) et documentation produit maintenue (spécifications, architecture, tests, sécurité, RGPD).

Agilité à l’échelle :

    Coordination multi‑équipes assurée par le Titulaire (SAFe‑like : PI planning, etc.).
    Mise en place d’équipes ad hoc et renforts par tech leaders si nécessaire ; recouvrement obligatoire en cas de changement d’intervenant.

Effectifs (fin 2023) :

    MES : 11 feature teams (7 medium, 4 large).
    DMP : environ 32 ETP (spécifs, dev, tests).
#### 5.3.1.12 Exigences

Outre les exigences définies dans les unités d’œuvre, le Titulaire respecte les exigences spécifiques suivantes :

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| **EXG_EVO_0.1** | L’engagement d’une feature team à réaliser les user story inscrites au PI doit porter sur au moins 80% de sa capacité.<br>Chaque Feature Team ne doit pas consacrer plus de 20 % de sa capacité aux correctifs (MCO), toute charge supérieure à ces 20% est considérée comme de la non-qualité et doit être traitée par le Titulaire, dans les délais initialement impartis et sans surcoût pour la Cnam.<br>Les US d’un sprint engagé, non finalisées, sont reportées au sprint suivant sans surcoût. |
| **EXG_EVO_0.2** | Par Feature Team, si les users story qui ont fait l’objet d’un engagement ne sont pas réalisées à au moins 80%, la partie non réalisée doit être réalisée sur le PI suivant en sus de l’engagement nominal. Le Titulaire prend les mesures nécessaires pour renforcer l’équipe à ses frais pour prendre en charge ces US non réalisées. |
| **EXG_EVO_0.3** | Si les résultats de l’audit de code n’atteignent pas les niveaux minimums exigés, le Titulaire s’engage à produire, à ses frais, un nouveau code respectant les niveaux de qualité exigés. Un outil d’audit de code automatisé doit être fourni et mis en œuvre par le titulaire et doit être un livrable avant Mise en production. |
| EXG_EVO_1 | La transparence nécessaire doit se traduire par un accès permanent aux indicateurs et informations du projet, aux activités en cours et à leurs avancements : sprint, release, backlog produit, stories, indicateurs de vélocité et de qualité. |
| EXG_EVO_2 | Dans ce cadre des développements, le seuil minimal attendu pour la couverture de tests automatisés est de 80%. |
| EXG_EVO_3 | L’offre du titulaire décrit le fonctionnement du delivery en cible. Le Titulaire illustre le fonctionnement avec un exemple pour un projet d’une échelle de 100 équipiers dédiés au build, précisant :<br>- Les différents points d’entrées des épopées, epics, storys (quels acteurs, quelles conditions d’acceptances selon leur point d’entrée)<br>- Les différences étapes de traitement des épopées, epics, storys, de leur genèse jusqu’à leur sortie du delivery (quel workflow de traitement)<br>- Pour chaque étape du workflow proposé,<br>1. Quelle condition d’acceptance pour entrer dans l’étape du worflow<br>2. Quels acteurs et à quelle hauteur (% de charge estimé pour chaque acteur par rapport à l’ensemble de ses activités),<br>3. Quelle DOD pour pouvoir passer à l’étape suivante,<br>4. Quel pilote/instance en surveillance du bon fonctionnement de l’étape ?<br>- Quel pilotage plus global du process delivery (au niveau des différentes entités du projet et en transverse) ?Le Titulaire décrit l’ensemble des indicateurs de pilotage proposés pour sécuriser le bon déroulement du delivery depuis la roadmap annuelle produit jusqu’à l’implémentation opérationnelle. Les indicateurs doivent être clairs et précis pour ne pas être interprétables. Ils doivent être mesurables simplement à travers les outils et accessibles en temps réel pour permettre :<br>- Une visibilité partagée sur la tenue du plan et sa déclinaison efficiente,<br>- Un pilotage du bon déroulement des activités des différentes entités du delivery<br>- Une mise sous surveillance des principaux facteurs de risques pour l’activité delivery (sous charge, sur charge, qualité des entrants, prévisibilité de l’activité, ...) |

### 5.3.2 Méthodologie de projet Cycle en V

Par exception, la Cnam se réserve la possibilité de mettre en œuvre un mode projet en cycle en V. Les exigences de chaque activité sont décrites dans les paragraphes suivants.

En réponse à une demande Cnam de développement cycle en V, le Titulaire communique à la Cnam un état préparatoire à la commande (EPC), sur le fondement des unités d’œuvre prévues à l’accord-cadre, couvrant l’ensemble des travaux nécessaires à la mise en œuvre de la nouvelle version. Ceci couvre le cycle complet de conception, développement, validation, intégration, VA, mise en production et VSR. Les évolutions sont réalisées par le Titulaire dans le cadre de ses engagements en termes de disponibilité, intégrité, confidentialité, auditabilité, exploitabilité et performances.

#### 5.3.2.1 Conception et spécifications

Le Titulaire organise et anime le recueil des besoins permettant de préciser les exigences fixées par la Cnam. Le Titulaire est responsable de la conduite de cette phase, celle-ci devant se conclure par la production de la documentation nécessaire et suffisante au lancement des activités de réalisation de la version.

Cette activité permet également de préparer la recette de la solution et prend en compte les exigences de réversibilité en fin d’accord-cadre.

#### 5.3.2.2 Recette des prestations par la Cnam

Le Titulaire :

- Met à disposition de la Cnam plusieurs environnements de test opérationnels (fonctionnels, sécurité),
- Participe aux comités de pilotage de la recette,
- Assure le maintien en conditions opérationnelles des environnements utilisés,
- Intervient sur les environnements pour effectuer les actions nécessaires au bon déroulement de la recette fonctionnelle (lancement de traitement, réinitialisation d’environnement),
- Prend en compte et corrige les anomalies/incidents remontées par la Cnam.

#### 5.3.2.3 Synchronisation des versions du Titulaire avec les versions de la Cnam

Lors de la réalisation d’une nouvelle version applicative par le Titulaire, une nouvelle version des applicatifs Cnam en lien avec le parc applicatif du Titulaire peut également être réalisée.

Lors de la phase d’étude et du chiffrage d’une version par le Titulaire, le planning précis des deux versions est défini pour coordonner les travaux entre la Cnam et le Titulaire.

Le cycle de vie d’une version au sein de la Cnam est le suivant :

<IMAGE DESCRIPTION START>```markdown
# Processus de Développement et de Mise en Production

## Étapes du Processus

### 1. Cadrage & Définition
- **Cadrage** : Établissement des contours du projet.
- **Instruction** : Détail des instructions et des objectifs.
- **Conception générale** : Élaboration de la conception globale du projet.

### 2. Fabrication
- **Conception détaillée** : Développement des spécifications techniques.
- **Réalisation** : Mise en œuvre concrète du projet.

### 3. Recette
- **Tests Système** : Vérification du fonctionnement du système.
- **Tests Intégration Système** : Validation de l'intégration des différents composants.
- **Préparation recette & bench** : Préparation des tests de recette et des bancs d'essai.
- **Recette fonctionnelle** : Vérification des fonctionnalités du système.
- **Préparation pré-prod** : Préparation pour l'environnement pré-production.
- **Pré production** : Tests dans l'environnement pré-production.

### 4. Production
- **Présérie** : Production d'une série préliminaire pour validation.
- **Généralisation** : Déploiement généralisé du produit.

## Chronologie des Étapes

- **J0** : Début du processus.
- **J0.2** : Instruction.
- **J0.8** : Conception générale.
- **J1** : Conception détaillée.
- **J1.1** : Réalisation.
- **J1.2** : Tests Système.
- **J1.25** : Tests Intégration Système.
- **J1.28** : Préparation recette & bench.
- **J1.3** : Recette fonctionnelle.
- **J1.4** : Préparation pré-prod.
- **J2.0** : Pré production.
- **J2.1** : Présérie.
- **J2.1.3** : Fin VA (Validation d'Acceptation).
- **J2.2** : Généralisation.
- **J2.3** : Fin VSR (Validation de la Solution en Réception).

## Événements Clés

- **Demande validée** : Point de départ du processus, indiquant que la demande a été approuvée.
- **MOM** : Étape intermédiaire, potentiellement un point de revue ou de validation.
- **RUN** : Indication de l'exécution ou du lancement du processus.

## Liens entre les Entités

Le processus commence par la **Demande validée** et progresse à travers les étapes de **Cadrage & Définition**, **Fabrication**, **Recette** et **Production**. Chaque étape est liée à une série de sous-étapes qui doivent être complétées avant de passer à l'étape suivante. Les dates clés (J0, J1, J2, etc.) marquent les points de transition entre les différentes phases du projet. Les événements clés, tels que **MOM** et **RUN**, indiquent des points importants dans le processus, comme des revues ou des lancements.
```<IMAGE DESCRIPTION END>

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_EVO_4 | Lors de la réalisation d’une version, le Titulaire s’engage à mettre des environnements applicatifs opérationnels interconnectés avec les environnements applicatifs de la Cnam à partir de la phase de réalisation J1.1 jusqu’à la phase de pré-production J2.1 comme décrit en 0<br>Exigences Environnements logiciel<br>Lors de la phase d’initialisation de l’accord-cadre, le PAQ et le processus de gestion des changements définissent les modalités de mise à disposition d’environnements applicatifs lors d’évolution du parc Applicatif Cnam en lien avec le parc Applicatif du Titulaire. |
| EXG_EVO_5 | Lors des phases de Bench et de pré-production de la Cnam, les environnements applicatifs interconnectés avec les environnements applicatifs de la Cnam mis à disposition doivent être respectivement de type Bench et pré-production. |

Les travaux réalisés durant les différentes phases sont les suivantes (liste non exhaustive) :

- Réalisation : Cette phase correspond aux développements des demandes d’évolution ou de correction ainsi qu’aux tests unitaires. Le besoin est d’avoir un environnent applicatif permettant de dérouler les cas techniques et fonctionnels en développement
- Test Système : Cette phase correspond à la vérification du package d’installation par le Titulaire en amont de la livraison à la Cnam. Cette phase se déroule sur un environnement Cnam confié au fabricant. Le besoin est d’avoir un environnent applicatif permettant de dérouler les cas techniques et fonctionnels pour s’assurer de la bonne communication entre les modules applicatifs et la bonne exécution de quelques cas passant fonctionnels.
- Test d’intégration Système : Cette phase correspond à la vérification du package d’installation par la Cnam en déroulant la procédure d’installation sur un environnement Cnam spécifique d’intégration. Le besoin est d’avoir un environnent applicatif permettant de dérouler les cas techniques et fonctionnels pour s’assurer de la bonne communication entre les modules applicatifs et la bonne exécution de quelques cas passant fonctionnels.
- Bench : Cette phase correspond au déroulement de test de Bench sur un environnement dédié pour s’assurer de la tenue de la charge de scénario prédéfini et pour identifier le point de rupture du service. Le besoin est d’avoir un environnement de Bench permettant de remplir les objectifs du tir de bench.
- Préparation Recette et Recette fonctionnelle : Cette phase correspond à la vérification d’aptitude de l’application et permet de confirmer les résultats de l’intégration vis-à-vis de l’installation. Le besoin est d’avoir un environnent applicatif permettant de dérouler les cas fonctionnels permettant de valider les attendus fonctionnels.
- Préparation Pré-production et Pré-production : Cette phase correspond à la vérification du package d’installation en condition de production : c'est-à-dire sur un environnement iso-production. Cet environnement Cnam de pré-production aux mêmes spécificités en terme technique mais aussi sécurité. Le besoin est d’avoir un environnent applicatif permettant de dérouler les cas fonctionnels permettant de valider la bonne communication entre les modules applicatifs et la bonne exécution de quelques cas passant fonctionnels.

#### 5.3.2.4 Exigences

Outre les exigences définies dans les unités d’œuvre, le Titulaire respecte les exigences spécifiques suivantes :

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_EVO_6 | Le Titulaire intègre le raffinement des exigences issu de la phase de conception au sein de son outil de suivi des exigences. |
| EXG_EVO_7 | La totalité de la solution doit faire l’objet d’une documentation complète qui doit être livrée à la Cnam avant toute mise en production.<br>Un soin particulier doit être apporté au document décrivant l’architecture Fonctionnelle, Applicative et Technique (« Dossier d’Architecture ») qui doit être contrôlé par la Cnam.<br>Pendant la phase d’étude, la mise à jour du dossier d’architecture constitue un entrant obligatoire au lancement des développements.<br>A ce titre, ce dossier d’architecture doit décrire des éléments compatibles avec le méta-modèle d’architecture de la Cnam permettant son intégration au référentiel d’architecture d’entreprise et à sa cartographie. |

### 5.3.3 Exigences communes aux méthodes Agiles et cycle en V

Outre les exigences définies dans les unités d’œuvre, le Titulaire respecte les exigences spécifiques suivantes :

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_EVO_8 | Le Titulaire développe et paramètre l’ensemble du périmètre applicatif ou, selon la nature de la prestation attendue, met en place l’ensemble des moyens humains et techniques nécessaire. Cette activité intègre aussi notamment :<br>La préparation, la réalisation et la documentation des tests unitaires, sur l’environnement de développement fournit par le Titulaire.<br>La réalisation de l’intégration sur un environnement dédié incluant la préparation, la réalisation de la documentation de la version permettant l’installation et l’exploitation de la solution.<br>La préparation, la réalisation et la documentation des tests de recette du Titulaire comprenant :<br>La recette fonctionnelle de chacune de ces prestations multi-devices ;<br>Des tests de bout-en-bout en cas de réalisation entre un système réalisé par le Titulaire et un système tiers ;<br>Des tests de charge permettant notamment d’attester de la capacité du système à satisfaire les exigences de niveau de service définies pour les prestations de maintien en conditions opérationnelles ;<br>Des tests de non régression. |
| EXG_EVO_9 | Le Titulaire met en place et maintient l’environnement de développement nécessaire à la réalisation de la prestation |
| EXG_EVO_10 | Le Titulaire organise les ateliers nécessaires à la conception du produit : planning, ordre du jour, support de présentation, animation, comptes rendus. |
| EXG_EVO_11 | Le Titulaire réalise les fonctionnalités demandées, conformément aux spécifications validées. |
| EXG_EVO_12 | Le Titulaire apporte son expertise à la Cnam pour la constitution du dossier CNIL en lien avec le périmètre du Titulaire. |
| EXG_EVO_13 | Le Titulaire anime la composante SSI, organise les ateliers et comités nécessaires et rédige les livrables liés tel que le dossier de sécurité des systèmes d’informations : analyse des risques, choix de solutions, risques non couverts. |
| EXG_EVO_14 | Documentation produit : le Titulaire maintient une documentation produit suffisante, permettant une transmission efficace au fil de l’eau de l’ensemble des composants du produit. |
| EXG_EVO_15 | Architecture technique adoptée par le Titulaire : Le Titulaire doit exposer l’architecture technique (matérielle, middleware, etc.) mise en œuvre dans sa solution. |
| EXG_EVO_16 | Le Titulaire rédige et tient à jour le plan de gestion des configurations. |
| EXG_EVO_17 | Le Titulaire rédige et exécute les tests unitaires et documente l’exécution de ces tests : plans de tests, tests passés, résultats d’exécution des tests. |
| EXG_EVO_18 | Le Titulaire s’engage sur la qualité du code des logiciels développés et sur le respect des normes fixées pour la réversibilité de fin d’accord-cadre, ainsi que sur les exigences fonctionnelles de sécurité. |
| EXG_EVO_19 | Le Titulaire doit mettre en place une gestion des codes sources et du versionning des versions décrites dans le plan de gestion des configurations. Il est responsable du bon versionning des versions et des modifications. Sur demande de la Cnam et à tout moment de l’accord-cadre, le Titulaire doit être capable de fournir les sources de l’applicatif |
| EXG_EVO_20 | Le Titulaire met à jour le Plan d’assurance Sécurité et le Plan d’Assurance Qualité en fonction des précisions apportées durant la phase de réalisation. |
| EXG_EVO_21 | Le Titulaire est responsable de la recette (technique, fonctionnelle (y compris bout en bout et non régression), d’intégration, performance et sécurité) concernant son périmètre. Il fournit sa stratégie de recette concernant l’ensemble des devices. Après validation de la Cnam, il exécute et restitue les résultats de sa recette, ainsi que le plan d’actions de résolution des anomalies/incidents détectées quel que soit leur niveau. |
| EXG_EVO_22 | Suite aux opérations de recette du Titulaire, ce dernier livre les prestations recettées sur un environnement de recette fonctionnelle à destination de la Cnam, afin que la Cnam puisse procéder à la recette fonctionnelle et des tests de sécurité permettant de réaliser la vérification d’aptitude. |
| EXG_EVO_23 | Le Titulaire intègre l’ensemble de ces plans de tests au sein d’un référentiel de tests pour chaque prestation d’évolution réalisée |
| EXG_EVO_24 | Le Titulaire développe et maintient les outils et moyens de tests :<br>Bouchons, émulateurs, autres dispositifs permettant de procéder aux tests des différents systèmes indépendamment les uns des autres ;<br>Outils de gestion de contextualisation des données et leur remise en état |
| EXG_EVO_25 | Le Titulaire met en place et partage le cahier de test des phases d’automatisation des tests. |
| EXG_EVO_26 | Le Titulaire s’engage à répondre aux exigences de la Cnam pour assurer son déroulement et permettre à la Vérification d'Aptitude d'être prononcée.<br>Préalablement au prononcé d’une validation d’aptitude, la Cnam se réserve cependant le droit de procéder par elle-même à des tests de sécurité et d’intrusion ainsi que des opérations de vérification à partir de l’environnement de recette qui lui est dédié. |
| EXG_EVO_27 | Le Titulaire livre les prestations sur un ou des environnements de recette fonctionnelle afin que la Cnam puisse procéder à des tests de recette fonctionnelle et de sécurité |
| EXG_EVO_28 | Le Titulaire doit participer à la recette intégrée du produit de bout-en-bout avec les autres acteurs impliqués : implication dans l’intégration, passage des tests, prise en compte des résultats de tests, etc. |
| EXG_EVO_29 | Le Titulaire s’engage à coordonner les tests de bench dans le cas où la Cnam souhaite intégrer des modules applicatifs interfacé avec le SI-ENS (SI-enrôlement), SI-Cnam hébergés par la Cnam ou un tiers, et donc mesurer la performance globale du système. |
| EXG_EVO_30 | Le Titulaire traite les anomalies/incidents remonté(e)s par la Cnam suivant la procédure définie en annexes « MESDMP_Annexe 06 – Workflow Clear Quest Fiche de Signalement » et « MESDMP_Annexe 07 – Workflow Clear Quest Fiche Tiers ». |
| EXG_EVO_31 | La Cnam qualifie chaque anomalie/incident selon les niveaux définis dans le PAQ (cf. EXG_GDI_9 pour plus de détail sur les niveaux de sévérité considérés pour les anomalies/incidents et notamment le cas des vulnérabilités) :<br>Un ensemble d’anomalies/incidents graves ou gênant(e)s, empêchant dans leur ensemble une utilisation ergonomique du service, ou nuisant à l’image de l’application, peut donner lieu à la création d’un(e) anomalie/incident bloquant(e) pour la mise en production, sur décision de la Cnam. Ces éléments sont précisés dans le PAQ. |
| EXG_EVO_32 | Le Titulaire peut demander une requalification de la sévérité des anomalies/incidents en apportant des éléments concrets. La Cnam décide en dernier ressort de la criticité et de la priorisation des anomalies/incidents en fonction notamment de l’impact pour les utilisateurs et l’image du service |
| EXG_EVO_33 | Le Titulaire procède au traitement des anomalies/incidents détecté(e)s. |
| EXG_EVO_34 | Les anomalies/incidents en recette doivent être pris(es) en compte et corrigé(e)s par le Titulaire selon les délais suivants :<br>SévéritéRésolution*(en heure ouvrable)Bloquant48hGrave5jGênant10j** Les délais s’entendent, en heures et jours ouvrés sur la plage horaire de référence, à compter de la demande *<br>Pour tout bon de commande intégrant du développement, la Cnam fixe au Titulaire l’objectif de moins de 10% d'anomalies/incidents de tout type (bloquant, grave, gênant).<br>Le nombre d’anomalies/incidents de tout type, identifiés avant mise en production, est divisé par la charge totale de développement en J/H, définie par le Titulaire en annexe de l’acte d’engagement [Note: Lorsque la décomposition charge profil d’une UO n’est pas renseignée, il est tenu compte de la part de la charge de développement estimée par la Cnam pour l’UO considérée.] (Cf. Décomposition Charge Profil), pour l’ensemble des UOs de développement commandées.<br>Pour les commandes dont la charge totale de développement est supérieure à 100 J/H, si le résultat est supérieur à 10%, le Titulaire encourt une pénalité conformément aux stipulations du CCAP. | Sévérité | Résolution*<br>(en heure ouvrable) | Bloquant | 48h | Grave | 5j | Gênant | 10j |
| Sévérité | Résolution*<br>(en heure ouvrable) |
| Bloquant | 48h |
| Grave | 5j |
| Gênant | 10j |
| EXG_EVO_35 | L’absence d’anomalie/incident bloquant(e) pour la mise en production à l’issue de la période de recette est un prérequis au prononcé par la Cnam de la validation d’aptitude d’une prestation livrée par le Titulaire. |
| EXG_EVO_36 | Le Titulaire se met en capacité de répondre aux demandes d’intervention sur les environnements de recette fonctionnelle de la Cnam. Ces interventions sont inscrites dans le cadre de l’avancée des tests de recette fonctionnelle ou de sécurité. Le catalogue de demandes d’intervention en recette fonctionnelle comprend a minima :<br>Lancement de traitement<br>Mise à jour des environnements afin de réinitialiser les jeux de données de recette de manière régulière et automatique<br>Réalisation de copies de BDD de référence<br>Réinitialisation de la BDD à partir d’une copie de référence<br>Une demande de changement en recette fonctionnelle doit être réalisée en 48 heures ouvrées à compter de la date de déclaration. |
| EXG_EVO_37 | Le Titulaire décrit et tient à jour, au sein du PQGS, met en place et maintient les moyens, les processus de gestion des services en production notamment sur les services :<br>De gestion du catalogue de services ;<br>De gestion des changements ;<br>De gestion de configurations ;<br>De gestion de la disponibilité ;<br>De gestion des incidents ;<br>De gestion des problèmes ;<br>De gestion de la supervision ;<br>De gestion des déploiements et des mises en production ;<br>De gestion du niveau de service.<br>De gestion du plan de continuité des activités. |
| EXG_EVO_38 | Le Titulaire décrit et tient à jour sa procédure d’installation et décrit notamment le minutage de cette installation. |
| EXG_EVO_39 | Le Titulaire installe en environnement de pré-production l’ensemble des éléments réalisés, recettés et dont le bilan a été validé par la Cnam, et teste ainsi sa procédure d’installation en pré- production.<br>Suite au test d’installation, le Titulaire fournit un bilan de la mise en pré-production et affine, si nécessaire, sa procédure d’installation. |
| EXG_EVO_40 | Le Titulaire met en production l’ensemble des éléments réalisés, recettés puis validés par la Cnam conformément à la procédure de mise en production testée puis validée par la Cnam et uniquement sur décision formelle de la Cnam.<br>Suite à la mise en production, le Titulaire fournit un bilan de cette mise en production. |
| EXG_EVO_41 | Dès le déploiement en production d’une évolution, si des vulnérabilités sont constatées ou si des incidents de sécurité surviennent, ils sont traités de la même façon et dans les mêmes délais que les incidents de sécurité et vulnérabilités qui ne font pas suite à une évolution. |

## 5.4 Rôles et activités clés

Dans le cadre de la mise en œuvre de l’organisation schématisée ci-dessus, un certain nombre de rôles clés et activités associées sont attendus et précisés ci-dessous. Ces profils peuvent être assurés selon le contexte, par des personnels Cnam, par des personnels du Titulaire, ou encore en binôme.

Il est précisé que l’organisation doit, par essence, être adaptée au besoin en fonction des périodes de l’accord-cadre. Le présent accord-cadre comporte différentes phases et des activités très différentes les unes des autres : initialisation, convergence Mon espace santé /DMP, offre de service pour les besoins du BSP, etc.

De périmètre très large, l’accord-cadre engage un nombre conséquent de collaborateurs Cnam et du Titulaire. Le Titulaire veille à proposer à chaque fois que nécessaire des adaptations de l’organisation, en concertation avec la Cnam, destinées à améliorer le fonctionnement de l’ensemble du dispositif. Ces améliorations doivent être objectivées sur la base de 4 indicateurs clés :

- Indicateurs de vitesse :
- Fréquence de déploiement : mesure l’optimisation du flux de production de valeur
- Délais de livraison en production du code produit : mesure la rapidité de mise à disposition en production du code finalisé
- Indicateurs de stabilité :
- Temps de remise en condition opérationnelle et de sécurité : mesure la performance de correction d’un défaut
- Taux d’erreur : mesure la qualité du code livré

L’ensemble de l’organisation doit être au service du maintien du niveau de ces indicateurs, dont certains doivent encore être étalonnés. A titre indicatif, à mai 2023, les valeurs partiellement objectivées sur le seul périmètre Mon Espace Santé pour les indicateurs de vitesse sont, à l’exception de chantiers de grande ampleur, approximativement les suivantes :

- Fréquence de déploiement :
- 1 fois par semaine pour du patch
- 1 fois par mois pour une version majeure
- Délais de livraison en production du code produit :
- 1 semaine sur une branche TMA / MCO
- 2 versions majeures par trimestre

### 5.4.1 **Rôles Direction produit**

| Rôles | Activités |
| --- | --- |
| Product Manager (de différents niveaux :<br>- Multi-produit (ex : Mon espace santé et DMP)<br>- Monoproduit (ex : Mon espace santé ou Mon espace santé mobile)<br>- Parcours multifeatures au sein d’un produitLes profils des Product Managers doivent être orientés aussi bien back office que front office. | - Met en œuvre les moyens pour identifier les opportunités Produits<br>- Qualifie le potentiel d’usage des opportunités Produit au regard de tests utilisateurs et de données quantitatives<br>- Construit sur la base de tous les entrants la proposition de feuille de route produits<br>- Formalise auprès des sponsors les ambitions et impacts Produits pour validation<br>- Porte les attentes produits dans le cadre des instances du type PI Planning, Release Management<br>- Pilote les cadrages Produit exploratoires<br>- Pilote les cadrages opérationnels des Features Teams sur les activités de cadrage<br>- Assure les rituels de niveau produit, en particulier dans sa composante offre de services<br>- Suit la réalisation du delivery pour apporter les priorités du Product Management<br>- Suit la production, les usages des produits, les différents niveaux de support, les niveaux de services et en fait un reporting à ses commanditaires<br>- Assure la production des supports nécessaires aux différentes instances de partage autour du produit (intra et extra projet) |
| Lead Design | - Organise, structure et homogénéise les livrables designer en cadrage et delivery<br>- Compose et pilote les équipes design (sourcing, staffing, rotation)<br>- Collabore : outillage design, animation des rituels et meetings<br>- Accompagne la montée en compétences des équipes<br>- Standardise et harmonise les processus de conception<br>- Mesure : Suivi des travaux « User research » quantitatifs (Indicateurs d’usage) et qualitatifs (Retour terrains et tests utilisateurs), en particulier en appui aux communautés d’utilisateurs<br>- Contribue à la priorisation des roadmaps des Feature Teams et sujets transverses pour passage à l'échelle<br>- Est garant du Design system MESDMP<br>- Apporte aux équipes l’expertise nécessaire pour assurer la conception de composants et de parcours conformes aux exigences d’accessibilité |
| Lead Data Desk | - Accompagne les Features Teams dans la construction des indicateurs métiers pertinents pour le suivi des usages<br>- Compile les données des différentes sources disponibles, indicateurs métiers MESDMP dont ceux du catalogue de services, données de webanalytics, indicateurs métiers DMP, et toutes autres sources pertinentes, pour en dégager des tendances et des informations qui servent les propositions d’orientation stratégique du Product management<br>- Suit des données de production pour construction et maintenance d’abaques standard d’usages, partage avec les acteurs du suivi de production pour acculturation et accompagnement pour assurer une réactivité ad hoc à des comportement atypiques (hors abaque)<br>- Identifie les variations et les investigue, pose les hypothèses en conséquence<br>- Fait corréler avec les hypothèses d’usage<br>- Oriente les parties prenantes et la Direction produit<br>- Veille au suivi des mésusages des systèmes<br>- Construit et actualise les tableaux de bord de suivi des usages à des fins de communication |

### 5.4.2 **Rôles de niveau Delivery transverse**

| Rôles | Activités |
| --- | --- |
| Responsable Delivery transverse (type release train manager) | - Prend la responsabilité du périmètre visé dans le cadre d’un incrément (ou train)<br>- Suit l’exécution du delivery en regard des objectifs sur la période concernée<br>- Met en place les mécanismes de reporting et alerte si nécessaire<br>- Construit avec les équipes concernées les plans de remédiation aux difficultés rencontrées pour maintenir les objectifs visés.<br>- Est responsable des indicateurs de vitesse mentionnés en début du présent paragraphe.<br>- Suit l’avancement des instructions nécessaires à la construction du ou des trains suivants en fonction de la feuille de route proposée par le Product Management et la Direction Services<br>- Travaille avec les coordonnateurs ci-dessous (cellule technique, cellule production avec FT et Direction produit)<br>- Assure la restitution de la livraison faite dans le cadre d’un train |
| Coordonnateur Cellule technique / Features teams (FT) et Direction produit | - Facilite la compréhension entre les attentes métiers et les exigences de conception<br>- Aide à l’identification des points durs et remonte à l’arbitrage les cas le nécessitant le plus en amont possible |
| Coordonnateur cellule production / Features teams et Direction Produit | - Suit la production d’un point de vue métier, en coordination avec le SDM<br>- Se coordonne avec le responsable du delivery transverse pour la prise en compte des anomalies/incidents en fonction du contexte (SLA) et du niveau d’exécution du train par ailleurs<br>- Remonte des arbitrages si nécessaires à la Direction de programme<br>- Coordonne les features teams dans la prise en charge des anomalies/incidents, priorise les sujets pour mise en production en fonction de leur impact après concertation avec le responsable du delivery transverse<br>- Coordonne le suivi opérationnel de la production avec le Data desk<br>- Contribue avec le SDM au suivi des indicateurs de suivi des délais de résolutions des incidents. |
| Responsable recette | - Responsable de l’ensemble des activités de recette des systèmes intégrés (non bouchonnés), y compris techniques et sécurité<br>- S’assure que les recettes puissent être réalisées dans les conditions attendues<br>- Réalise le suivi de la recette d’une version dans sa globalité<br>- Veille à la maintenance, la complétude et l’amélioration du patrimoine de tests, y compris les tests automatisés<br>- Reporte et partage régulièrement avec l’ensemble des équipes sur ce patrimoine de tests automatisés de manière à optimiser les recettes à tous le niveaux (y compris au niveau des features teams) |
| Responsable recette fonctionnelle | - Est responsable de la recette fonctionnelle des releases majeures et mineures<br>- S’assure que les prérequis et les entrants sont fournis aux équipes de recette<br>- Réalise le suivi des recettes fonctionnelles en articulation avec les centres de recette de la Cnam |
| DPO Data Protection Officer / Expert RGPD | - Accompagne la Cnam dans l'instruction et la documentation de la conformité des produits MESDMP<br>- Accompagne la conformité du traitement<br>- Accompagne les équipes dans la démarche « privacy by design » et le maintien dans le temps d’une démarche « privacy by default »<br>- Assure la conformité au RGPD du Titulaire<br>- Met à jour les AIPD et la documentation afférente à la conformité (politique de protection des données, synthèse de l’AIPD, etc.)<br>- Organise et tient le secrétariat de réunions récurrentes (a minima bimensuelles) afin de tenir informée la Cnam de toutes les évolutions ayant des impacts sur la conformité du produit à la réglementation relative à la protection des données à caractère personnel |

### 5.4.3 **Rôles au niveau Delivery des Features**

| Rôles | Activités |
| --- | --- |
| Product Owner | - Priorise le backlog de fonctionnalités à développer au cours des sprints à venir sur la base des orientations définies par le Product Management et la Direction services<br>- Est responsable du périmètre en delivery au cours du sprint en cours<br>- Anime la revue avec la Direction Produit et le responsable du delivery transverse<br>- Est responsable du traitement des anomalies/incidents de production relevant de son périmètre, en articulation avec le responsable du delivery transverses et des équipes en charge du suivi du MCO. |
| Proxy PO | - Appui le Product owner (de compétences nativement orientées plus sur du fonctionnel et du métier) dans sa compréhension et dans sa prise en charge des sujets techniques<br>- Décline les exigences techniques et sécurité au sein de la feature teams pour assurer leur bon niveau de prise en charge par tous les profils |
| Scrum Master | - Est responsable de l’application de la méthodologie Agile au sein de la FT<br>- Est responsable de l’amélioration continue de la FT<br>- Facilite les échanges et participe à la recherche de solutions au quotidien<br>- Anime les rituels agiles de type Sprint Demo à l’issue des sprints, Daily Meeting, Sprint Retrospective, etc. |
| Business Analyst | - Est responsable de la déclinaison des fonctionnalités en US<br>- Est responsable du suivi opérationnel du delivery et de la capacité de la FT<br>- Est garant de la cohérence technique et du back-office du périmètre de la Feature team<br>- Anime les instances : Affinage, Sprint Planning |
| UX Designer | - Est responsable de l’expérience utilisateur et de l’aspect visuel des fonctionnalités à développer, dans le respect du cadre défini par le Lead Design<br>- Contribue à la conception et à la déclinaison du Design System dans la conception de chaque fonctionnalité<br>- Réalise des tests d’usage auprès des utilisateurs pour garantir l’adaptation des fonctionnalités aux besoins des usagers<br>- Travaille en articulation avec le Lead Data desk pour se nourrir et alimenter en retour la boucle de collecte de la donnée destinée à éclairer les orientations de la feuille de route. |
| Développeur | - Développe (code) des US à développer au sein de chaque FT<br>- Participe à l’affinage et à la planification des US à développer au sein des sprints<br>- Les développeurs peuvent en fonction des cas présenter des compétences, voire des expertises sur différents type d’activités ou technologies : Front, Back, full-stack, Mobile, etc. |
| Testeur | - Teste les fonctionnalités développées au cours du sprint sur les différents environnements d’intégration, de recette et de préprod |

### 5.4.4 **Rôles Direction services**

#### 5.4.4.1 *Cellule technique*

| Rôles | Activités |
| --- | --- |
| Technical Lead | - Est responsable de la cohérence de l’architecture de la plateforme MES/DMP en termes de choix techniques, logiciels, sécurité et performance |
| Architecte Lead | - Est responsable de la cohérence de l’architecture Applicative de la plateforme MES/DMP en termes de choix techniques et sécurité |
| Architectes | - Architectes Infrastructure si le Titulaire a la responsabilité de l’hébergement<br>- Architectes Technique et Logiciel<br>- Architectes Applicatifs<br>- Architectes Fonctionnels<br>- Architectes Transverses<br>- Architectes Sécurité |
| Responsable DevSecOps | - Coordonne les équipes de développement, de sécurité et ops afin de garantir la prise en compte de la sécurité dans l’intégration des composants<br>- Garantit la mise en œuvre des bonnes pratiques DevSecOps<br>- S’assure que les process et outils de CI/CD répondent aux exigences du DevSecOps et réalise le suivi de l’amélioration continue du process DevSecOps |
| Responsable intégration technique | - Est en charge du suivi de tous les chantiers intégration technique et de la mise en œuvre des chaînes d’accrochage techniques et sécurité |
| Bureau Technique | - Réalise les déploiements et opérations techniques sur l’ensemble des environnements<br>- Pilote et réalise le support N3<br>- Réalise les tests de performance |

#### 5.4.4.2 Cellule projet

| Rôles | Activités |
| --- | --- |
| Release Manager | - Pilote l’ensemble des phases d’une version depuis sa définition jusqu'à sa mise en production<br>- S’assure de la cohérence d’ensemble du contenu des releases et du respect de livraison dans le calendrier défini. |
| Delivery leader | - S’assure de la mise à disposition des moyens et ressources pour que les FT puissent réaliser les travaux<br>- Réalise le suivi d’avancement des FT<br>- Agit et alerte si nécessaire quand les FT font face à des difficultés ou des blocages |
| Intégration recette | - S’assure de l’intégration et des recettes des versions sur les différents environnements<br>- S’assure de l’évolution et de l’automatisation des scenarios de tests techniques/fonctionnels/performances/sécurité |

#### 5.4.4.3 Cellule Production

| Rôles | Activités |
| --- | --- |
| SDM | - Assure le respect des engagements de services<br>- Manage et coordonne les équipes opérationnelles pour assurer un service de qualité et atteindre les engagements liés au contrat de service<br>- Identifie, partage et met en œuvre les axes d’amélioration pour garantir la qualité de service<br>- Assure la présentation des KPI auprès de la Cnam |
| TSM Infrastructure / Applicatif | - S'assure que les services sont fournis conformément à la description du service et que tous les SLAs sont atteints<br>- Veille au maintien de la qualité des services et identifie les axes d'amélioration continue.<br>- Assure la gestion des incidents |
| TSM Réseau | - Pilote les sujets et l’équipe d’ingénieur réseau |
| TSM Support N2 | - Pilote le support N2 |
| Equipe OPS | - S’assure que la chaîne d’intégration continue est fonctionnelle et veille à l’amélioration continue de cette chaîne CI/CD<br>- Réalise l’intégration et les déploiements des versions applicatives sur les différents environnements d’intégration et de recette |

#### 5.4.4.4 *Cellules Sécurité / RSSI*

| Rôles | Activités |
| --- | --- |
| Directeur de projets Cyber | - Reporte, organise/prépare et assure les instances de gouvernance Sécurité, suit l’avancement des PKI Sécurité<br>- Pilote les projets sécurité |
| RSSI<br>Responsable de la Sécurité des Systèmes d’Information | - Veille au respect de la confidentialité, l’intégrité, la disponibilité et la traçabilité des données ou informations, vision transverse du Build au RUN<br>- Est « porteur de secrets » dans les cérémonies de clés, garantit le respect des indicateurs<br>- Est en charge d’expliciter les risques à la demande de la Cnam et ou de faire intervenir des experts du domaine<br>- Assiste la DPO/RGPD, valide et réalise les demandes d’ouverture de cellule de crise, et participe à l’astreinte managériale |
| Ingénieur DevSecOps | - Contrôle la bonne application opérationnelle du processus DevSecOps<br>- Est en charge d'intégrer la dimension sécurité à toutes les étapes du projet et à l'automatiser<br>- Garantit la mise à jour des contacts Sécurité dans le processus |
| SOC : Client Security Manager<br>Incident handler<br>Analyste SOC | - Est le point d’entrée contractuel (Soc Manager)<br>- Garantit la mise à jour des contacts Sécurité dans le processus<br>- Assure l’encadrement technique des analystes SOC<br>- Participe à l’amélioration des règles de corrélation et des processus<br>- Est en charge de la gestion des incidents de sécurité majeurs<br>- Exploitation : identifie et qualifie les incidents de sécurité, effectue le triage, crée les notifications, traite les incidentes, lance les escalades Gestion de règles de détection |
| Consultant Cartographie des données | - Garantit la mise à jour et le suivi de la cartographie (protection des données) en collaboration avec la DPO GRP |
| Consultant Analyse des risques | - Réalise les analyses de risque sous la direction du RSSI, du suivi avec la Cnam (à la demande du client) |

## 5.5 Comitologie

Les exigences associées à la comitologie sont notamment mentionnées dans les §6 et 7  et sont détaillées, le cas échéant, dans le PAQ.

### 5.5.1 **Comitologie Pilotage**

| INSTANCE | FREQUENCE | OBJECTIFS |
| --- | --- | --- |
| COMOP | Hebdomadaire | Consolidation des suivis opérationnels (DPD, delivery, infra, sécurité, production) |
| COMOP Restreint | Hebdomadaire | Pilotage stratégique du programme |
| COMAFI | Trimestriel | Suivi contractuel et financier<br>Présentation du fichier des connaissances antérieures et droits acquis, mis à jour trimestriellement par le Titulaire (liste à jour des assets et des maintenances et support actifs tout au long de la durée d’exécution de l’accord-cadre ) |
| Gestion Qualité | Mensuel | Suivi de la Qualité/PAQ et des indicateurs (y compris PAS) |
| Gestion des Risques | Mensuel | Revue des risques projets |

### 5.5.2 **Comitologie Produit**

| INSTANCE | FREQUENCE | OBJECTIFS |
| --- | --- | --- |
| PI Planning | Trimestriel | Instance majeure de priorisation et planification du contenu à développer par chaque FT au cours de l’incrément à venir |
| Daily Meeting Direction Produit | Quotidien | Suivi des tâches prioritaires, travaux communs, adhérences de l’incrément N |
| Weekly Meeting Direction Produit | Hebdomadaire | Suivi et gestion de la préparation de l’incrément N+1 |
| Sprint Demo | Bimensuel | Session de revue au format Démonstration des éléments conçus par chaque FT à l’issue de chaque Sprint |

### 5.5.3 **Comitologie Feature Teams**

Chaque Feature Team met en œuvre la comitologie Agile Scrum nécessaire à son fonctionnement en vue de la conception des fonctionnalités propres à son périmètre

| INSTANCE | FREQUENCE | OBJECTIFS |
| --- | --- | --- |
| Daily Meeting Feature Team | Quotidien | Suivi des actions quotidiennes sur le sprint en cours |
| Sprint Planning | Bimensuel | Planification des fonctionnalités à développer au cours du sprint à venir |
| Discovery / Expérience utilisateur | Hebdomadaire | Instance d’échange sur les parcours et l’expérience utilisateur des fonctionnalités à développer au cours des prochains sprints |
| Affinage | Hebdo | Cadrage et estimation de complexité des fonctionnalités à concevoir au cours des sprints suivants |
| Review | Hebdomadaire | Echange hebdomadaire avec la Direction Produit pour suivi de l’avancement, des adhérences et arbitrages le cas échéant |
| Sprint Rétrospective | Bimensuel | Instance d’amélioration continue du fonctionnement de l’équipe |
| Qualité du code | Mensuel | Animée par la DT du Titulaire, pour présentation du rapport d’audit de code (issu des outils d’audit et des audits manuels sur la période avec les analyses et bonne pratique à décliner, du plan d’actions pour amélioration), présentation des nouvelles couches applicatives transverses à mutualiser et autres composants/templates d’architecture logiciel à décliner. |

### 5.5.4 **Comitologie Services**

#### 5.5.4.1 *Cellule technique*

| INSTANCE | FREQUENCE | OBJECTIFS |
| --- | --- | --- |
| Comité DA/DT | Hebdomadaire | Partage et suivi des instructions en cours<br>Présentation des principaux chantiers Techniques / Sécurité<br>Revue du backlog de la Design Authority<br>Revue des actions en cours de la Direction Technique<br>Revue des vulnérabilités suivies par la Direction Technique |
| Comité DevSecOps | Bimensuel | Bonnes pratiques logicielles, sécurité by design |
| Gestion des points de douleurs | Hebdomadaire | Traitement des difficultés opérationnelles rencontrées par les FT en cours de delivery de l’incrément en cours |
| Daily DA | Quotidien | Suivi des instructions sur le sprint en cours |
| Retro / Sprint Planning DA | Bimensuel | Bilan de fin de Sprint et planification des instructions à mener au cours du sprint à venir |
| Grooming / Validation d’ADR | Bihebdomadaire | Défrichage collectif des ADR complexes dans leur phase d’Init<br>Revue collégiale des versions intermédiaires d’ADR<br>Validation collégiale des versions finales d’ADR |

#### 5.5.4.2 *Cellule Projet*

| INSTANCE | FREQUENCE | OBJECTIFS |
| --- | --- | --- |
| Daily Bug | En fonction de la phase du projet | Instance de suivi de la prise en compte des correctifs au titre du MCO |
| CODEL | Bimensuel | Partage de l’avancement du delivery<br>Remontée des risques et alertes du delivery |
| Comité release management | Hebdomadaire | Partage des plannings des releases futures, en particulier pour le suivi des dépendances avec les SI externes. |

#### 5.5.4.3 *Cellule Production*

| INSTANCE | FREQUENCE | OBJECTIFS |
| --- | --- | --- |
| Daily Prod | En fonction de la phase du projet | Suivi de la production |
| CORUN | Trimestriel | Suivi de la Production et du MCO<br>Suivi des SLA / KPI Production et Support<br>Suivi des processus GDI/GDD/GDC<br>Roadmap des MEP |
| COPROD | Hebdomadaire | Suivi du Run |

#### 5.5.4.4 *Cellules Sécurité / RSSI*

| INSTANCE | FREQUENCE | OBJECTIFS |
| --- | --- | --- |
| COSEC | Bimensuel | Revue des sujets Sécurité pour arbitrages (chantiers sécurité en cours, la définition de la trajectoire sécurité du projet et de l’ensemble des points nécessitant une décision structurante pour le projet et également la MCS) |
| ComopSec | Hebdomadaire (*) | Suivi des sujets sécurité opérationnels, des activités de MCS et des décisions afférentes. Des sachants opérationnels et experts techniques sont invités régulièrement à participer à ce comité pour les points spécifiques le nécessitant, afin de pouvoir alimenter le comité avec les informations précises permettant d’éclaircir des points en suspens : par ex. pour apporter des précisions techniques sur un correctif suite à une vulnérabilité, pour apporter des précisions techniques ayant permis de conclure du niveau de vraisemblance et de sévérité d’une vulnérabilité, etc. |
| ComOpSOC | Hebdomadaire (*) | Suivi des activités du SOC |

*(*) La Cnam peut réduire cette fréquence selon le contexte du projet*

## 5.6 Politique qualité

La politique qualité consiste à décliner de façon pragmatique, dans un cadre adapté au présent accord-cadre, l'ensemble des normes en vigueur et spécificités de la Cnam, pour obtenir la qualité des services et des produits.

S’agissant des prestations, l'approche qualité retenue doit respecter les aspects essentiels suivants : organisation, communication, documentation, contrôle, tableaux de bord, plan d’amélioration agrégé, respect des normes et développements à l’état de l’art pour les aspects techniques, delivery et sécurité, respect des moyens et processus pour le MCO, le MCS et le PAQ.

La politique qualité doit être structurée et documentée notamment au travers d'un Plan d'Assurance Qualité (PAQ) constitué :

- D’un Plan Qualité du Marché (PQM) : modalités relatives à la Planification et à l’Organisation de l’accord-cadre, à la gestion de la Qualité et à l’amélioration continue.
- D’une Convention de Services (CS) : précise le contenu de l’engagement de service du Titulaire, avec les indicateurs associés, a minima pour l’ensemble des exigences décrites dans le CCTP et le CCAP.
- D’un Plan Qualité Gestion des Evolutions (PQGE) : modalités relatives à l’acquisition et à l’implémentation des Produits et Services.
- D’un Plan Qualité Gestion des Services (PQGS) : modalités relatives à la délivrance et au support des Produits et Services (a minima : anomalies, incidents, vulnérabilités, problèmes, supervision, changements, réclamations, configurations, disponibilités, déploiements et mises en production, etc.).
- D’un Plan de Gestion de Crise (PGC).
- D’un Plan de Réversibilité (PR) : modalités relatives à la réversibilité de la solution en fin d’accord-cadre.

Le PQM, le PQGE, le PQGS et le PR deviennent applicables dès la première version validée par la Cnam.

Il est rappelé que le PAQ ne peut avoir pour objet ni pour effet de modifier les engagements et obligations souscrits au titre de l’accord-cadre.

Un sommaire du PAQ est fourni en annexe : MESDMP_Annexe 23_PAQ_Indicateurs_Exemple de sommaire.

Les éléments du PAQ comprennent l’ensemble des exigences liées aux prestations et que le Titulaire s’engage à respecter.

Le Titulaire respecte les exigences spécifiques suivantes :

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_PAQ_1 | Le Titulaire s’engage à fournir une première version du PAQ au plus tard à trois (3) mois après la réunion de lancement de l’accord-cadre.<br>Et à livrer l’ensemble des éléments du PAQ avant la fin de la phase d’initialisation de l’accord-cadre. |
| EXG_PAQ_2 | Le Titulaire s’engage à appliquer et à faire évoluer le PAQ dès le début de la prise de responsabilité (fin de la phase d’initialisation)<br>Et à fournir une nouvelle version de PAQ a minima à la fin de la 3ème Phase de la reprise : Prise de responsabilité par le Titulaire |
| EXG_PAQ_3 | Les éléments du PAQ et ses annexes font l'objet d'évolutions régulières a minima tous les deux mois, pendant toute la durée de l’accord-cadre, suite à des changements ou à la demande de l’une des Parties (Cnam ou Titulaire). Ces évolutions font l’objet d’une validation par la Cnam. |
| EXG_PAQ_4 | La qualité fait l’objet d’une instance de suivi (Comité Qualité) dont la fréquence est à définir avec le Titulaire (a priori mensuelle) |
| EXG_PAQ_5 | Le Titulaire pilote ses prestations de façon proactive et est force de proposition.<br>Le Titulaire garantit une cohérence entre les différents chantiers et prestations réalisées. |
| EXG_PAQ_6 | Le Titulaire se conforme au PAQ validé par la Cnam et assiste celle-ci dans l’atteinte des objectifs liés à la politique qualité définie. |
| EXG_PAQ_7 | La politique qualité de la Cnam est définie par la Direction de la Cnam. Dans le cadre de la démarche Qualité ISO 9001, les principaux axes retenus sont les suivants :<br>- La satisfaction des interlocuteurs de la Cnam (« clients externes » au sens de la norme ISO 9001) ;<br>- La sécurité financière et juridique des activités menées par la Cnam ;<br>- L'amélioration des compétences des collaborateurs de la Cnam (« clients internes » au sens de la norme ISO 9001) |
| EXG_PAQ_8 | Le Titulaire s’engage :<br>- A appliquer a minima les Normes, Agréments et Réglementations en vigueur ou leur équivalent : ISO 9001, ISO 10005, ISO 10006, ISO 14001, ISO 19011, ISO 27001, ISO 22301, HDS, ISAE 3402 et IEEE 829-2008<br>- A respecter les autres normes décrites dans chaque chapitre du CCTP le cas échéant<br>- A en fournir les preuves factuelles (certifications, justifications, etc.), avant le démarrage de la prestation et durant l’exécution de l’accord-cadre |
| EXG_PAQ_9 | Le Titulaire doit réaliser l’auto-évaluation de conformité aux exigences de qualité et suivre les indicateurs définis dans la Convention de Service (dont indicateurs de qualité). Il s’engage à informer la Cnam des risques, des écarts et à faire des propositions de mise en conformité ayant trait à la qualité. |
| EXG_PAQ_10 | Le Titulaire doit informer l'ensemble des intervenants des dispositions retenues au titre de la qualité. Chaque intervenant doit avoir une parfaite connaissance des éléments applicables à son domaine d'intervention figurant dans le PAQ.<br>La Cnam se réserve la possibilité de déclencher les opérations de contrôle lui permettant de s'assurer que les intervenants maîtrisent et appliquent les dispositions figurant dans le Plan Qualité Projet. A l’issue, le Titulaire, sur demande de la Cnam, doit assurer la mise en œuvre des plans et recommandations associés qui en découlent. |
| EXG_PAQ_11 | Le Titulaire remet toute documentation produite au cours de l’accord-cadre sous un format compatible avec les outils bureautiques utilisés par la Cnam (suite Office) conformément aux exigences de sécurité.<br>Par défaut, les documents doivent être conformes à la charte graphique de la Cnam, le formalisme et toutes contraintes de la Cnam (taille des documents, nommage, etc.) |
| EXG_PAQ_12 | Le Titulaire s’engage à :<br>- Adresser toute demande de modification du PAQ ou de dérogation temporaire au PAQ au comité Qualité (lequel traite la demande et/ou la remonte à une instance supérieure).<br>- Diffuser, dès lors qu'une modification est apportée au PAQ, validé par la Cnam, la nouvelle version à tous les intervenants du projet. Chaque partie se charge de faire connaître les changements au sein de son organisation.<br>- Décrire au sein du PAQ l’organisation mise en place pour répondre aux objectifs liés à la gestion des ressources humaines, en particulier les règles de gestion des ressources mutualisées (priorisations, urgences, etc.).<br>- Documenter au sein du PAQ sa participation à des comités non explicitement prévus par l’accord-cadre.<br>- Documenter au sein du PAQ le contenu et les modalités de suivi et de reporting, ajustés en fonction des besoins.<br>- Informer l'ensemble des intervenants des dispositions retenues au titre de la qualité. Chaque intervenant doit avoir une parfaite connaissance des éléments applicables à son domaine d'intervention. |
| EXG_PAQ_13 | Le Titulaire nomme un correspondant qualité.<br>Ce correspondant qualité du Titulaire garantit la mise en application des dispositions prévues dans le PAQ, sensibilise les équipes du Titulaire au respect des dispositions qualité décrites au PAQ, veille à proposer des actions d’améliorations, participe activement aux audits qualité planifiés par la Cnam, ainsi qu’au traitement des écarts constatés et assure en permanence l’interface qualité entre le Titulaire et le responsable Qualité de la Cnam.<br>Il prépare également les indicateurs qualité attendus pour les comités de pilotage et de suivi. Dans le cadre du suivi, ces indicateurs sont fournis ponctuellement selon les demandes de la Cnam et a minima mensuellement. |
| EXG_PAQ_14 | Sur demande de la Cnam, le Titulaire s’engage à délivrer, le cas échéant, les accès nécessaires à tout document permettant la préparation, la réalisation et le suivi d’un audit mené par la Cnam ou par un tiers désigné par la Cnam. Ces audits peuvent porter sur les thèmes suivants (liste non exhaustive) :<br>- Pilotage et gestion de projet<br>- Qualité (respect de la bonne application du PAQ, contrôle qualité d’un livrable, etc.)<br>- Organisation<br>- Développement, intégration, exploitation, etc.<br>- Fonctionnel<br>- Technique (Architecture, Revue de code applicatif, etc.)<br>- Performance<br>- Patch correctif<br>- CMDB<br>- Gestion des changements d’environnement<br>- Test d’intégration et validation (fonctionnelle et technique)<br>- Test d’intrusion, de vulnérabilité ou de robustesse<br>- Gestion de la réversibilité.La Cnam se réserve le droit de faire accompagner l’auditeur par un ou plusieurs de ses experts techniques.<br>Si l’audit prend la forme de tests d’intrusion, de vulnérabilité, de robustesse ou de performance, le Titulaire mobilise son chef de projet gestion des risques SSI en tant qu’interlocuteur privilégié de l’auditeur, du directeur de projet et du RSSI de la Cnam, tant pour l’organisation, la mise en œuvre que le suivi des audits.<br>Pour tous les autres audits, le correspondant qualité du Titulaire est l’interlocuteur privilégié de l’auditeur, du directeur de projet et du responsable Qualité de la Cnam (organisation, mise en œuvre et suivi des audits).<br>A l’issue d’un audit mené par la Cnam ou un tiers désigné par la Cnam, un rapport d’audit est établi et la Cnam communique au Titulaire les points d’amélioration identifiés pour action. |
| EXG_PAQ_15 | Suite au constat d’écarts lors d’un audit, le Titulaire :<br>- Présente un plan d’actions pour la correction de ces écarts à la Cnam et le met en œuvre.<br>- Met en place les mesures correctives prévues par le plan d’actions validé par la Cnam.Le Titulaire prend à sa charge le temps passé pour la participation aux audits, à l’analyse et aux traitements des écarts constatés.<br>Suite à la mise en œuvre d’un plan d’actions par le Titulaire, la Cnam constate la correction des écarts et lève les écarts s’il y a lieu. |
| EXG_PAQ_16 | Dans le cadre du plan qualité du MESDMP, la Cnam peut réaliser ou faire réaliser, par un tiers, des audits du code (type CAST) de l’ensemble des développements spécifiques réalisés dans le cadre de la mise en œuvre de la solution SI MESDMP. Pour ce faire, le code est mis à disposition de la Cnam de manière spécifique. De plus, la conformité du processus de développement et de la mise en œuvre peut être audité. |
| EXG_PAQ_17 | Dans le cadre de la fourniture des indicateurs mentionnés dans le PAQ (CS), le Titulaire communique à la Cnam les preuves de ses calculs et donne accès à la Cnam à l’ensemble des outils et aux données ayant contribué au calcul des indicateurs (outils de gestion des anomalies/incidents, outils de gestion de sécurité, etc.). |
| EXG_PAQ_18 | Le Titulaire propose les 10 indicateurs les plus structurants permettant d’évaluer la qualité des prestations. La Cnam décide au final des indicateurs à retenir (parmi ceux proposés par le Titulaire et/ou d’autres) ? |

# 6 Définition des besoins

## 6.1 Exigences fonctionnelles

### 6.1.1 Reprise de l’existant

| Fonctionnalités | Description générale |
| --- | --- |
| Fonctionnalités | Description générale |
| EXG_FON_1<br>Reprise et maintien de l’existant | Reprise de tous les éléments et fonctionnalités de MES et du DMP (y compris outils de pilotage du projet tels que JIRA, Confluence, etc.) |
| EXG_FON_2<br>Continuité de service | S’assurer de la continuité de service durant toute la durée de l’accord-cadre (y compris phase d’initialisation/réversibilité). |

### 6.1.2 Identification/Enrôlement

| Fonctionnalités | Description générale |
| --- | --- |
| Fonctionnalités | Description générale |
| EXG_FON_3<br>Identité de l’usager | Pour l’enrôlement, le service doit s’interfacer avec les services de la sécurité sociale afin de valider l’identité de l’usager ou de l’ouvrant droit avant l’activation de MES. |

### 6.1.3 Gestion des comptes

| Fonctionnalités | Description générale |
| --- | --- |
| Fonctionnalités | Description générale |
| EXG_FON_4<br>Gestion du cycle de vie | Le système de Métier doit gérer le cycle de vie de MES, ressources et compte MES en faisant évoluer les changements d’états des éléments constituant son MES (décisions du titulaire de MES ou changements induits par d’autres acteurs autorisés). |

### 6.1.4 Gestion des notifications

| Fonctionnalités | Description générale |
| --- | --- |
| Fonctionnalités | Description générale |
| EXG_FON_5<br>Notifications par SMS | Le système de gestion des notifications pour le titulaire du compte MES doit acheminer les SMS auprès de tous les opérateurs téléphoniques (physiques ou virtuels) exerçant en France (Métropole et DROM). |
| EXG_FON_6<br>Changement d’opérateur SMS | Le système de gestion des notifications pour le titulaire du compte MES doit pouvoir s’adapter au changement d’opérateur en charge d’expédier les SMS vers les usagers ou les PS. |
| EXG_FON_7<br>Gestion des préférences de notification | Le système doit enregistrer les choix de configuration du profil par le titulaire du compte MES.<br>Il doit gérer les préférences de communication (choix du canal de notification /OTP) en fonction des services et des usages et potentiellement interrogeable par les services transverses du socle technique |
| EXG_FON_8<br>Pilotage du débit | Le système doit disposer des moyens de piloter le « débit » des notifications vers les usagers (pour des questions de coût ou pour éviter de surcharger l’usager en notifications). |
| EXG_FON_9<br>Etat de l’art | Respecter l’état de l’art sur les notifications (SMS, push mobile, courriel, courrier, voire autre dispositif). |

### 6.1.5 Consentement pour échanges de données avec MES

| Fonctionnalités | Description générale |
| --- | --- |
| Fonctionnalités | Description générale |
| EXG_FON_10<br>Gestion du consentement | Le consentement pour l’accès à ses données et leurs utilisations est géré au niveau de MES. |

### 6.1.6 Capacité d’interfaçage

| Fonctionnalités | Description générale |
| --- | --- |
| Fonctionnalités | Description générale |
| EXG_FON_11<br>Capacité d’interfaçage | La solution doit être en capacité de s’interfacer avec les services de la sphère sociale avec comme objectif d’assurer une intégration transparente pour les utilisateurs. Il peut être envisagé, en fonction des besoins, différents degrés d’interfaçages :<br>- Intégration par un appel contextuel<br>- Intégration par abonnement à des évènements émis par la sphère sociale<br>- Intégration par échange en masse |

### 6.1.7 Expérience utilisateur, ergonomie et facilité d’utilisation de la solution

La construction de l’expérience utilisateur et l’ergonomie de MES s’appuie sur l’ensemble des principes suivants :

- Comprendre les attentes et besoins des usagers de MES à travers la mise en place d’enquêtes et d’ateliers citoyens sur le terrain ;
- Identifier les dernières tendances et usages les plus marquants de la transformation numérique, de manière générale, et du secteur de la e-santé plus particulièrement, à travers la réalisation de benchmarks et de veille des tendances ;
- Prendre en compte les besoins et usages des acteurs tiers pouvant accéder ou proposer des services au sein de MES (ex. : professionnels, éditeurs/offreurs de services) en interrogeant les parties prenantes.

La construction de l’univers graphique du produit MES s’appuie sur l’univers de marque défini par la Direction de Communication de la Cnam (DICOM).

Le front office de MES doit pouvoir s’adapter et évoluer au rythme des besoins utilisateurs et aux interactions avec son écosystème. Ces principes s’inscrivent dans une démarche centrée sur l’utilisateur et ont pour objectif d’offrir à l’usager un parcours utilisateur optimal à travers une plateforme adaptée et facile d’utilisation.

Les fonctionnalités du SI MES et leurs mises en œuvre doivent pouvoir s’adapter continuellement aux besoins des usagers de manière à maximiser l’apport de valeur et in fine l’usage de MES. Pour ce faire, le Titulaire met en place des boucles de rétroaction les plus dynamiques et complètes possibles. Ces boucles s’appuient sur des retours d’usages, des analyses d’usages, des enquêtes et des focus groupes.

La conception du Front Office MES doit respecter les exigences suivantes.

| Fonctionnalités | Description générale |
| --- | --- |
| Fonctionnalités | Description générale |
| EXG_FON_12<br>Ergonomie et utilisabilité des interfaces | Assurer une cohérence de la navigation quelles que soient les conditions d’utilisation de MES. L’usager doit profiter d’une expérience utilisateur simple et pertinente au sein de MES. Les transitions d’un support à un autre doivent être logiques, faciles et garantissant l’aboutissement du parcours utilisateur engagé. |
| EXG_FON_13<br>Fiabilité et performance | En plus de la facilité d’accès et de disponibilité, MES doit être un service performant s’appuyant sur des exigences techniques permettant d’assurer des temps de réponse et de chargement optimaux dans toutes les conditions d’usage. |
| EXG_FON_14<br>Mise à jour du produit MES (FO et BO) | Les opérations de mise à jour (mise en production applicative) ainsi que les maintenances techniques (mise à jour des socles techniques de la plateforme) doivent être transparentes pour l’usager. |
| EXG_FON_15<br>Responsivité des interfaces | Ce critère est indispensable car il permet à l’ensemble des usagers adressés par MES de profiter d’une expérience utilisateur de qualité quel que soit le support utilisé (desktop, smartphone, tablette, etc.) |
| EXG_FON_16<br>Universalité du service | L’expérience utilisateur s’appuie sur les principes dictés dans le RGAA 4 afin de faciliter la lisibilité à l’ensemble des usagers et ainsi de permettre l’accessibilité au grand public.<br>L’audit du 31 janvier 2023 indique que MES respecte à 75% les critères du RGAA 4.1. Il est nécessaire de s’assurer que le respect de ces critères ne soit pas réduit. |
| EXG_FON_17<br>Eco-responsabilité | MES s’inscrit dans une démarche d’éco-responsabilité. Son écoscore est de 75. Le projet doit s’inscrire dans cette démarche et faire en sorte de maintenir ou d’améliorer ce score en réutilisant les parcours utilisés. Les scénarios pour évaluer le bon respect de cet écoscore peuvent être amenés à évoluer suite à échanges et accords entre le Titulaire et la Cnam. L’objectif d’atteindre un score minimal de 75 points doit demeurer même suite à ces évolutions. |
| EXG_FON_18<br>Rétrocompatibilité | Le Titulaire garantit le maintien en conditions opérationnelles de l’application mobile sur les versions majeures des OS standard du marché et principaux terminaux (couverture cible de 85% par OS).<br>Il s’assure que les versions mobiles comme web des outils restent compatibles avec les versions antérieures, définies avec la Cnam, des OS ou des navigateurs. |
| EXG_FON_19<br>Schéma pluriannuel de mise en accessibilité | La solution du Titulaire s’inscrit dans le schéma pluriannuel de mise en accessibilité des différents systèmes inclus dans le périmètre de l’accord-cadre (MES, DMP, PSN, etc.). |

### 6.1.8 Déploiement

| Fonctionnalités | Description générale |
| --- | --- |
| Fonctionnalités | Description générale |
| EXG_FON_20<br>Modularité | Le Titulaire s’engage à mettre en place une architecture et une organisation des développements logiciels permettant :<br>- Une facilité d’intégration de briques supplémentaires<br>- Une facilité de modification et déploiement en production d’évolution ciblée sur un délai cours en parallèle des versions évolutives structurantes en cours.Le dispositif de prise en compte de cette exigence par le Titulaire est décrit dans son offre et reprise dans le PAQ. |
| EXG_FON_21<br>Expérimentations | Le Titulaire s’engage à mettre en place une solution permettant de limiter des déploiements à certains usagers selon des critères prédéfinis (qui peuvent être zone géographique ou critère autre lié à l’usager) avant de pousser de nouvelles fonctionnalités à l’ensemble des usagers. |

### 6.1.9 SI PILotage

La Cnam dispose de droits d’accès en création pour les utilisateurs de l’outil de pilotage. Le volume estimé est de l'ordre de 100 à 120 licences. Les modalités de publication à des publics plus larges ne sont pas déterminées à la date de rédaction du présent CCTP et restent à définir.

| Fonctionnalités | Description générale |
| --- | --- |
| Fonctionnalités | Description générale |
| EXG_FON_22<br>Outil de pilotage | Disposer d’un outil de pilotage (pour MES ou suite à la convergence MESDMP) qui permette de disposer d’indicateurs de pilotage avec un nombre d’actions manuelles limité nécessaires pour les obtenir.<br>Pouvoir interfacer cet outil avec des sources de données externes (ex. : AT Internet) en limitant là encore les actions manuelles nécessaires. |
| EXG_FON_23<br>Automatisation de la gestion des comptes | Mettre en œuvre l’automatisation de la gestion des comptes utilisateurs au moins pour les demandes de modifications de mot de passe et des demandes de créations et de suppressions de comptes utilisateurs. |
| EXG_FON_24<br>Ouverture du SI Pilotage | Le SI Pilotage doit permettre l'intégration de données externes (ex. : BSP) |
| EXG_FON_25<br>Habilitations | Le SI Pilotage doit disposer d’un mécanisme de gestion de profils d’habilitations |
| EXG_FON_26<br>Autonomie gestion des TdB | La Cnam doit pouvoir gérer en toute autonomie la création et la mise à jour des tableaux de bord mis à disposition sur l’outil de pilotage. |

### 6.1.10 Audit et statistiques

| Fonctionnalités | Description générale |
| --- | --- |
| Fonctionnalités | Description générale |
| EXG_FON_27<br>Mesure des audiences | Les mesures d’audiences doivent couvrir l’application Web et l’application Mobile.<br>L’ensemble des pages du site Web et de l’application Mobile doit faire l’objet de mesures d’audience.<br>Les indicateurs classiques de mesures d’audience sont attendus:<br>- Audience : Visiteurs, Nb de visite, Temps moyen passé sur le site, pic d’activité, etc.<br>- Pages : Nombre de pages vues, Nombre de visiteurs par page (top 5), temps moyen par page, pages d’entrées, pages de sortie, etc.<br>- Suivi des Clics : boutons, liens, etc.<br>- Navigation : l’outil doit permettre le suivi de parcours utilisateur prédéfini. Ex : connexion, ajout d’un document, etc. |
| EXG_FON_28<br>Evolutivité des Indicateurs des d’usages | Le système de remontée d’indicateurs d’usage doit pouvoir s’adapter au moment du déploiement de nouvelles fonctionnalités.<br>Cela implique la création de nouveaux indicateurs ainsi que l’évolution des anciens indicateurs (création de croisement, recoupement)<br>Le système doit aussi permettre l’ajout d’indicateurs « à chaud » sur la base des données collectées. Ces données doivent être accessibles pour la mise en place des indicateurs, de manière simple et directe par l’équipe en charge de leur création, par exemple via un requêteur SQL pour les BDD relationnelles. |
| EXG_FON_29<br>Rapports et infographies | Le Titulaire génère de façon mensuelle des rapports à destination de la Cnam, permettant de suivre les tendances du site web et de l’application mobile Mon Espace Santé.<br>Une infographie hebdomadaire est produite par le Titulaire, et communiquée à la Cnam, pour un suivi précis des indicateurs clés. |

## 6.2 Exigences d’Architecture et d’Exploitation

### 6.2.1 Exigences d’Architecture Applicative

Les exigences générales d’architecture, qui s’appliquent à l’existant et doivent être respectées tout au long de l’accord-cadre, sont définies ci-après.

NB : Dans la description des exigences, le terme « Système » représente l’ensemble du patrimoine applicatif concerné par le présent CCTP (Mon Espace Santé + le SI DMP + les évolutions à venir), également appelé MESDMP (Mon Espace Santé – Dossier Médical Partagé)

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_ARA_1<br>Patterns d’Architecture | La conception et l'architecture applicative du Système doit être modulaire et faciliter l'évolutivité de la solution. Les principes de séparation des responsabilités, d'architecture résiliente aux défauts, d'encapsulation, d'interopérabilité, et de testabilité doivent être appliqués pour les différents éléments constituant la solution.<br>Parmi les mises en œuvre, on retrouve notamment :<br>- Découplage Front / Back (usage d’un BFF)<br>- Usage d’une médiation systématique (API Management, etc.)<br>- µS dès que cela est possible (modularité, autonomie, etc.)<br>- Utilisation préférentielle de l’évènementiel / fil de l’eau (Broker de messages, etc.) dès que ce pattern est adapté au besoin<br>- Possibilité d’orchestration du parcours d’un usager « de bout en bout »<br>- Les Traitements de masse périodiques, à l’échelle de l’intégralité du système et de ses 70 millions d’ENS, doivent être possibles dans des délais raisonnables (< 1 mois). |
| EXG_ARA_2<br>Continuité de service | Le Titulaire assure la continuité de service vis-à-vis des clients actuels (LPS et Usagers) du Système et sa rétrocompatibilité (= sans impact sur ses clients) durant tout le temps de sa convergence vers la cible à 3 ans |
| EXG_ARA_3<br>SLA | Le Système doit veiller à apporter :<br>- Scalabilité : le Système doit être conçu de manière à ce que l’augmentation des moyens de traitement (préférentiellement la capacité « horizontale » par multiplication des instances, couplée si nécessaire à une augmentation « verticale » des caractéristiques des instances) permette de répondre aux sollicitations actuelles et futures.<br>- Elasticité : le Système doit être conçu de manière à ce que, sans intervention manuelle ou quelconque modification d’architecture, il soit en capacité de traiter une augmentation d’usage de 5 à 10 fois la moyenne prévue.<br>- Résilience : Le Système doit être implémenté de manière à ce que les conséquences des erreurs d’exécution soient circonscrites au strict périmètre de la fonctionnalité concernée, sans autre impact sur le service rendu par le reste du Système.<br>- Performance : <voir Exigences du § 6.2.5><br>- Disponibilité : <voir Exigences du §6.2.3><br>- Robustesse : <voir Exigences du §6.2.6> |
| EXG_ARA_4<br>Traçabilité / Auditabilité | Le Système doit offrir un ou des dispositifs garantissant la consignation et la rétention -sur la durée ad hoc- des éléments de trace permettant de mener des investigations a postériori à des fins de diagnostics fonctionnels, techniques ou sécuritaires.<br>NB : cette exigence, comme toutes les autres, s’applique dans le respect strict des exigences de Sécurité et de respect du RGPD |
| EXG_ARA_5<br>Open Source / Standards | Dès que cela est possible, et en accord avec la Cnam, le Système doit mettre en œuvre des solutions à base de logiciels et de technologies OpenSource et respectant des standards publics établis.<br>De manière générale, le Titulaire doit minimiser le nombre de technologies utilisées pour les développements (en gardant leur utilisation légitime, sans détournement). |
| EXG_ARA_6<br>Chiffrement/<br>Confidentialité des données | Le Système doit garantir la confidentialité des données sensibles qu’il manipule et mettre en œuvre toute mesure nécessaire pour en rendre l’accès non autorisé impossible.<br>Parmi ces mesures exigibles, on trouve celle du chiffrement de toutes les données sensibles par nature ou dont l’usage combiné avec d’autres données peut mettre la confidentialité d’informations personnelles en péril.<br>NB : cette exigence est une reformulation d’une partie du corpus d’exigences concernant la Sécurité. Voir le § 6.3.2 pour plus de détails. |
| EXG_ARA_7<br>Authentification | Le Système doit permettre l’authentification renforcée (au moins 2FA) de ses usagers (Grand public ou Professionnels utilisateurs du Système).<br>NB : cette exigence est une reformulation d’une partie du corpus d’exigences concernant la Sécurité. Cf. § 6.3.2 pour plus de détails. |
| EXG_ARA_8<br>Conformité RGPD | Le Système doit garantir le respect du RGPD pour l’ensemble de ses usagers |
| EXG_ARA_9<br>Accessibilité | Le Système doit être conçu de manière à ce que l’accessibilité soit garantie avec le maintien d’un RGAA >75% |
| EXG_ARA_10<br>Accès Multicanaux | Le Système doit être conçu de manière à ce qu’il soit utilisable via différents dispositifs.<br>Pour les usagers (selon les exigences de la Cnam) :<br>- Version Web (responsive)<br>- Version mobile (IOS / Androïd, etc.)Pour les écosystèmes tiers :<br>- Expositions d’API |
| EXG_ARA_11<br>Pilotage métier | Le Système doit disposer d’une solution autonome et configurable permettant la production d’indicateurs statistiques clés pour effectuer le pilotage par le Métier (Système Décisionnel / BI). |
| EXG_ARA_12<br>Archivage | Le Système doit disposer d’une solution de conservation des données sur la période légale dans les conditions de preuves exigibles. |
| EXG_ARA_13<br>Gestion de l’obsolescence | Le Système doit toujours être maintenu « à jour » sur l’ensemble de ses technologies et produits utilisés.<br>De façon similaire, les éventuelles dettes architecturales consignées (induites, ponctuellement et transitoirement par des exigences opérationnelles) doivent être résorbées dans un délai inférieur à 3 versions majeures. |
| EXG_ARA_14<br>Interopérabilité avec Sphère Sociale | Le Système doit être capable d’interagir avec la Sphère Sociale (partenaires parmi ceux référencés dans les § « MES - Interfaces externes » de MES et « DMP - Interfaces externes » du DMP), notamment en mettant en œuvre le protocole InterOPS, aussi bien pour les appels de services que pour les accès par des agents de la Sphère sociale aux IHM les concernant (Assurance Maladie requise, autres à étudier selon besoins). |
| EXG_ARA_15<br>Sécurité | Cf. section dédiée 6.3.2 Exigences de sécurité |
| EXG_ARA_16<br>Documentation d’Architecture | L’ensemble des documents d’architecture doit être maintenu à jour et publié régulièrement (a minima pour chaque release).<br>Parmi les documents exigés (liste non exhaustive) :<br>- **Dossier d’Architecture Fonctionnelle (DAF)**<br>- **Finalités : **centraliser dans un seul document l’ensemble des fonctionnalités du système grâce au :<br>- **Référencement des cas d’usage fonctionnels et les processus principaux **(Diagrammes UML des UC, BPML avec a minima : les Acteurs/Profils, les fonctions -avec leur description fonctionnelle- et les associations)<br>- **Référencement de l’ensemble du modèle des entités manipulées **(Diagrammes UML de Classes ou MCD)** **avec, a minima pour les plus structurantes, leur** cycle de vie **(UML Diagramme état-transition)<br>- **Le dictionnaire de données **avec le nom de chaque attribut, leur description/libellé, leur type (numérique, texte, binaire, booléen, date, etc.), les éléments de sécurité (chiffrement O/N) et les domaines de valeurs lorsqu’il existent.<br>- **Dossier d’Architecture Applicative et Logicielle (DAL)**<br>- **Finalités** : décrire grâce à des **schémas** et des parties descriptives/rédactionnelles, l’architecture complète du système MESDMP, **Forge logicielle CI/CD incluse,** en incluant** :**<br>- **Les rôles/responsabilités/SLA de l’intégralité des Composants Logiciels** (= *« Artéfacts déployables et/ou configurables* ») avec, a minima :<br>- Id Unique<br>- Description fonctionnelle<br>- Type (µservice, ws Soap, EJB, Topic Kafka, EIP, Base de donnée, batch ordonnancé, médiation/APIM/, progiciels, etc.)<br>- SLA (plage de dispo, performances *max* issues des benchs, criticité, mode de PCA/PRA, type de scalabilité, etc.)<br>- Langage/framework principaux utilisés (Java, javascript, Spring, PostgreSQL, etc.)<br>- Lien vers la documentation correspondante : Spec. fonctionnelles, dossier de conception technique, etc.<br>- Une référence vers le composant technique (décrit dans le DAT => ***voir EXG_ART_3.1***) sur lequel s’exécute le composant logiciel<br>- **Toutes les** **interactions** entre Composants Logiciels (Id Unique, protocole, type/stratégie de sécurité (OAuth, TLSm, etc.), fourchette de volumétrie *prévue* (tps ou Mo/s), etc.🡺 **NB** : il est demandé que les modifications d’une version à une autre du DAL soient mises en évidence directement sur les schémas pour en faciliter la lecture : interactions ou composants nouveaux, inchangés, modifiés ou supprimés.<br>I**l est impératif qu’un dispositif permette une navigation simple entre le DAL et le DAT** afin de répondre rapidement à des questions du type :<br>- Sur quel environnement d’exécution (VM, POD, etc.) tourne un composant donné<br>- Quels sont les composants qui partagent un environnement de run (middleware, ressources mémoire ou matérielles) donné.**NB **: Idéalement, ces documentations doivent pouvoir être générées à partir d’un outil de gestion de Référentiel d’Architecture |
| EXG_ARA_17<br>Frugalité et éco-responsabilité | Le critère de frugalité énergétique et de l’éco-responsabilité doit être pris en compte dans le design de l’architecture du Système en accord avec les éventuels arbitrages métier que cela nécessite. |
| EXG_ARA_18<br>Supervision et métrologie | L’observabilité du Système doit être garantie afin de pouvoir accomplir les activités de Supervision/alerting et de métrologie (compléments : voir le 6.2.7  « Exigences de Supervision et métrologie) » |
| EXG_ARA_19<br>API d’Accès ressources partagées | Les ressources sont partagées entre les écosystèmes Mon *Espace Santé (MES)* et *Bouquet de Service aux Professionnels (BSP)*. Aucune de ces ressources n’est accessible directement par les applications clientes. MES (comme le BSP) doit donc exposer une couche d’interface rendant l’accès à ces ressources possible. |
| EXG_ARA_20<br>Prise en compte du CI-SIS | Le Cadre d’Interopérabilité des Systèmes d’Informations de Santé (CI-SIS) doit être appliqué aux composants du Système implémentant l’interopérabilité à chaque fois qu’un des volets du CI-SIS est légitimement applicable au contexte d’usage de la fonctionnalité considérée. |
| **EXG_ARA_21 **<br>Usage de la Médiation | Pour chaque communication entre composants applicatifs du Système, l’usage d’un dispositif de médiation doit être privilégié.<br>Parmi les finalités recherchées (*NB : applicables selon les types de communication et la nature des composants communicants) *:<br>- Facilite le 1er niveau de découplage entre producteur et consommateur.<br>- Facilite l’interopérabilité protocolaire entre producteur et consommateur (« middleware »)<br>- Autorise des adaptations applicatives pour minimiser les impacts de montée de version des fournisseurs de données (ceux qui exposent les APIs)<br>- Autorise des paramétrages de SLA externalisés des implémentations des producteurs et/ou consommateurs (Régulation de la qualité de service)<br>- Garantit un 1er niveau de sécurité et le rejet des appels issus des composants applicatifs non autorisés en liaison avec le socle technique de sécurité.<br>- Facilite les opérations de maintenance en gérant l’indisponibilité potentielle des fournisseurs de service (donne l’information aux clients « consommateurs » de MES)<br>- Garantit que l’intégralité des sollicitations qu’il reçoit (Evènement des ressources, Appels) fait l’objet d’un traitement (nominal, exception, erreur, etc.)<br>- Assure le 1er niveau de traçabilité (niveau technique a minima) et d’alimentation des indicateurs de fréquentation |
| EXG_ARA_22<br>Cohérence fonctionnelle des API | La dénomination des objets et champ en entrée / sortie de l’API doit être cohérente et homogène d’une API à l’autre |
| EXG_ARA_23<br>Gestion des erreurs | Le retour de l’API doit permettre de faire la différence entre une réelle erreur technique du serveur d’API, une donnée manquante en entrée de l’appel (requête non conforme) ou encore une erreur levée par un service de plus bas niveau |
| EXG_ARA_24<br>Traçabilité des appels | Pour chaque appel aux API les traces qui doivent être générées doivent permettre a minima d’établir un diagnostic.<br>L'appel à un service de signature qualifié pour augmenter le caractère probant des traces est, le cas échéant, déterminé, au cas par cas. |
| EXG_ARA_25<br>Traçabilité des appels | Pour chaque appel aux API, une trace doit être générée comprenant a minima les informations suivantes :<br>- Client appelant<br>- Opération appelée (path / verbe HTTP)<br>- Date / heure d’appel<br>- Temps de réponse<br>- Code retour http et éventuel code retour métier<br>- Nombre d’éléments retournésNB : les exigences de sécurité/chiffrement, confidentialité, conformité RGPD, etc. s’appliquent à cette exigence comme à toutes les autres. |
| EXG_ARA_26<br>Documentation des API | La publication des API du BO doit être outillée, documentée et organisée via des revues régulières. Ceci concerne aussi bien les demandes de création de nouvelles API que les évolutions d’API existantes.<br>Le BO doit proposer un dispositif et une documentation d’accompagnement à 2 niveaux :<br>1. Fonctionnel, à destination du représentant fonctionnel du service FO (PO, MOA) ou de manière plus générale, des équipes de réalisation du client pour :<br>- Introduire l’API et ses capacités<br>- Expliciter les liens entre le besoin fonctionnel du client et les fonctionnalités exposées par l’APICe premier niveau doit permettre une compréhension mutuelle maximale entre le client FO et le fournisseur BO<br>1. Technique, à destination des équipes de réalisation du service FO, pour :<br>- S’approprier techniquement le service<br>- Amorcer les séquences d’appels REST à effectuer pour couvrir les principaux cas d’utilisation client<br>- Faciliter les tests, du développement à la recette fonctionnelleCe second niveau permet de simplifier la mise en œuvre et d’éviter les confusions et usages non pertinents / inefficaces de l’API. |
| EXG_ARA_27<br>Rétrocompatibilité et version d’API | Dans le cas d’une évolution d’API existante, la rétrocompatibilité doit être garantie pour tous les clients consommateurs de l’API.<br>- Une rupture de compatibilité est une décision exclusivement à la main de la Cnam.<br>- Le Système doit permettre d’avoir plusieurs versions d’une même API en production en même temps et doit fournir les moyens de gérer le taux de bascule progressif des clients d’une version vers une autre dans le cas de versions d’API retro-compatibles. |
| EXG_ARA_28<br>Données froides | Le Système doit disposer d’une solution de stockage de « données froides » permettant la rétention sur une longue période d’une grande quantité de données à moindre coût (au prix d’un accès non immédiat pour l’utilisateur final).<br>L’automatisation de la récupération de ces « données froides » pour la mettre à disposition des utilisateurs doit être possible. |
| EXG_ARA_29<br>Service Mesh | A des fins d'observabilité, de maîtrise des communications et de sécurité, la mise en œuvre d'une couche d'infrastructure de type service Mesh est exigée au cœur de l'architecture micro services. |
| EXG_ARA_30<br>Ordonnanceur | Un outil d'ordonnancement des traitements différés (batchs) doit être mis en œuvre afin d'assurer la planification, l'enchaînement, la reprise sur incidents et le reporting associés à ces traitements. |
| EXG_ARA_31<br>Reprise | A l’issue de la réalisation du lot de convergence C1.1 (cf. §3.6.1) le système MESDMP ne comporte plus aucune trace de technologies typées JEE : il n’y a plus d’EJB ni de serveur Tomee. |

### 6.2.2 Exigences d’Architecture Technique

Les exigences générales d’architecture technique, qui s’appliquent à l’existant et doivent être respectées tout au long de l’accord-cadre, sont définies ci-après.

#### 6.2.2.1 ART1 – Interconnexion avec la Cnam et les autres partenaires

L’Assurance Maladie dispose de 2 datacenters de production informatique : le CSH SUD à Toulouse et le CSH GE à Strasbourg. Ces 2 centres sont chacun équipés d’un accès à Internet.

L’interconnexion entre les différents partenaires, y compris la Cnam et le Titulaire, dont il est question dans ce paragraphe sert essentiellement :

- A fournir les services applicatifs via l’interconnexion avec les SI des partenaires (échanges de fichiers, de messages Transactionnels et au fil de l’eau en mode synchrones et asynchrones, accès à des IHM hébergées par le Titulaire (Support, etc.) et proposées aux agents des partenaires) tant pour les environnements Production que Hors Production.
- A l’accès aux environnements hors production dès que nécessaire (représentativité nécessaire pour les tests de bout en bout).
- Au partage des outils nécessaires à la gestion des incidents, des problèmes, des anomalies et au partage des états des services de MESDMP.
- A l’accès aux environnements collaboratifs pour partage des documents contractuels.

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_ART_1.1 | La solution réseau est à la charge du Titulaire. Sont notamment inclus dans sa prestation pendant la durée de l’accord-cadre, sans faire l’objet d’une facturation particulière :<br>- La mise en place des interconnexions réseaux.<br>- Leur gestion technique conjointe avec les experts de la Cnam et des autres partenaires.<br>- Leurs évolutions (ex. : usage de services en SaaS, d’un CDN (Content Delivery Network), etc. si besoin).<br>- La résolution des dysfonctionnements éventuels. |
| EXG_ART_1.2 | Le Titulaire établit puis maintient, en la mettant à jour lors de toute évolution des services, une matrice exhaustive des flux pendant toute la durée de la prestation.<br>Afin que la Cnam puisse construire sa politique de filtrage et de NAT au niveau de ses équipements périmétriques, le Titulaire fournit de manière exhaustive l’ensemble des informations (adresses IP, protocoles et ports). Cette matrice est transmise à la Cnam, a minima, lors des Comités de Pilotage. |
| EXG_ART_1.3 | Quelle que soit l’organisation du Titulaire concernant sa gestion de la solution réseau d’interconnexion (sous-traitance partielle, totale, aucune, etc.), il met à disposition :<br>- L’expertise nécessaire au dialogue avec les experts réseau de la Cnam (évolutions, troubleshooting).<br>- Les moyens (techniques, contractuels, etc.) d’intervention rapide en cas de dysfonctionnement ou d’évolution urgente.<br>- Un suivi des interconnexions réseau publiant des indicateurs de reporting opérationnels (sur la nature des flux, la volumétrie des échanges, le nombre d’incidents, etc.).<br>- Un moyen pour partager en temps réel les indicateurs précédents avec les équipes de la Cnam. |
| EXG_ART_1.4 | Le Titulaire prend en charge la réalisation des interconnexions réseaux et du maintien en conditions opérationnelles (MCO) du service. Il consigne dans le PAQ a minima :<br>- Le rôle et les responsabilités des intervenants du Titulaire et de la Cnam,<br>- Les engagements de qualité de service,<br>- Les moyens mis en place par le Titulaire pour assurer le MCO de la solution réseau d'interconnexion,<br>- Les informations nécessaires à l’ouverture et au suivi des incidents et des demandes relatives à la solution réseau d'interconnexion, notamment :<br>- **La description du processus de traitement des incidents et des demandes,**<br>- **La procédure d’ouverture d’un ticket d’incident ou d’une demande et les informations à fournir par la Cnam (n° client, etc.),**<br>- **La procédure d’escalade.** |
| EXG_ART_1.5 | Toute intervention sur les équipements se trouvant sous la responsabilité du Titulaire et impactant le service de MESDMP doit faire l’objet de l’envoi d’un avis d’intervention à la Cnam au minimum 15 jours calendaires avant la date de cette intervention. Le Titulaire doit obligatoirement préciser a minima :<br>- La référence client du ou des sites impactés.<br>- Les dates et horaires de l’intervention.<br>- La raison de l’intervention.Dans la mesure du possible, la Cnam demande que ces interventions soient effectuées entre 22h et 6h.<br>Cette règle s’applique pour toute intervention, qu’elle soit à l’initiative du Titulaire ou qu’elle fasse suite à une demande d’évolution ou de modification de la Cnam. Dans ce dernier cas, les opérations programmées en Heure Non Ouvrée (HNO) ne font pas l’objet d’une facturation supplémentaire. |
| EXG_ART_1.6 | Le Titulaire est en capacité de reproduire et faire évoluer en respectant l’état de l’art les dispositifs d’interconnexion mis en place (liaison point-à-point, VPN IPSec, VPN SSL, MPLS, etc.) avec la Cnam et les différents partenaires existants.<br>Toute évolution des solutions réseau d'interconnexion est obligatoirement validée par la Cnam avant mise en œuvre.<br>Ceci en adéquation avec les engagements de services requis dans le cadre du présent CCTP, notamment concernant :<br>- Les taux de disponibilité mensuel et annuel des services.<br>- Le nombre maximum d’indisponibilités quotidien, hebdomadaire, mensuel et annuel.<br>- La garantie de temps de rétablissement.<br>- Les temps de réponse. |
| EXG_ART_1.7 | Le Titulaire doit mettre en place un processus de translation d’adresses NAT pour toutes les applications proposées par le Titulaire accessibles depuis la Cnam ou les autres partenaires. |
| EXG_ART_1.8 | L’offre du Titulaire précise s’il s’appuie sur ses services propres ou sur ceux d’un fournisseur tiers.<br>La constitution exacte de chaque solution réseau d'interconnexion, précisant de manière exhaustive les équipements traversés (routeurs, commutateurs, pare-feu, sondes, etc.), est décrite par le Titulaire dans la LLD réseau. Cette documentation est illustrée par un ou plusieurs schémas (physiques et logiques). La version initiale de cette documentation est rédigée par le Titulaire et validée par la Cnam, dans les 6 mois suivant la notification de l’accord-cadre. A défaut, il encourt une pénalité définie au CCAP.<br>Le Titulaire maintient cette documentation à jour et la communique à la Cnam a minima lors des Comités de Pilotage. |

#### 6.2.2.2 ART2 – Interfaçage avec la Cnam et les autres partenaires

| Exigences | Description générale |
| --- | --- |
| EXG_ART_2.1<br>Echanges de fichiers | Les échanges de ce type du Titulaire doivent s’inscrire dans le cadre de la solution prévue à la Cnam, basée sur le principe d’un SAS de dépôt et de réception :<br>- Mode Asynchrone.<br>- Protocoles : Pesit SSL ou SFTP en mode certificat (pas de user / password).<br>- Les tailles limites standard des fichiers sont de PESIT/500Mo, SFTP/200Mo ; la volumétrie quotidienne est limitée à 2Go/24h.<br>- Le système du Titulaire vient déposer ou récupérer les flux fichiers auprès du système de la Cnam. |
| EXG_ART_2.2<br>Services Web SOAP | Le Titulaire étant client ou fournisseur selon le cas d’usage doit être en conformité avec InterOps-A. |
| EXG_ART_2.3<br>Services Web REST | Le Titulaire étant client ou fournisseur selon le cas d’usage doit être en conformité avec InterOps-R. |
| EXG_ART_2.4<br>Web SSO inter-portails | Le Titulaire étant client ou fournisseur selon le cas d’usage doit être en conformité avec InterOps-P. |
| EXG_ART_2.5<br>Services d’éditique de la Cnam | Les échanges avec le système d’éditique de la Cnam doivent s’inscrire dans le cadre de la solution prévue à la Cnam:<br>- Dépôt de fichiers dans le SAS Cnav destiné à cet usage.<br>- Dans un format AFP à destination des systèmes d’impression industriels. |

#### 6.2.2.3 ART3 – Documentation de Conception d’Architecture Technique

| Exigences | Description générale |
| --- | --- |
| EXG_ART_3.1 | Le Titulaire fournit et maintient à jour, pendant toute la durée d’exécution de l’accord-cadre, les documents suivants :<br>**HLD** (High Level Design) de l’infrastructure et de ses services transverses : donne une description macroscopique et complète de l’architecture du système (zones d’hébergement, zones réseaux, stockage, compute, sauvegarde, éléments de sécurité, réplications; services transverses et familles de services applicatifs et middleware avec leurs mécanismes d’équilibrage et basculement, etc.). On y trouve de nombreux schémas.<br>**LLD** (Low Level Design) des composants (réseau, compute, stockage…) et des services de l’infrastructure (sauvegarde, supervision, solution de sécurité, etc.) ainsi que des middleware (SGBD, etc.) et des services techniques communs (système d’échange de fichiers, de mails, etc.) : détaillent les choix d’architecture, implantation et fonctionnement retenus notamment pour en assurer les disponibilité, duplication, sauvegarde, supervision, sécurité, performance. On y trouve des schémas permettant d’appréhender sans interprétation les explications des fonctionnements qui les suivent. |
| EXG_ART_3.2 | Le Titulaire fournit et maintient à jour, pendant toute la durée d’exécution de l’accord-cadre, le document suivant :<br>**DAT** (Dossier d’Architecture Technique) de l’intégralité du système MESDMP **Forge logicielle CI/CD incluse :** il est fortement lié au DAL (EXG_ARA_16) dont il décrit l’implantation sur l’infrastructure sous forme de schémas, textes et tableaux.<br>- Finalités :<br>- Décrire la topologie de déploiement : quels composants applicatifs (identifiés comme sur le DAL) sur quels composants d’infrastructure d’exécution (VM, PODs, Appliance, matériel non virtualisé, etc.) ; quels flux existent entre ces composants d’infrastructure d’exécution ; lesquels de ces flux entrent et sortent des diverses zones de filtrage (VLAN, Zone de confiance, NameSpace, network policy, etc.).<br>- Permettre une analyse des performances/dysfonctionnements/expositions (reconstruire une cinématique des échanges et intermédiaires techniques entrant en jeu dans un cas de dysfonctionnement à partir des diagrammes de séquence ou équivalent).<br>- Vérifier le niveau de couverture/pertinence des plans de tests et bench proposés ou nécessaires.<br>- Vérifier les dispositifs mis en œuvre pour garantir les niveaux de disponibilité et de perte de données attendus.<br>- On y trouve aussi :<br>- Les interconnexions avec l’extérieur<br>- Les informations sur les nombres d’instance d’un composant dans les différents clusters/datacenters, etc.<br>- Les informations sur leurs dimensionnements<br>- Les composants techniques prenant en charge les fonctionnalités du type LB, Fail Over.<br>- Les moyens de stockage spécifiques (CEPH, NAS) |

#### 6.2.2.4 ART4 – Description de la solution du Titulaire

| Exigences | Description générale |
| --- | --- |
| EXG_ART_4.1 | Architecture technique adoptée par le Titulaire :<br>Le Titulaire expose l’architecture technique (matérielle, virtualisation, conteneurisation, middleware, etc.) ainsi que les technologies de gestion de cette infrastructure (« infrastructure as code », périmètre concerné, etc.) mises en œuvre dans sa solution.<br>Il précise en quoi les choix faits sont compatibles avec un transfert de l’infrastructure et de ses services lors d’une réversibilité chez un autre hébergeur, SecNumCloud notamment. |
| EXG_ART_4.2 | Architecture technique adoptée par le Titulaire pour garantir la haute disponibilité nécessaire aux SLA exprimés (jusqu’à 99,9% 24/7) :<br>Le Titulaire expose l’ensemble des solutions qu’il met en œuvre (multisalles, dual-sites, continuité réseau, multi-opérateurs réseau, peering, débits, virtualisation, cluster étendus, réplication, etc.) pour atteindre le niveau de continuité de service nécessaire à l’hébergement du SI de MESDMP. |
| EXG_ART_4.3 | Architecture technique adoptée par le Titulaire pour le PRA :<br>Le Titulaire expose l’ensemble des solutions qu’il met en œuvre (site, réseau, réplication, sauvegarde, externalisation, etc.) pour se préparer à un éventuel Plan de Reprise d’Activité du SI de MESDMP. |
| EXG_ART_4.4 | Complément de l’EXG_ART_4.2 précédente.<br>Le Titulaire présente, par le biais d’une cinématique des flux traversant les couches de l’application, les éléments techniques et composants logiciels actifs (sont traversés par une part significative de ces flux en permanence), passifs (ne sont traversés par une part significative de ces flux qu’après une bascule manuelle ou automatique) qu’il prévoit d’instancier au sein des différents datacenters.<br>Les éléments techniques et composants logiciels pour lesquels la disponibilité nécessite un déclenchement manuel (activation d’un élément passif, bascule en écriture d’un élément précédemment en lecture seule, etc.) sont précisés dans l’offre du Titulaire. |

### 6.2.3 Exigences de Disponibilité

#### 6.2.3.1 Définitions applicables

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_DIS_1.1 | La disponibilité est la capacité des services à remplir leurs fonctions sur une plage déterminée. Cet indicateur met en évidence les nombres d’heures d’interruption mensuelle hors créneau de maintenance planifiée.<br>Une fonction est considérée comme indisponible lorsque l'usage du service est impossible du fait du défaut de fonctionnement d'une fourniture ou d'un service sous la responsabilité du Titulaire ou lorsque les temps de réponse dépassent les temps de réponse acceptables (cf. §6.2.5 Exigences de Performance).<br>Sont inclus dans les indisponibilités constatées sur la période considérée :<br>- Les indisponibilités des fonctions critiques d’un système.La liste des fonctions critiques, dont les scenarios métier pénalisables, est définie par la Cnam, pendant la phase de reprise (avant bascule de la production) et consignée dans le Plan d’Assurance Qualité (PAQ). La Cnam peut faire évoluer cette liste pendant toute la durée d’exécution de l’accord-cadre.<br>Le nombre de fonctions critiques n’est pas limité. En revanche, le nombre de scenarios métier pénalisables est limité à 10, les évolutions de la liste sont gérées par un mécanisme d’entrée/sortie au gré des besoins de la Cnam. Lorsqu’un scénario métier pénalisable est indisponible, le Titulaire encourt les pénalités fixées au CCAP.<br>Les fonctions critiques considérées par la Cnam pour le SI MESDMP sont, notamment :<br>- Connexion à l’ENS et Compte,<br>- Page d’accueil,<br>- Profil médical,<br>- Documents et les API liées,<br>- Messagerie,<br>- Agenda,<br>- L’outil de support,<br>- L’outil de supervision, dont SI-Pilotage,<br>- Mobile,<br>- Catalogue de Services et API liées,<br>- Enrôlement,<br>- Portail éditeur (comprend le PACS),<br>- Prévention.<br>- Les indisponibilités liées à des changements en production qui n’ont pas fait l’objet de dérogation auprès de la CnamLe taux de disponibilité se définit comme le pourcentage de temps où le service est opérationnel. Il est calculé chaque mois de la manière suivante :<br>(Temps total de la période - Temps d’indisponibilité) / Temps total de la période<br>Le début de l’indisponibilité est le début effectif de l’arrêt, remonté via une alerte des sondes à la console de supervision, ou à défaut selon le relevé dans les fichiers des traces techniques du service. La fin de l’indisponibilité est la fin effective de l’incident, et donc le retour à une situation nominale pour les utilisateurs, constatée par les sondes applicatives (ou mécanisme équivalent) et communiquée par le Titulaire à la Cnam.<br>Le fuseau horaire est celui de l'heure légale en France métropolitaine. |
| EXG_DIS_1.2 | Les services du Titulaire doivent donc être en mesure de supporter toutes les pointes de charge dues à des événements particuliers (Campagne de communication, Opération spéciales, etc.) sans aucune dégradation des temps d’accès. La technologie employée par le Titulaire doit permettre une scalabilité et faciliter l’augmentation des capacités et des performances. |
| EXG_DIS_1.3 | Les paragraphes sur la disponibilité s’appliquent sur le territoire métropolitain et sur les DROM. |
| EXG_DIS_1.4 | Le Titulaire doit limiter les indisponibilités liées à des changements en production (déploiements modulaires). Seules les versions majeures peuvent faire l’objet de dérogation et la Cnam se réserve le droit de refuser une dérogation si les contraintes techniques ne sont pas suffisamment fortes pour justifier l’arrêt. En l’absence de dérogation, la durée d’interruption est comptabilisée dans les indicateurs mensuels. |

#### 6.2.3.2 DIS1 - Commun à tous les Environnements

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_DIS_1.5 | Le Titulaire s’engage à mettre en place la mesure de la disponibilité de l’ensemble des environnements (incluant les aspects réseaux) au travers de mécanismes spécifiques prévus à cet effet (sondes applicatives ou tout autre dispositif équivalent), qui simulent des utilisateurs fictifs et mesurent périodiquement l’accès aux différents services, selon la période définie dans le Plan d’Assurance Qualité. |
| EXG_DIS_1.6 | Les sondes ou autres mécanismes de mesure de disponibilité proposé(e)s par le Titulaire doivent respecter les exigences fonctionnelles de sécurité pour les systèmes en production, et ne doivent pas générer des traces fonctionnelles ni être comptabilisées dans la volumétrie d’activité. |
| EXG_DIS_1.7 | Les sondes de disponibilité ou mécanismes équivalents doivent être implémentés pour tous les environnements accessibles par la Cnam, et la population auxquels ils sont destinés (Professionnels de Santé, Organismes, assurés adhérents, etc.).<br>La Cnam doit accéder en temps réel aux mesures issues de ces sondes. |
| EXG_DIS_1.8 | Les indicateurs de disponibilité sont calculés et publiés tout au long de la journée pour une vérification régulière, en complément des dispositifs de supervision déjà établis. Ces indicateurs doivent être consolidés par le Titulaire et mis à disposition de la Cnam de façon hebdomadaire (le lundi S+1 avant 10h) et mensuelle (le premier lundi M+1 avant 10h), afin de vérifier le respect des objectifs de disponibilité.<br>En cas de non-respect des délais de mise à disposition des indicateurs la Cnam peut appliquer les pénalités définies au CCAP. |
| EXG_DIS_1.9 | Une alerte vers le service de supervision du Titulaire doit être générée quand les sondes ou autres mécanismes de mesure équivalents détectent une indisponibilité de tout ou partie des services. |
| EXG_DIS_1.10 | La Cnam doit recevoir une communication immédiate pour toute indisponibilité totale ou partielle constatée du ou des services au début et à la fin de l’incident (Mail, SMS, Bandeau déroulant sur outils, et ouverture d’un ticket dans l’outil de ticketing Cnam pour suivi, etc.).<br>Dans ce cas, le Titulaire doit entrer dans le processus de gestion d’incident tel que défini dans le PAQ. |
| EXG_DIS_1.11 | Les utilisateurs du système doivent être informés des indisponibilités programmées et constatées par un message approprié, dont le contenu doit être validé par la Cnam avant envoi :<br>- Pour une indisponibilité programmée, le délai minimal de prévenance exigé est de 15 jours calendaires avant l’interruption programmée ;<br>- Pour une indisponibilité de tout ou partie des services, la Cnam doit être prévenue dans un délai de 15 min suivant le début d’interruption.Les acteurs externes (ex. : GIE SESAM-Vitale) doivent également être informés des indisponibilités programmées afin d’anticiper et prévoir la communication auprès de leurs propres contacts (ex. : éditeurs de logiciels, industriels, etc.).<br>Conformément aux exigences de Maintenabilité exprimées au *§6.3.3 « Exigences de Maintenabilité Opérationnelle »*, toute indisponibilité, programmée ou non, est décomptée, dès lors qu’elle survient durant une plage de service.<br>En cas de non-respect des délais d’information, la Cnam peut appliquer les pénalités définies au CCAP. |
| EXG_DIS_1.12 | Le Titulaire met à disposition de la Cnam les indicateurs reflétant l’état de disponibilité des services, des performances et le volume d’activité en temps réel. Ces indicateurs doivent permettre d’apprécier l’état des services du point de vue utilisateur final à tout moment.<br>Si ces indicateurs ne sont pas mis à disposition, la Cnam peut appliquer les pénalités définies au CCAP. |
| EXG_DIS_1.13 | Tous dysfonctionnements détectés par les mécanismes de suivi de la disponibilité déclenchent automatiquement le processus de gestion des incidents (détaillé dans le Plan d’Assurance Qualité). |
| EXG_DIS_1.14 | Le Titulaire doit se munir, à ses frais, des outils adéquats et nécessaires pour mener à bien ses missions. La Cnam visant à consommer l’offre d’hébergement (si la PSE visée au §7.4 « P2 - PSE – Hébergement »)<br>» est retenue) et d’Exploitation sous forme de services, celle-ci ne peut pas se voir facturer l’acquisition de quelconques licences produits ou logiciels autour des activités de suivi de la disponibilité. La Cnam privilégie les logiciels opensource ou gratuits. En cas de version commerciale et non gratuite, le Titulaire doit justifier ce choix.<br>S’agissant des produits de l’éditeur Oracle, la Cnam fournit les licences identifiées comme nécessaires. Le Titulaire respecte les conditions précisées dans l’article 27 du CCAP. |
| EXG_DIS_1.15 | Afin de faciliter toute action de Réversibilité auprès de la Cnam ou de tout autre repreneur, le Titulaire s’engage à s’appuyer tout au long de la prestation sur des outils et matériels standard, à jour, et maintenus, dans le cadre des activités citées ci-dessus et relatives aux environnements et services hébergés. |

#### 6.2.3.3 DIS2 - Environnement Production

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_DIS_2.1 | DisponibilitéHoraires d’ouverture et de disponibilitéA titre indicatif la durée maximale cumulée d'indisponibilité par mois correspond à :99,9%, 24h sur 7j/743 minutes 12 secondesEn cas d’indisponibilité/d’échec de la solution, la solution doit disposer d’un mécanisme de reprise permettant à l’utilisateur de reprendre son activité de la manière la plus transparente et automatisée possible lors du redémarrage des services :<br>- Sans perte de travail ;<br>- Avec une protection des données ;<br>- Avec une notification de l’échec / de l’indisponibilité.En cas de non-respect du taux de disponibilité, la Cnam peut appliquer les pénalités définies au CCAP. | Disponibilité<br>Horaires d’ouverture et de disponibilité | A titre indicatif la durée maximale cumulée d'indisponibilité par mois correspond à : | 99,9%,<br>24h sur 7j/7 | 43 minutes 12 secondes |
| Disponibilité<br>Horaires d’ouverture et de disponibilité | A titre indicatif la durée maximale cumulée d'indisponibilité par mois correspond à : |
| 99,9%,<br>24h sur 7j/7 | 43 minutes 12 secondes |
| EXG_DIS_2.2 | Une cellule de crise opérationnelle doit être mise en place pour toute indisponibilité de la production dont la résolution est estimée supérieure à 1 heure. |
| EXG_DIS_2.3 | Les changements applicatifs doivent être effectués sans interruption de service (redondance), ou dans l’impossibilité, font l’objet d’une dérogation pour une plage définie auprès de la Cnam. |
| EXG_DIS_2.4 | Afin d'assurer la haute disponibilité exigée de la production, le Titulaire s'engage à mettre en œuvre un dispositif applicatif actif/actif sur les deux datacenters distants. |

#### 6.2.3.4 DIS3 - Environnements Certification éditeur

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_DIS_3.1 | DisponibilitéHoraires d’ouverture et de disponibilitéA titre indicatif la durée maximale cumulée d'indisponibilité par mois correspond à :99,8%, 4h-22h sur 7j/71 heureEn cas d’indisponibilité/d’échec de la solution, la solution doit disposer d’un mécanisme de reprise permettant à l’utilisateur de reprendre son activité de la manière la plus transparente et automatisée possible lors du redémarrage des services :<br>- Sans perte de travail ;<br>- Avec une protection des données ;<br>- Avec une notification de l’échec / de l’indisponibilité. | Disponibilité<br>Horaires d’ouverture et de disponibilité | A titre indicatif la durée maximale cumulée d'indisponibilité par mois correspond à : | 99,8%,<br>4h-22h sur 7j/7 | 1 heure |
| Disponibilité<br>Horaires d’ouverture et de disponibilité | A titre indicatif la durée maximale cumulée d'indisponibilité par mois correspond à : |
| 99,8%,<br>4h-22h sur 7j/7 | 1 heure |

#### 6.2.3.5 DIS4 - Environnements Pré-Production

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_DIS_4.1 | DisponibilitéHoraires d’ouverture et de disponibilitéA titre indicatif la durée maximale cumulée d'indisponibilité par mois correspond à :99.5% 8h-20hsur 5j/7 Jours ouvrés1 heures 12 minutesEn cas d’indisponibilité/d’échec de la solution, la solution doit disposer d’un mécanisme de reprise permettant à l’utilisateur de reprendre son activité de la manière la plus transparente et automatisée possible lors du redémarrage des services :<br>- Sans perte de travail ;<br>- Avec une protection des données ;<br>- Avec une notification de l’échec / de l’indisponibilité. | Disponibilité<br>Horaires d’ouverture et de disponibilité | A titre indicatif la durée maximale cumulée d'indisponibilité par mois correspond à : | 99.5%<br>8h-20h<br>sur 5j/7 Jours ouvrés | 1 heures 12 minutes |
| Disponibilité<br>Horaires d’ouverture et de disponibilité | A titre indicatif la durée maximale cumulée d'indisponibilité par mois correspond à : |
| 99.5%<br>8h-20h<br>sur 5j/7 Jours ouvrés | 1 heures 12 minutes |
| EXG_DIS_4.2 | Sur Demande de la Cnam, le Titulaire s’engage à rafraichir l’environnement à une date et pour un jeu de données identifié, dans un délai de 2 jours ouvrés. |
| EXG_DIS_4.3 | Les environnements de pré-production doivent couvrir l'ensemble du périmètre de la production et séparés de la production. |

#### 6.2.3.6 DIS5 - Autres Environnements

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_DIS_5.1 | DisponibilitéHoraires d’ouverture et de disponibilitéA titre indicatif la durée maximale cumulée d'indisponibilité par mois correspond à :99.5%8h-20hsur 5j/7 Jours ouvrés1 heures 12 minutes | Disponibilité<br>Horaires d’ouverture et de disponibilité | A titre indicatif la durée maximale cumulée d'indisponibilité par mois correspond à : | 99.5%<br>8h-20h<br>sur 5j/7 Jours ouvrés | 1 heures 12 minutes |
| Disponibilité<br>Horaires d’ouverture et de disponibilité | A titre indicatif la durée maximale cumulée d'indisponibilité par mois correspond à : |
| 99.5%<br>8h-20h<br>sur 5j/7 Jours ouvrés | 1 heures 12 minutes |
| EXG_DIS_5.2 | Sur Demande de la Cnam, le Titulaire s’engage à rafraichir l’environnement à une date et pour un jeu de données identifié, dans un délai de 2 jours ouvrés. |

### 6.2.4 Exigences de Volumétrie

Les volumétries des flux sont décrites dans le paragraphe 3.5.3 « Métriques de MESDMP ».

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_VOL_1 | La solution doit être capable de porter les flux synchrones et asynchrones existants et futurs |
| EXG_VOL_2 | Le Titulaire doit être capable de gérer et de prendre en charge les accès en provenance de tous les utilisateurs dotés des moyens nécessaires. |
| EXG_VOL_3 | Quel que soit le niveau d’activité réelle constatée, le Titulaire s’engage à maintenir une capacité d’hébergement suffisante pour le bon fonctionnement de la solution (cf. paragraphe « P2 - PSE – Hébergement »). |
| EXG_VOL_4 | Sur la base des métriques fournies au paragraphe 3.5.3 « Métriques de MESDMP », le Titulaire propose une projection technique sur le dimensionnement de l’infrastructure, par composant, selon la montée en charge par année. |
| EXG_VOL_5 | L’architecture proposée et les dispositifs la constituant doivent être suffisamment scalables et réactifs pour soutenir d’éventuels pics d’activité (à hauteur de 10 fois l’activité moyenne), quelles qu’en soient les origines : Augmentation de fréquentation, augmentation d’usage, traitements de masse, extension de fonctionnalités, etc. |
| EXG_VOL_6 | L’architecture proposée doit permettre un passage à l’échelle de la population nationale de la France soit plus de 60 millions d’utilisateurs sur l’ensemble des éléments qui constituent le MSEDMP et ses ressources. La Cnam souhaite attirer particulièrement l’attention du Titulaire sur la ressource Espace d’échanges de messagerie au regard de cette exigence de scalabilité. |

### 6.2.5 Exigences de Performance

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_PERF_1 | La solution doit être scalable, c'est-à-dire avoir la capacité de s’adapter à un changement d’ordre de grandeur de la demande (cf. volumétrie ou nombre d’utilisateurs) et en particulier avoir la capacité à maintenir ses fonctionnalités et ses performances (dont contrat de services en lien avec l’exploitation globale de la solution) en cas de forte demande et sans qu’il soit nécessaire de revoir l’architecture applicative de la solution. |
| EXG_PERF_2 | Le Titulaire doit respecter les temps de réponse suivants :<br>EnvironnementTemps de réponse pour tous les appels à MESDMPProductionCertification des éditeursInférieur à 1 seconde dans 95% des cas 3 secondes dans les 5% des autresAutres environnementsInférieur à 3 secondes dans 95% des cas 5 secondes dans les 5% des autresEnvironnementTemps de réponse pour tous les appels au SI externes au travers du MESDMPProductionCertification des éditeursInférieur à 0.25 seconde dans 95% des cas 0.5 seconde dans les 5% des autresAutres environnementsInférieur à 0.5 seconde dans 95% des cas 1 seconde dans les 5% des autresEnvironnementTemps de réponse pour tous les appels d’API exposées par le MESDMPProductionCertification des éditeursInférieur à 0.25 seconde dans 95% des cas 0.5 seconde dans les 5% des autresAutres environnementsInférieur à 0.5 seconde dans 95% des cas 1 seconde dans les 5% des autres.Dans le cas où cette exigence ne peut être tenue à cause d’une dépendance vers des composants ne faisant pas partie du périmètre de l’accord-cadre et ne sont donc pas de la responsabilité du Titulaire, le temps imputable au Titulaire ne doit pas excéder les temps de réponse mentionnés dans ce tableauLa mesure des performances doit se faire en continu. La durée de référence pour le calcul de la performance est 15 minutes.<br>L’ensemble des appels à MESDMP sont pris en compte unitairement pour le calcul des temps de réponse (il ne s’agit pas d’une moyenne).<br>Dans le cadre d’un scénario fonctionnel où MESDMP fait appel à un SI tiers, une répartition du temps de réponse entre MESDMP et les différents SI appelés doit être définie par la Cnam. | Environnement | Temps de réponse pour tous les appels à MESDMP | Production<br>Certification des éditeurs | Inférieur à 1 seconde dans 95% des cas<br>3 secondes dans les 5% des autres | Autres environnements | Inférieur à 3 secondes dans 95% des cas<br>5 secondes dans les 5% des autres | Environnement | Temps de réponse pour tous les appels au SI externes au travers du MESDMP | Production<br>Certification des éditeurs | Inférieur à 0.25 seconde dans 95% des cas<br>0.5 seconde dans les 5% des autres | Autres environnements | Inférieur à 0.5 seconde dans 95% des cas<br>1 seconde dans les 5% des autres | Environnement | Temps de réponse pour tous les appels d’API exposées par le MESDMP | Production<br>Certification des éditeurs | Inférieur à 0.25 seconde dans 95% des cas<br>0.5 seconde dans les 5% des autres | Autres environnements | Inférieur à 0.5 seconde dans 95% des cas<br>1 seconde dans les 5% des autres.<br>Dans le cas où cette exigence ne peut être tenue à cause d’une dépendance vers des composants ne faisant pas partie du périmètre de l’accord-cadre et ne sont donc pas de la responsabilité du Titulaire, le temps imputable au Titulaire ne doit pas excéder les temps de réponse mentionnés dans ce tableau |
| Environnement | Temps de réponse pour tous les appels à MESDMP |
| Production<br>Certification des éditeurs | Inférieur à 1 seconde dans 95% des cas<br>3 secondes dans les 5% des autres |
| Autres environnements | Inférieur à 3 secondes dans 95% des cas<br>5 secondes dans les 5% des autres |
| Environnement | Temps de réponse pour tous les appels au SI externes au travers du MESDMP |
| Production<br>Certification des éditeurs | Inférieur à 0.25 seconde dans 95% des cas<br>0.5 seconde dans les 5% des autres |
| Autres environnements | Inférieur à 0.5 seconde dans 95% des cas<br>1 seconde dans les 5% des autres |
| Environnement | Temps de réponse pour tous les appels d’API exposées par le MESDMP |
| Production<br>Certification des éditeurs | Inférieur à 0.25 seconde dans 95% des cas<br>0.5 seconde dans les 5% des autres |
| Autres environnements | Inférieur à 0.5 seconde dans 95% des cas<br>1 seconde dans les 5% des autres.<br>Dans le cas où cette exigence ne peut être tenue à cause d’une dépendance vers des composants ne faisant pas partie du périmètre de l’accord-cadre et ne sont donc pas de la responsabilité du Titulaire, le temps imputable au Titulaire ne doit pas excéder les temps de réponse mentionnés dans ce tableau |

| EXG_PERF_3 | La solution doit être en mesure de traiter 100% de l’activité flux d’une journée sur une durée de 4h pour prendre en compte les pics de charge.<br>Le non-respect du traitement de l’activité de la journée dans les délais peut faire l’objet de pénalités. |
| --- | --- |
| EXG_PERF_4 | Les traitements synchrone ou asynchrone ne doivent pas être concurrents des services appelés par les utilisateurs. |
| EXG_PERF_5 | Les temps de réponse sont calculés au niveau de l’IHM et comprennent l’ensemble des temps de réponse (réseau, machine, interface) tel que la Cnam le perçoit. |
| EXG_PERF_6 | Les indicateurs de temps de réponse sont calculés quotidiennement avec une granularité du quart d’heure pour une vérification régulière et consultable en temps réel. Ces indicateurs doivent être consolidés par le Titulaire et mis à disposition de la Cnam de façon quotidienne (à J+1 avant 8h), hebdomadaire (le lundi S+1 avant 10h) et mensuelle (le premier lundi m+1 avant 10h), afin de vérifier le respect des objectifs de performance.<br>En cas de non-respect des délais de mise à disposition des indicateurs, la Cnam peut appliquer les pénalités définies au CCAP. |
| EXG_PERF_7 | Le Titulaire a la responsabilité de mener des tests de performances pour s’assurer qu’une nouvelle version répond aux exigences demandées. |
| EXG_PERF_8 | Les tests de performance sont réalisés afin d’extrapoler une volumétrie estimée égale a minima à 30% de la volumétrie de la production cible. |
| EXG_PERF_9<br>Surveillance temps de réponse du<br>SI-MESDMP | Seuls les environnements Production et Editeurs peuvent être sanctionnés de pénalités au titre de la présente exigence.<br>La Cnam reçoit une « alerte/communication » en cas de dépassement des temps de réponse pendant une période supérieure à 15 minutes (ce qui correspond à deux mesures consécutives ne respectant pas le temps de réponse demandé) :<br>- Si le temps de réponse est supérieur ou égal à 10 secondes, ce dépassement implique l’ouverture d’un incident bloquant (côté Titulaire mais également à destination de la Cnam pour information) et déclenche le début d’une plage d’indisponibilité du service.<br>- Si le temps de réponse dépasse les limites définies en EXG_PERF_2 (notamment « Temps de réponse pour tous appels à MESDMP ») et est inférieur à 10 secondes, ce dépassement implique l’ouverture d’un incident grave (côté Titulaire mais également à destination de la Cnam pour information) et déclenche le début d’une plage d’indisponibilité du service.En cas de non-respect des exigences, la Cnam peut appliquer les pénalités définies au CCAP. |
| EXG_PERF_10<br>Surveillance des temps de réponse des SI en aval du SI-MESDMP | La Cnam reçoit une « alerte/communication » en cas de dépassement du temps de réponse sur l’un des appels de MESDMP pendant une période supérieure à 15 minutes d’un système informatique appelé par MESDMP. Le Titulaire se fonde sur les temps de réponse des SI appelés communiqués par la Cnam. |
| EXG_PERF_11<br>Mécanisme de Sonde | Un mécanisme de sondes applicatives ou tout autre mécanisme équivalent, mis en œuvre par le Titulaire, doit permettre d’avoir des temps de réponse des services indicatifs afin d’avoir une perception du service avec les mesures en temps réel.<br>Les temps de réponse se mesurent indépendamment sur chaque fonctionnalité suivant des scénarios fonctionnels définis lors de la conception.<br>Les mesures opérées doivent garantir un suivi « bout-en-bout » de toutes les fonctionnalités de MESDMP à travers tous les composants, services et équipements situés entre le poste utilisateurs et les serveurs BO du Titulaire (même si certaines briques ne sont pas de sa responsabilité).<br>Le Titulaire doit mettre en place des métriques de performances se décomposant ainsi :<br>- Le temps de réponse depuis un poste hors du réseau du Titulaire pour chaque fonctionnalité de MESDMP<br>- Le temps de réponse au sein du SI MESDMP (l’intervalle de temps entre l’entrée du SI MESDMP et la sortie du SI MESDMP moins le temps passé dans un SI appelés par MESDMP)<br>- Le temps de réponse des SI appelés par MESDMP (ex. : SI-Cnam ou partenaires) |
| EXG_PERF_12<br>Mécanisme de Sonde | Pour la prise de mesure des temps de réponse par les sondes ou tout autre mécanisme équivalent, le Titulaire :<br>- Ne doit pas générer des données pérennes au sein de MESDMP<br>- Ne doit pas impacter l’ensemble des métriques de MESDMP<br>- Ne doit pas impacter les données d’un SI appelé par MESDMP |
| EXG_PERF_13<br>Mécanisme de Sonde | Lors de la phase de construction de chaque évolution de la solution, le Titulaire en lien avec la Cnam doit définir le(s) nouveau(x) scénario(s) fonctionnel(s) ou modifier le(s) scénario(s) fonctionnel(s) existant(s) de prise de temps de réponse. |
| EXG_PERF_14<br>Mécanisme de Sonde | Les sondes de mesure de performances proposées par le Titulaire doivent respecter les exigences fonctionnelles de sécurité pour les systèmes en production, cependant elles ne doivent pas générer des traces fonctionnelles ni être comptabilisées dans la volumétrie d’activité. Les sondes de performance sont destinées à tous les environnements. |

### 6.2.6 Exigences de Continuité

#### 6.2.6.1 PCA – Continuité & Redondance

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_PCA_1 | Un plan de continuité des services est établi et maintenu par le Titulaire tout au long de l’accord-cadre, pour assurer les disponibilités exigées des différents environnements du service et des interfaces externes associées.<br>Ce plan répond aux objectifs de disponibilité et d’intégrité demandés par la Cnam en termes de Durée d'Indisponibilité Maximale Admissible (DIMA) et de Perte de Données Maximale Admissible (PDMA). |
| EXG_PCA_2 | En cas de sinistre, et en complément des engagements de Disponibilité de services exprimé, le Titulaire s’engage à assurer une PDMA égale à 0, et une Durée d'Indisponibilité Maximale Admissible DIMA inférieure ou égale à 43 minutes et 12 secondes par mois.<br>Cette exigence concerne l’ensemble des environnements nécessaire à la fourniture des services aux usagers, aux professionnels de santé ainsi qu’aux services tiers. Cela intègre donc également, en plus de l’environnement de production proprement dit, l’environnement permettant aux services tiers de réaliser les tests d’intégration, ainsi que le ou les environnements qui hébergent les outils de la forge d’intégration continue. |
| EXG_PCA_3 | Le Titulaire assure la mise à disposition des moyens nécessaires en termes de locaux, fourniture et gestion des fluides (climatique, électrique, réseaux, etc.), sécurité (gestion des accès aux sites, aux salles, aux systèmes d’information, etc.) permettant de couvrir les niveaux d’exigences imposés par les Normes, Agréments et Réglementations en vigueur (cf. EXG_PAQ_8) (cf. §7.4). |
| EXG_PCA_4 | Le Titulaire garantit un hébergement a minima certifié Tiers III + ou supérieur, pour tous les éléments de configuration, les solutions et services fournis à la Cnam (cf. §7.4). |
| EXG_PCA_5 | Le Titulaire assure la mise en œuvre de tous les moyens matériels, logiciels et réseaux nécessaires pour assurer l’atteinte des engagements de services au travers d’une Architecture Adaptée. Les mécanismes et processus associés sont détaillés dans le Plan d’Assurance Qualité. |

| EXG_PCA_6 | Le Titulaire garantit les mécanismes et Processus assurant la continuité des services nécessaires à son fonctionnement interne (Informatique, Télécom et Humain) en cas de sinistre (supervision, support, administration, etc.) afin de respecter les engagements de services. Les mécanismes et processus associés sont détaillés dans le Plan d’Assurance Qualité. |
| --- | --- |
| EXG_PCA_7 | Le Titulaire s’engage à réaliser, a minima 1 fois par an, un test de continuité de service partiel et global de toutes les solutions et services assurés pour le compte de la Cnam.<br>Ce test fait l’objet d’une planification partagée avec la Cnam afin d’en déterminer la date. Lors de chaque test, le Titulaire doit démontrer le bon fonctionnement de son plan de continuité par :<br>- Les résultats des tests et vérifications réalisées<br>- Les traces et logs de bascules<br>- Un compte rendu et un REX associéÀ l’occasion du test, la Cnam peut demander à opérer des vérifications de bon fonctionnement à son niveau. Chaque test doit être matérialisé par la production d’un PV de Validation à la charge du Titulaire. |
| EXG_PCA_8 | Le Titulaire doit garantir la localisation géographique des données appartenant à la Cnam et que l’hébergement de ces données (cf. §7.4)<br>») pour le compte de la Cnam soit conforme à la réglementation en vigueur en fonction de la nature des données stockées (cf. HDS, RGPD, CNIL, etc.). |
| EXG_PCA_9 | La solution du Titulaire doit pouvoir continuer à fonctionner en mode dégradé sur l’ensemble des fonctionnalités intégrées à MESDMP en cas de coupure des interfaces avec le SI Cnam et/ou partenaires, que ce soit suite à des coupures involontaires ou dans le cas maitrisé d’isolation temporaire des S.I. Le Titulaire doit donc prévoir des interfaces bouchonnées et proposer une gestion de reprise maitrisée des flux après chaque coupure d’interface. |

#### 6.2.6.2 PRA – Sauvegarde et Restauration

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_PRA_1 | Le Titulaire doit proposer une solution de PRA avec a minima deux sites géographiques distincts pour l’hébergement de ses infrastructures applicatives, de préférence avec des contraintes physiques et environnementales différentes (cf. §7.4). En cas de co-localisation dans la même région des datacenters hébergeurs proposés par le Titulaire, une externalisation des sauvegardes couvrant le défaut régional doit être mise en place. Enfin, en cas d’externalisation des sauvegardes sur un 3ème site, sa participation à l’activité 6 « Sauvegardes externalisées des données de santé » de la certification HDS doit être confirmée. Cette solution de PRA doit être validée par la Cnam afin de confirmer son adéquation à couvrir les risques attendus. |
| EXG_PRA_2 | Indépendamment des mécanismes mis en œuvre pour la Continuité des services, le Titulaire doit garantir une sauvegarde périodique des systèmes (cf. §7.4), des configurations et des données ; et que ces dernières soient stockées Hors Ligne et hors site afin de garantir l’intégrité des données et de prévenir toute altération des données (corruption, effacement, attaque virale, etc.).<br>Les sauvegardes ainsi produites doivent être stockées de manière sécurisée, leur nombre et leur durée de rétention communiqués à la Cnam.<br>En cas d’audit, le Titulaire doit être en mesure de fournir les traces et comptes rendus de bonne exécution des Sauvegardes périodiques.<br>Ces éléments doivent être détaillés dans le Plan d’Assurance Qualité. |
| EXG_PRA_3 | Le Titulaire s’engage à réaliser régulièrement des tests de restauration aléatoires visant à confirmer le bon fonctionnement des sauvegardes réalisées. En cas d’audit, le Titulaire doit être en mesure de fournir les traces et PV des tests de restauration réalisés.<br>Ces éléments doivent être détaillés dans le Plan d’Assurance Qualité.<br>Les tests de restauration sont réalisés soit sur un environnement créé temporairement à chaque fois que cela est nécessaire, soit sur un environnement dédié et pérenne maintenu tout au long de la prestation pour assurer ces tests.<br>S’agissant de tests de restauration de données de production, l’environnement utilisé pour cela doit être sécurisé avec les mêmes moyens que pour tout environnement de production (étanchéité, contrôle d’accès, chiffrement des données, etc.), et il doit atteindre les mêmes objectifs de sécurité. |
| EXG_PRA_4 | Le Titulaire s’engage à réaliser, a minima 1 fois par an, un Test PRA partiel et Global de toutes les solutions assurées pour le compte de la Cnam.<br>Ce test fait l’objet d’une planification partagée avec la Cnam afin d’en déterminer la date.<br>Lors de chaque test, le Titulaire doit démontrer le bon fonctionnement de son PRA, par :<br>- Les résultats des tests et vérifications réalisées<br>- Les traces et logs de reprise<br>- Un compte rendu et un REX associéÀ l’occasion du test, la Cnam peut demander à opérer des vérifications de bon fonctionnement à son niveau.<br>Chaque Test doit être matérialisé par la production d’un PV de Validation à la charge du Titulaire. |

### 6.2.7 Exigences de Supervision et métrologie

| Exigences | Description générale |
| --- | --- |
| EXG_MON_1 | Le Titulaire met en place les moyens nécessaires pour surveiller dans sa globalité l’ensemble des services hébergés (flux compris). Il met en œuvre les mécanismes :<br>- De remontée d’information auprès de la Cnam sous forme de communication (Mail et SMS, ticketing, etc.) pour tous les évènements mettant en cause le fonctionnement nominal des différents environnements et des solutions que le Titulaire exploite (recette fonctionnelle, formation, pré-production, production, etc.). La cinématique de communication doit être mise en relation avec le Processus de Gestion des Incidents et détaillé dans le Plan d’Assurance Qualité.<br>- D’accès de la Cnam à l’état et l’avancement des traitements et de leurs volumes traités OK ou en échec (portail, CR, etc.). |
| EXG_MON_2 | L’outil de supervision utilisé par le Titulaire et les éléments supervisés dans l’architecture sont définis dans son offre. Une supervision réseaux, process, composants, ressources, services, tests de vie et scenarii fonctionnels (« expérience utilisateur ») doit être implémentée et exécutée pour garantir la qualité de service de l'application.<br>En particulier, la liste des éléments de configuration, processus ou services à surveiller doit être fournie et documentée (méthode d'accès), ainsi que la fréquence des Tests et de rejeux (permettant d’assurer un délai de Détection optimal, et un Délai de Prise en Compte conforme aux niveaux de services). |
| EXG_MON_3 | Le Titulaire assure une continuité sur les 3 niveaux de supervision (Métier, Applicatif et Technique). |
| EXG_MON_4 | Le Titulaire présente et met en place des mécanismes de détection et de remontées des Non-Evénements, permettant d’alerter sur une absence de Flux ou une absence d’activité prolongée.<br>Ces mécanismes de Non-Evénements font l’objet de remontée d’information auprès de la Cnam au même titre que les évènements mettant en cause le fonctionnement nominal des différents environnements et des solutions que le Titulaire héberge.<br>Les critères et seuils appliqués sont, au préalable, soumis et validés avec la Cnam. |

| EXG_MON_5 | Le Titulaire doit fournir des rapports périodiques sur les exigences de performance et de disponibilité :<br>- Temps de réponse (réseau et services applicatifs)<br>- Traitements d’interfaces (chargement, échanges, volumes)<br>- Traitements internes (états, durées, volumes)<br>- Supervision de l’état de l’infrastructure, des composants socle technique, des composants applicatifs.La périodicité de ces rapports, pouvant aller jusqu’à du temps réel, est définie avec la Cnam durant la phase d’initialisation.<br>Entre les périodes, le pilotage Cnam doit avoir accès à ces informations en temps réel pour s’assurer du bon fonctionnement des services. |
| --- | --- |
| EXG_MON_6 | Le Titulaire met en œuvre un Planning capacitaire des infrastructures et environnements mis à la disposition de la Cnam.<br>Ce planning capacitaire est publié et présenté périodiquement à la Cnam. Il est accompagné des informations (graphes des pics, des moyennes et des tendances des consommations des ressources CPU, mémoire, stockage, réseau, FW, WAF, HSM pour les environnements de production d’une part et de non production d’autre part) qui l’expliquent. |
| EXG_MON_7 | Le Titulaire met à disposition de la Cnam les indicateurs reflétant l’état de disponibilité des services, des performances et le volume d’activité en temps réel et sous Forme de Tableaux de Bord. Ces indicateurs doivent permettre d’apprécier l’état des services du point de vue utilisateur final, et ce, au travers de toutes les briques traversées (qu’elles soient sous la responsabilité du Titulaire ou non).<br>Une synthèse méteo de ces indicateurs doit-être consolidée par le Titulaire et mise à disposition de la Cnam de façon quotidienne (à J+1 avant 8h), hebdomadaire (le lundi S+1 avant 10h) et mensuelle (le premier lundi m+1 avant 10h), afin de vérifier l’état de santé du système.<br>En cas de non-respect des délais de mise à disposition la Cnam peut appliquer les pénalités définies au CCAP. |
| EXG_MON_8 | Le Titulaire met à disposition de la Cnam les moyens nécessaires** **pour communiquer avec les robots de supervision côté Cnam (Compte d’exploitation, url, simulation d’actions, description du scénario, etc.). Ces robots doivent pouvoir déclencher automatiquement le processus de gestion des incidents du Titulaire.<br>Les interfaces mises à disposition des robots pour cette automatisation sont décrites dans l’offre du Titulaire. |
| EXG_MON_9 | Tous dysfonctionnements détectés par l’outil de supervision déclenchent automatiquement le processus de gestion des incidents. Le process de Gestion des Incidents doit être détaillé dans le Plan d’Assurance Qualité. |
| EXG_MON_10 | Le Titulaire doit se munir, à ses frais, des outils adéquats et nécessaires pour mener à bien ses missions. La Cnam visant à consommer l’offre d’hébergement (si la PSE visée au §7.4 est retenue) et d’Exploitation sous forme de services, celle-ci ne peut se voir facturer l’acquisition de quelconques licences produits ou logiciels autour des activités de supervision et de métrologie. |
| EXG_MON_11 | Afin de faciliter toute action de Réversibilité auprès de la Cnam ou de tout autre repreneur, le Titulaire s’engage à s’appuyer tout au long de la prestation sur des outils standard, à jour, et maintenus, dans le cadre des activités citées ci-dessus et relatives aux environnements et services hébergés. |
| EXG_MON_12 | Le Titulaire définit avec la Cnam l’ensemble des KPI sur la Production |

### 6.2.8 Exigences Environnements logiciel

| Exigences | Description générale |
| --- | --- |
| EXG_ENV_1 | Un environnement logiciel : Il s’agit de la mise à disposition de tout le périmètre applicatif, infrastructure comprise, de l’accord-cadre.<br>Durant la durée d’exécution de l’accord-cadre, le Titulaire doit fournir les environnements dans trois situations :<br>- Cas 1 : Dans le cadre de maintenabilité des services hébergés de l’accord-cadre par le Titulaire<br>- Cas 2 : Dans le cadre des prestations d’évolution des services hébergés par le Titulaire<br>- Cas 3 : Dans le cadre de l’évolution du parc applicatif du SI-Cnam par la Cnam. C'est-à-dire lorsque la Cnam fait évoluer son parc applicatif et a besoin d’environnements pour les différentes phases d’un projet Cnam. |

En fonction du lotissement des évolutions, une version peut comporter des évolutions faites par le Titulaire (Cas 2) et des évolutions faites par la Cnam (Cas 3).

| Exigences | Description générale |
| --- | --- |
| EXG_ENV_2<br>Cas 1 | Le Titulaire est chargé de fournir tous les environnements décrits ci-dessous nécessaires au bon déroulement du maintien en condition opérationnelle et de sécurité des services hébergés par le Titulaire, accessibles par les utilisateurs et la Cnam (Cas 1) :<br>- Environnements de démonstration et formation :<br>- Accès : Réseau Cnam et Hors réseau Cnam<br>- Interconnexion : 2 options sont à prévoir :<br>- Utilisation de bouchons simulant les accès aux SI-Cnam<br>- Interconnexion : SI-Cnam<br>- Type : Hors productionIls sont utilisés pour des démonstrations ou de la formation. Ils contiennent des données fictives.<br>Sur chaque environnement applicatif, la version installée peut être celle de la version en production ou une autre version suivant la demande de la Cnam.<br>Le Titulaire doit fournir et maintenir les jeux de données de cet environnement.<br>- Environnements de pré-production (N et N+1):<br>- Accès : Réseau Cnam et Hors réseau Cnam<br>- Interconnexion : SI-Cnam<br>- Type : Hors productionL’environnement de pré-production doit permettre de reproduire un incident dans les conditions identiques à l’environnement de production, de même que réaliser les benchmarks, audits de sécurité, des tests en conditions réelles avant la mise en production ; par exemple, pour valider une modification de paramétrage par un administrateur fonctionnel.<br>Pour offrir un maintien en condition opérationnel et de sécurité optimal sans incidence sur le Planning des évolutions en cours, le Titulaire doit mettre à disposition 2 environnements accessibles en parallèle à la Cnam. Un dans la version actuelle de la production (N) et un dans le cas d’une livraison d’évolutions en cours (N+1) et destinées à être testées.<br>- Environnements de certification des éditeurs :<br>- Accès : Réseau Cnam et Hors réseau Cnam<br>- Interconnexion : SI-Cnam<br>- Type : Hors productionIls sont utilisés par les éditeurs (LPS, catalogue de services MES, MSSanté) dans le processus de l’ENS-compatibilité. Ils sont accessibles à travers les interfaces publiées nécessaires aux bons fonctionnements des logiciels éditeurs en production.<br>Cet environnement servit de version de référence (version en production ou une autre version) nécessaire dans le cadre du plan d’évolution de l’application.<br>- Environnement de production :<br>- Accès : Réseau Cnam et Hors réseau Cnam<br>- Interconnexion : SI-Cnam<br>- Type : ProductionL’environnement de production est accessible aux utilisateurs agréés. Il est le seul environnement à contenir des données réelles. |
| EXG_ENV_3<br>Cas 2 | Le Titulaire est chargé de fournir tous les environnements décrits ci-dessous nécessaires pour le bon déroulement des phases du cycle de vie projet des services hébergés par le Titulaire, accessibles par la Cnam (Cas 2) :<br>- Environnements de recette fonctionnelle :<br>- Accès : Réseau Cnam et réseau du titulaire du DMP<br>- Interconnexion : SI-Cnam<br>- Type : Hors productionAvant passage en recette fonctionnelle, le Titulaire doit s’assurer de la conformité de sa solution avec les exigences de performance et sécurité.<br>L’environnement de recette fonctionnelle est utilisé par la Cnam pendant la phase d’intégration et recette pour valider les différents services ou évolutions majeures considérés comme critiques. Le Titulaire doit mettre à disposition de la Cnam, pendant toute la durée d’exécution de l’accord-cadre, un environnement de recette sanctuarisé pour permettre les tests fonctionnels incluant les jeux de données. Dans le cadre de la recette fonctionnelle :<br>- Un environnement sert de version de référence (version en production ou une autre version) nécessaire dans le cadre du plan d’évolution de l’application.<br>- Un environnement sert de version à tester portant les évolutions nécessaires dans le cadre du plan d’évolution de l’application.Ces environnements doivent permettre la recette de la solution de bout en bout (incluant le flux voix et les autres canaux) depuis des PMFs de la Cnam.<br>- Environnements de pré-production :<br>- Accès : Réseau Cnam et Hors réseau Cnam<br>- Interconnexion : SI-Cnam<br>- Type : Hors productionL’environnement de pré-production doit permettre de répéter la mise en production et faire une recette de pré-production avant la mise en production définitive de la version. |
| EXG_ENV_4<br>Cas 3 | Le Titulaire est chargé de fournir tous les environnements décrits ci-dessous nécessaires pour le bon déroulement des phases du cycle de vie de l’évolution du parc applicatif du SI-Cnam par la Cnam, accessibles par la Cnam (Cas 3) :<br>- Environnements fabricant (ou développement) :<br>- Accès : Réseau Cnam<br>- Interconnexion : Aucune<br>- Type : Hors productionIl est utilisé pendant la phase de développement par le Titulaire pour réaliser les services initiaux, les évolutions et les maintenances correctives ainsi que les tests unitaires.<br>- Environnements d’intégration :<br>- Accès : Réseau Cnam<br>- Interconnexion : SI-Cnam<br>- Type : Hors productionDans le cadre de la réalisation d’une évolution d’un module applicatif de la Cnam au sein du SI-Cnam, la Cnam (ou ses prestataires) doit réaliser les tests d’intégration sur un environnement sans bouchon applicatif.<br>Le Titulaire doit mettre à disposition un environnement de ses services hébergés pour permettre aux environnements d’intégration de la Cnam de s’interfacer.<br>Il est utilisé par le Titulaire pendant la phase d’intégration et recette interne du Titulaire pour valider les différents services.<br>- Environnements de recette fonctionnelle :<br>- Accès : Réseau Cnam<br>- Interconnexion : SI-Cnam<br>- Type : Hors productionDans le cadre de la réalisation d’une évolution d’un module applicatif de la Cnam au sein du SI-Cnam, la Cnam (ou ses prestataires) doit réaliser les tests de recette fonctionnelle sur un environnement sans bouchon applicatif.<br>Le Titulaire doit mettre à disposition des environnements de ses services hébergés pour permettre aux environnements de recette fonctionnelle de la Cnam de s’interfacer.<br>Il est utilisé par la Cnam pendant la phase de recette fonctionnelle pour valider les différents services.<br>- Environnements de performances (Bench) :<br>- Accès : Réseau Cnam<br>- Interconnexion : SI-Cnam<br>- Type : Hors productionDans le cadre de la réalisation d’une évolution d’un module applicatif de la Cnam au sein du SI-Cnam, la Cnam (ou ses prestataires) doivent réaliser les tests de performances sur un environnement sans bouchon applicatif.<br>Le Titulaire doit mettre à disposition des environnements de ses services hébergés pour permettre aux environnements de recette de performances de la Cnam de s’interfacer.<br>Ils sont utilisés par le Titulaire pour garantir la conformité aux exigences.<br>- Environnements de pré-production :<br>- Accès : Réseau Cnam et Hors réseau Cnam<br>- Interconnexion : SI-Cnam<br>- Type : Hors productionDans le cadre de la réalisation d’une évolution d’un module applicatif de la Cnam au sein du SI-Cnam, la Cnam (ou ses prestataires) doit réaliser les tests de recette fonctionnelle sur un environnement sans bouchon applicatif. Le Titulaire doit mettre à disposition des environnements de ses services hébergés pour permettre aux environnements de pré-production de la Cnam de s’interfacer. Il est utilisé par la Cnam pendant la phase de recette pré-production pour valider le passage en production |
| EXG_ENV_5 | Le Titulaire doit utiliser un outillage pour la gestion des tests ainsi que l’automatisation de l’ensemble des tests de non régression, et fournit les rapports de tests associés. |
| EXG_ENV_6 | Le Titulaire met en place un processus automatisé de dépersonnalisation des données de production pour le passage aux environnements hors production |
| EXG_ENV_7 | Le Titulaire met en place un processus industrialisé et automatisé pour la mise à jour des différents environnements, infrastructure comprise, (Retour arrière, déploiement évolution, correctif) afin de limiter au maximum leur indisponibilité ainsi que fiabiliser et automatiser les tâches répétitives. |
| EXG_ENV_8 | Afin de faciliter toute action de Réversibilité auprès de la Cnam ou de tout autre repreneur, le Titulaire s’engage à s’appuyer tout au long de la prestation sur des outils standard et à jour, dans le cadre des activités citées ci-dessus relatives aux environnements logiciels préalablement définis. |
| EXG_ENV_9<br>Environnement Formation | Le Titulaire se met en capacité de réinitialiser régulièrement les jeux de données de formation, soit à la demande de la Cnam soit selon un calendrier défini. |
| EXG_ENV_10<br>Environnement de certification éditeurs | Le Titulaire met en place un service permettant de gérer simultanément 30 éditeurs pour satisfaire à l’agrément de leur(s) logiciel(s), qui reproduisent à périmètre fonctionnel a minima à l’identique du système MESDMP en production. |
| EXG_ENV_11<br>Environnements de certification éditeurs | Le Titulaire réinitialise régulièrement les jeux de données de certification éditeurs, soit à la demande de la Cnam soit selon un calendrier défini, selon la fréquence de réinitialisation par environnement applicatif de certification éditeurs. |
| EXG_ENV_12<br>Environnements de certification éditeurs | Des ressources du Titulaire peuvent être mobilisées en tant que de besoin pour apporter une assistance technique sur le service de certification des éditeurs :<br>- Lors de la mise à disposition d’un environnement applicatif de certification éditeurs ;<br>- En cas de difficultés techniques rencontrées par l’entité, définie par la Cnam, en charge de la certification au moment de la préparation ou du déroulement d’une session de formation, ou à l’issue de celle-ci (réinitialisation des données pour la session suivante, etc.).<br>- En cas de difficultés techniques rencontrées par un éditeur pour se connecter à l’environnement applicatif. |
| EXG_ENV_13 | Le Titulaire gère différents environnements de tests, étanches entre eux, afin de permettre la tenue de plusieurs campagnes de tests de manière concomitante. |
| EXG_ENV_14<br>Jeux de données | Le Titulaire doit contribuer à la constitution d’un jeu de données de test transverse avec la Cnam et les acteurs des SI-ENS et SI-Cnam. Le Titulaire intervient pour constituer, maintenir et mettre à disposition les jeux de données afin d’assurer une cohérence de entre SI-ENS et SI-Cnam pour tous les environnements hors production |
| EXG_ENV_15<br>Automatisation de la création de jeu de données hors Production | Un ensemble de scripts produisant un jeu de données similaire au jeu de données de production doit être développé par le Titulaire. Le jeu de données résultant doit pouvoir être aussi représentatif du jeu de données réelles, tant via les quantitatifs d’usagers, d’évènements, de documents et autres informations comme la présence de caractères accentués dans les noms et prénoms des usagers et PS. Ce jeu de données est créé de manière aléatoire, ces scripts prennent en paramètre le nombre d’usagers à créer dans ce jeu de données, ce nombre pouvant se situer entre 1 et 70 millions. Enfin, ces scripts peuplent les bases de données d’un environnement vide créé pour l’occasion. Cela permet alors de fabriquer un environnement de test adapté à un certain type de tests. |
| EXG_ENV_16<br>Automatisation des environnements | Dès la fin de la convergence, un outil de création complètement automatisé d’un environnement MESDMP est développé par le Titulaire. Cet outil prend en paramètres les plans d’adressages réseau, les images des systèmes à installer, et autres paramètres nécessaires. L’outil se connecte alors par API aux outils de provisonning d’infrastructure pour instancier les systèmes, puis y installe les différentes couches d’infrastructure virtuelle (ex. : nœuds OpenShift) et déploie enfin les composants logiciels (base mongo, Kafka, etc.). L’environnement est alors dans un état où les scripts produisant un jeu de données similaire au jeu de données de la production peuvent l’alimenter. |
| EXG_ENV_17<br>Suivi de l’automatisation des environnements | Concernant les aspects « infrastructure as code » et « configuration as code », mentionné ci-dessus, de création et mise à jour des différents éléments d’infrastructure et environnements, le Titulaire s'engage à afficher le taux d'automatisation de la solution, ainsi qu'un plan d'actions sur les tâches résiduelles non encore automatisées. |

### 6.2.9 Exigences spécifique liée au cluster de composants WAF

| Exigences | Description générale |
| --- | --- |
| EXG_WAF_1 | Le cluster de WAF qui protège MES est constitué de matériels physiques dédiés de marque Ubika : deux WAF par site, donc quatre WAF, le tout en cluster actif/actif. Ces WAF terminent les session SSL/TLS qui entrent dans le SI et aboutent les connexions web vers les équilibreurs de charge. Ils réalisent un certain nombre de traitements à ce niveau (validation du respect des contrats de service des accès aux API REST, enrichissement des requêtes avec des entêtes particuliers, filtrage des attaques, réalisation de « virtual patching » en cas de découverte d’une vulnérabilité qui ne peut pas être corrigée dans l’immédiat, etc.) et alimentent le SIEM du SOC. Ces équipements qui opèrent un traitement spécifique à MES sont sous responsabilité de mise en place, exploitation, MCO et MCS du Titulaire, quel que soit le lieu de leur hébergement. |

## 6.3 Exigences générales

Le Titulaire doit utiliser des outils et des méthodes en se référant à l’état de l’art et aux standards du marché.

Les différentes exigences sont regroupées par famille ci-après.

### 6.3.1 Exigences de réversibilité

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_REV_1 | En cas de commande des unités d’œuvres correspondantes, le Titulaire s'engage à assurer la réversibilité du service, afin de permettre à la Cnam de reprendre, ou de faire reprendre par un/des tiers désigné(s) par elle, la fourniture du service et ce, dans les meilleures conditions et sans discontinuité du service. La Cnam, ou le tiers désigné par elle, est dénommé dans le présent chapitre le « Repreneur ».<br>Les livrables attendus au titre de cette prestation sont listés au §7.12 « Liste des livrables principaux ». |
| EXG_REV_2 | Dans le cadre du processus de réversibilité, le Titulaire fournit au Repreneur toute l'assistance et les informations nécessaires et utiles à la restitution de la connaissance et de la responsabilité opérationnelle.<br>Au cours de la période de réversibilité, le Titulaire assure les activités qui lui sont attribuées dans le cadre de la transition avec les équipes du Repreneur. |
| EXG_REV_3 | S’agissant des droits de propriété intellectuelle, le Titulaire applique les stipulations de l’article du CCAP relatif aux droits de propriété intellectuelle (cf. CCAP ). |
| EXG_REV_4 | Un responsable unique du projet de réversibilité est désigné au sein des équipes du Titulaire comme interlocuteur privilégié du Repreneur |
| EXG_REV_5 | Le Titulaire s’engage à inclure une clause de réversibilité dans les dispositifs contractuels le liant aux sous-traitants à qui il délègue une partie des éléments inclus aux périmètres de réversibilité susvisés.<br>Le Titulaire communique à la Cnam les preuves afférentes. |
| EXG_REV_6 | Le Titulaire s’engage à collaborer loyalement avec les équipes du Repreneur. |
| EXG_REV_7 | Le Titulaire s’engage à fournir un plan de destruction de l’entièreté des composants relatifs à la prestation (données applicatives, données techniques, données de gestion, codes, documentations, etc.) présents sur les différents supports (magnétiques ou autres) qu’il possède et à le mettre en œuvre après accord de la Cnam. Les preuves de destructions sont communiquées par le Titulaire à la Cnam sans délai. Les frais de cette destruction sont à la charge du Titulaire. |
| EXG_REV_8 | Lors de la prestation Prise de connaissance et Initialisation de l’accord-cadre, le Titulaire s’engage à fournir un plan de réversibilité global. |
| EXG_REV_9 | Lors de la Préparation de la réversibilité, le Titulaire doit effectuer des tirs à blanc et fournir à la Cnam les rapports et preuves de bonne exécution. |
| EXG_REV_10<br>Préparation de la réversibilité | Tout au long de l’accord-cadre, le Titulaire met à jour les plans de réversibilité des services et construit un plan de réversibilité global précisant :<br>- Les outils, les normes et standards définis par le Titulaire, et contrôlés par la Cnam, pour l’exécution de la réversibilité ;<br>- L’inventaire précis :<br>- De la documentation produite dans le cadre de l’accord-cadre, des versions afférentes à chaque documentation et du statut de ces versions ;<br>- Des développements réalisés pour la fourniture des services ;<br>- Des développements et configurations réalisés pour automatiser la création et la mise à jour des environnements, infrastructure comprise ;<br>- Les règles de maintien à jour des applications et de leur documentation ;<br>- Les procédures d’exploitation et les dossiers de mise en œuvre des outils logiciels et matériels ;<br>- Les conditions de transfert de droit de propriété des applications développées aux fins de l’accord-cadre ainsi que, le cas échéant, le droit d’utilisation des logiciels utilisés par le Titulaire;<br>- Les conditions de transfert de compétences du Titulaire vers le Repreneur ;<br>- Le plan de bascule des services sans interruption de service du SI MESDMP (applications, données, documentations, outils, logiciels, matériels) ;<br>- Le plan de décommissionnement ;<br>- Les macros plannings des opérations pour la réversibilité, qu’elles soient à engager par le Titulaire ou le Repreneur. |
| EXG_REV_11<br>Préparation de la réversibilité | Le Titulaire réalise une fois par an une revue des plans de réversibilité, dont une bascule à blanc, pour évaluer leur faisabilité et leur conformité au regard des normes et standards définis, et identifie les points à améliorer dans un délai de 3 mois. Un bilan est remis à la Cnam, sans délai, à l’issue de la revue et du plan d’amélioration.<br>Remarque : La « Bascule à blanc » est à distinguer du « tir à blanc » réalisé lors de la Préparation de la réversibilité. |
| EXG_REV_12<br>Préparation de la réversibilité | La Cnam se réserve le droit d’évaluer ou faire évaluer ces plans de réversibilité et exige, le cas échéant, les mesures d’amélioration nécessaires. |
| EXG_REV_13<br>Exécution de la réversibilité | La réversibilité est organisée en 3 phases :<br>- La phase d’initialisation de la réversibilité.Elle a pour objet de mettre à jour le plan de réversibilité et planifier l’exécution de la réversibilité en lien avec le Repreneur. La durée de cette phase est fixée à 3 mois.<br>- La phase d’exécution de la réversibilité, composée :<br>- D’une période d’exécution, d’une durée de 3 mois à compter de la fin de l’initialisation, à l’issue de laquelle le Repreneur reprend de manière opérationnelle les services et est responsable de la qualité de service,<br>- D’une période de décommissionnement.cf EXG_REV_18Le cas échéant, la Cnam peut étendre la durée de la période d’exécution, par la commande de l’UO 13_1_4 « REV_EXEC_1 mois », sans que cela ne modifie le périmètre des prestations et les nature et contenu des livrables initialement prévus.<br>- La phase de soutien ponctuel au Repreneur.La durée de cette phase est fixée à 3 mois après la reprise opérationnelle du service par le Repreneur (correspondant à la période de Vérification de Service Régulier chez le Repreneur).<br>Pendant les deux premières phases de la réversibilité, le service est assuré par le Titulaire selon les conditions, modalités et niveaux de services définis. |
| EXG_REV_14<br>Exécution de la réversibilité | Les travaux à la charge du Titulaire dans le cadre de l’exécution de la réversibilité recouvrent :<br>- La conduite, l’organisation et la planification du projet de réversibilité, sur son périmètre de responsabilité,<br>- La fourniture de toute la documentation nécessaire pour la reprise de l’exploitation et de la maintenance des différents composants concernés par la réversibilité :<br>- Toute la documentation produite, ainsi que tous les objets techniques (code sources, scripts, modèles de données, etc.) nécessaires à la compréhension, à la réalisation, à l’hébergement, le cas échéant, à l’exploitation et à la maintenance du système,<br>- Les plans de tests et les jeux de données associés le plan de qualité d’exploitation, comprenant notamment :<br>- Les procédures et modes opératoires conformes ITIL précisés dans les exigences du maintien en conditions opérationnelles des services ;<br>- Les dossiers d’exploitation (contenant la description succincte de l’application, les contraintes de service, le schéma d’architecture technique et les alertes et procédures associées) ;<br>- La liste et configuration des matériels et logiciels systèmes nécessaires ;<br>- Le paramétrage nécessaire et les procédures pour le réaliser ;<br>- Les échanges inter-applicatifs (internes et externes) et leurs modalités ;<br>- Le plan de sauvegarde et de restauration (liste des objets sauvegardés, durée de rétentions, etc.) ;<br>- Les tests de transfert vers le Repreneur,<br>- Le transfert vers le Repreneur des éléments logiciels et données,<br>- Le transfert vers le Repreneur des données de production de MESDMP en respectant les exigences de sécurité ainsi que la documentation nécessaire à la reprise des données,<br>- L’assistance technique au Repreneur lors de la construction de l’infrastructure matérielle et applicative et de la recette des composants construits (nota : la recette sur le site du Repreneur est assurée par ce dernier),<br>- La formation du personnel du Repreneur à l’ensemble des connaissances, modes opératoires et spécificités des services MESDMP à reprendre,<br>- La planification d’engagement et de désengagement des équipes afin de permettre au Repreneur de préparer la reprise de chantier avec ses propres moyens. |
| EXG_REV_15<br>Exécution de la réversibilité | Durant la phase de réversibilité, le Titulaire reste en responsabilité de MESDMP jusqu’au démarrage des services chez le Repreneur, marquant pour ce dernier le début de la vérification du service régulier. A ce titre il doit effectuer un suivi régulier et fournir un bilan mensuel du déroulement des opérations. |
| EXG_REV_16<br>Soutien ponctuel au Repreneur | Pendant la phase de soutien ponctuel au Repreneur, le Titulaire s’engage, à compter de la reprise du service par le Repreneur, à répondre à toute demande d’assistance, même ponctuelle, formulée par le Repreneur. |
| EXG_REV_17<br>Soutien ponctuel au Repreneur | Pendant la phase de soutien ponctuel au Repreneur, le niveau de service attendu du Titulaire pendant cette phase est celui attendu au titre du support de niveau 3 sur le périmètre Hébergement (si PSE Hébergement est retenue) et Exploitation et sur le périmètre applicatif. |
| EXG_REV_18<br>Exécution de la réversibilité | Selon le jalon défini conjointement entre le Titulaire et le Repreneur en phase d’initialisation (jalon validé par la Cnam), le Titulaire assure le décommissionnement complet sur son site et en fournit les preuves à la Cnam.<br>Le décommissionnement se fait au maximum dans un délai de deux mois après la reprise opérationnelle du service par le Repreneur.<br>Cette action de décommissionnement clôture la phase d’exécution de la réversibilité prestation de Réversibilité |
| EXG_REV_19 | **Sous réserve de la compatibilité des éléments énumérés infra avec le cadre d’une certification HDS (à la date de déclenchement de la réversibilité)**, le Titulaire (cédant) autorise la Cnam, ou un tiers désigné par la Cnam, à :<br>- Installer et exploiter des outils de « découverte » dans le SI du Titulaire (cédant) pour récupérer le patrimoine Cnam,<br>- Installer et exploiter des outils de copie « bas niveau » (bloc/niveau VM ou niveau stockage) ou de réplication de niveau SGBDR permettant la reprise complète du système et de ses données,<br>- Se connecter au système de stockage objet de Production en lecture seule afin de recopier les données,<br>- Réutiliser l’adressage IP privée du Titulaire (cédant) au sein du SI du repreneur,<br>- A utiliser des comptes à privilège d’exploitation sur le SI de Hors Production et Production, à reprendre, du Titulaire (cédant) sous le contrôle du Titulaire (cédant) (compte tenu du caractère isolé du SI en question),<br>- Monter un lien réseau privé sécurisé entre le Titulaire (cédant) et le repreneur afin de transférer les données à migrer,<br>- Avoir accès aux outils de gestion des demandes de support / anomalies/incidents / évolutions du Titulaire (cédant),<br>- Avoir accès à la cartographie des données cryptographiques stockés dans HSM du Titulaire (cédant),<br>- Avoir accès à la matrice exhaustive des flux Hors Production et Production en interne du SI repris et avec des applications tierces et avec des prestataires externes ainsi que les dépendances,<br>- Avoir accès au support des ressources opérationnelles du Titulaire (cédant), y compris en HNO durant la phase de reprise.Le Titulaire fournit :<br>- L’ensemble des éléments sécurité (ex. secrets) permettant la réversibilité,<br>- Les scripts de chargement des données pour les environnements Hors production.<br>- Son plan de production,<br>- L’ensemble des éléments permettant la reconstruction du dispositif MESDMP et de la forge associée. Il est important de minimiser les dépendances de la solution MESDMP avec le datacenter (y compris les outils propriétaires non réversibles du Titulaire). Si la solution MESDMP comporte ce type de dépendances, le Titulaire doit les identifier et proposer des solutions de remplacement au futur repreneur.<br>- Les binaires nécessaires (version progiciel/opensource et librairies générées précédemment à la version courante du code source) permettant la compilation et le déploiement des composants logiciels applicatifs<br>- L’ensemble des configurations des composants logiciels applicatifs (ex : conf JNDI, JDBC, etc.), des serveurs applicatifs et notamment, les optimisations OS/Middleware, etc. |
| EXG_REV_20 | Le Titulaire fournit au début de la réversibilité l’ensemble des composants (OS, logiciels, bibliothèques) sans dette technique pour une profondeur d’au moins 9 mois à venir. |
| EXG_REV_21 | Le Titulaire met tout en œuvre pour faciliter la migration des données production et hors production. La Cnam se réserve le droit d’imposer la solution la plus adaptée. |
| EXG_REV_22 | Le Titulaire fournit l’ensemble des tests techniques et fonctionnels, y compris les scripts, qui recouvrent le bon fonctionnement du dispositif MESDMP. |

### 6.3.2 Exigences de sécurité

#### 6.3.2.1 Obligation du Titulaire

Les exigences de sécurité définies dans le présent CCTP et le Plan d’Assurance Sécurité sont des exigences à destination du Titulaire ayant pour objectif de pallier ou réduire les principaux risques liés à l’exécution de l’accord-cadre.

Le Titulaire respecte les exigences de sécurité et exécute l’ensemble de ses obligations de résultats et de moyens tout au long de l’accord-cadre.

Conformément au RGPD, le Titulaire reconnaît être tenu à une obligation de conseil, de mise en garde et de recommandations en termes de sécurité et de mise à l’état de l’art en vue d'optimiser la protection des données et éviter les risques ci-dessus.

En particulier, il informe la Cnam des risques d’une opération envisagée, des incidents éventuels ou potentiels et de la mise en œuvre éventuelle d’actions correctives ou de prévention.

Le Titulaire informe préalablement la Cnam de toute opération susceptible de provoquer l’indisponibilité (ou une dégradation des performances) du service, la dégradation d'intégrité et/ou de confidentialité des données.

Le Titulaire est responsable du maintien en condition de sécurité du système pendant toute la durée des prestations. Les mécanismes de sécurité mis en œuvre doivent évoluer conformément à l’état de l’art : la découverte de failles dans son système d'information, l'évolution des technologies et des capacités d'attaques doivent être prises comptes.

#### 6.3.2.2 Démarche du Plan d’Assurance Sécurité

Le PAS en annexe comprend l’ensemble des exigences de sécurité liées à l’environnement du Titulaire utilisé dans le cadre de la prestation.

Lors de la prestation Prise de connaissance et initialisation, le Titulaire doit rédiger la version finale du PAS et élaborer les dispositifs de sécurité afférents pour démontrer le respect des exigences de sécurité.

Pendant toute la durée d’exécution de l’accord-cadre :

- Les dispositifs de sécurité mis en œuvre doivent évoluer conformément à l’état de l’art : la découverte de failles dans un algorithme, un protocole, une implémentation logicielle ou matérielle, ou encore l’évolution des techniques doivent être pris en compte.
- Le Titulaire doit réaliser l’auto-évaluation de conformité aux exigences de sécurité stipulées par la Cnam et suivre les indicateurs de sécurité. Il informe la Cnam des risques, des incidents et de proposition de mise en conformité ayant trait à la sécurité.
- Le PAS peut faire l’objet d’évolution dont les modalités sont précisées dans le document lui-même, le Titulaire s’engage à mettre à jour le PAS conformément aux directives de la Cnam.

Il est rappelé que le PAS ne peut avoir pour objet ni pour effet de modifier les engagements et obligations souscrits au titre de l’accord-cadre.

En plus des exigences de sécurité du PAS, le Titulaire respecte les exigences spécifiques suivantes :

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_SEC_0.1<br>Application périmètre SSI | Le Titulaire s’engage à mettre en place l’ensemble des éléments cités dans le CCTP et le PAS afin de maintenir les conditions de sécurité dès le début de l’accord cadre. Une analyse d’écart doit être réalisée deux semaines avant le début de la bascule des services pour permettre d’identifier les risques résiduels par rapport au niveau de sécurité exigé (périmètre SSI).<br>A l’ouverture du service en production, le Titulaire reconduit toutes les mesures de sécurité décrites dans l’existant (annexes : « MESDMP_Annexe 11_Description générale des mécanismes de chiffrement » et « MESDMP_Annexe 12_Description détaillée de la protection des données  »), ou à défaut met en place de mesures permettant de traiter les risques de manière similaire.<br>La Cnam peut demander au Titulaire des preuves attestant de la bonne mise en œuvre des toutes les rubriques du PAS (ex. : preuves de mise à jour des patchs, etc.). |

#### 6.3.2.3 SEC1 – Conformité réglementaire HDS

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_SEC_1.1<br>Conformité réglementaire | Dans la mesure où les données à caractère personnel traitées sont des données de santé, des obligations spécifiques quant à leur hébergement sont introduites par l’article<br>L.1111-8 du Code de la santé publique.<br>Le Titulaire doit-être certifié HDS sur l’ensemble des activités couvertes par les deux périmètres de la certification HDS :<br>- Prestation d’hébergeurs d’infrastructure physique<br>- Prestation d’hébergeurs info géreurs.Le Titulaire s’il ne propose pas lui-même l’hébergement de la solution s’engage à ce que l’hébergement proposé soit certifié HDS afin que l’ensemble des activités réalisées par le tiers hébergeur soit certifié HDS.<br>Le Titulaire doit être certifié HDS sur l’ensemble des activités applicables au référentiel, et ce pendant toute sa durée, sans discontinuité temporelle. Le Titulaire communique annuellement la preuve à la Cnam. |

#### 6.3.2.4 SEC2 – Disponibilité

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_SEC_2.1<br>Protection anti-DDOS | Les mesures de protection de l’infrastructure hébergeant la plateforme MES contre les attaques de type déni de service distribué doivent faire l’objet d’une étude spécifique visant à déterminer le niveau de protection adéquat devant être mis en œuvre.<br>L'ensemble des processus, mécanismes et outils attendus sont décrits dans le PAS au §5.6 GESTION DE L'EXPLOITATION ET DES COMMUNICATIONS (GEC). |

#### 6.3.2.5 SEC3 - Contrôle d’accès

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_SEC_3.1<br>Référentiel des identités | Le Titulaire de l’accord-cadre est responsable de l’intégrité, de la confidentialité, de la qualité, et de la véracité des identités stockées au sein du référentiel.<br>Il s’agit des exploitants et administrateurs de l’application.<br>L’ensemble des utilisateurs de l’application sont gérés par l’application.<br>L'ensemble des processus, mécanismes et outils attendus sont décrits dans le PAS au §5.7 CONTROLE DE L'ACCES ET DES HABILITATIONS (CAH). |
| EXG_SEC_3.2<br>Enrôlement, Identification et Authentification des Titulaires | Les processus d’enrôlement, identification et authentification des titulaires d’un compte MES doivent être conformes au niveau requis par le cadre règlementaire applicable et positionné à ce jour au niveau substantiel.<br>L'ensemble des processus, mécanismes et outils attendus sont décrits dans le PAS aux §5.4 SECURITE LIEE AUX RESSOURCES HUMAINES (SRH), 5.5 SECURITE PHYSIQUE (SPH), 5.7 CONTROLE DE L'ACCES ET DES HABILITATIONS (CAH) |
| EXG_SEC_3.3<br>Protocole support à l’authentification et à la gestion des identités | Les protocoles d’authentification doivent être repris par le Titulaire (Open ID Connect (OIDC), OAUTH2, etc.).<br>La compatibilité avec les services FranceConnect et Pro Santé Connect est à respecter.<br>Une compatibilité ascendante aux recommandations de sécurité de l’ANSSI relatives à l’ensemble de ces protocoles doit être assurée par le Titulaire pendant toute la durée d’exécution de l’accord-cadre** **ainsi que la prise en compte des référentiels d’intercommunication tel que le CI-SIS. |
| EXG_SEC_3.4<br>Authentification des tiers Professionnels de santé, issus de la Sphère sociale et des usagers | Les modalités d’authentification des Professionnels de Santé et acteurs de la sphère sociale doivent répondre aux exigences formulées par la PGSSI-S. Ces modalités doivent rester conformes à toute évolution des référentiels de sécurité des professionnels de Santé, acteurs de la sphère sociale et l’ensemble des usagers. |
| EXG_SEC_3.5<br>Protections des APIs | Le Titulaire doit garantir :<br>- Un processus de contrôle d'accès des API rigoureux associé à un suivi précis (applicable également pour l’ensemble sous-traitants éventuels);<br>- Une sécurisation des API utilisant les dernières normes de cryptage et de protocoles de sécurité décris par l’ANSSI et dans ce PAS ;<br>- Un contrôle de conformité des appels API ;<br>- Une cartographie des API régulière pour que les mises à jour et les correctifs soient appliqués à temps.L’ensemble de ces éléments de politique de sécurité sont formalisés dans un document mis à disposition de la Cnam par le Titulaire avant l’ouverture de service pour validation.<br>L'ensemble des processus, mécanismes et outils attendus sont décrits dans le PAS au §5.8 SECURITE DU DEVELOPPEMENT (DEM) |

#### 6.3.2.6 SEC4 – Protection des données

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_SEC_4.1<br>Pseudonymisation de la donnée | Le Titulaire doit reprendre les processus et les outils mis en place pour la pseudonymisation des données, le contrôle d’intégrité et le chiffrement des données. Le Titulaire maintient, pendant toute la durée d’exécution de l’accord-cadre, le niveau de cette pseudonymisation à l'état de l'art. |
| EXG_SEC_4.2<br>Protection des données | Les périmètres applicables au chiffrement de la donnée sont :<br>- Le support de stockage de longue durée chiffré avec AES-256<br>- Les volumes Linux sensibles chiffrés via des mécanismes ajoutés au noyau linux<br>- Les données applicatives dans les bases de données chiffrées avec des clés créées à l'aide d'un cluster de HSM qualifiés par l'ANSSI.<br>- Le Titulaire reprend les HSM mis à disposition par la Cnam et les inclut dans son étude de dimensionnement.<br>- Le transport des données chiffré avec TLS et des certificats X.509 délivrés par une Autorité de Certification qualifiée RGS par l’ANSSI (à l’exception des certificats fournis par l’IGC Santé pour l’authentification par carte CPS).Le chiffrement est basé sur un cluster de HSM qualifié au niveau renforcé par l’ANSSI (Trustway Proteccio) embarquant un KMS dans le cas de MES (édition Trustway Proteccio Dataprotect).<br>L’objectif de ces systèmes de protection des données est d’empêcher la ré identification, par un tiers non dûment identifié et habilité à cette action, des données de santé pouvant transiter ou étant hébergées sur la plateforme, aux données administratives ou au profil du titulaire d’un compte MES.<br>Le Titulaire doit prévoir, dès la notification de l’accord-cadre, que les algorithmes et les clés de chiffrement puissent être changées en cas de besoin.<br>La position du Titulaire sur l’innovation en matière de chiffrement (chiffrement post-quantique, blockchain) est détaillée dans son offre.<br>L’ensemble des périmètres et des mécanismes sont décrits dans le PAS. Les pratiques associées doivent suivre les recommandations de l'ANSSI. |
| EXG_SEC_4.3<br>Chiffrement &<br>Convergence | Les mécanismes de sécurité à mettre en œuvre dans la phase de convergence (cf. §7.5.2) sont ceux du SI MES. Le Titulaire doit faire converger les processus du DMP vers ces mécanismes et remplacer ce qui était fait auparavant.<br>Pour rappel :** **<br>- **Chiffrement au niveau bloc** : un chiffrement des blocs de données bas niveau au niveau des baies de stockage.<br>- **Chiffrement au niveau applicatif** : un chiffrement ou une pseudonymisation des données sensibles au niveau applicatif, réalisée par un service applicatif ou un micro-service applicatif juste avant d’envoyer des données dans une base de données, et juste après en avoir consommé. Ainsi, les données sensibles présentes dans les bases de données sont chiffrées ou pseudonymisées avant d’être envoyées dans les bases et après en avoir été extraites.Ce chiffrement est réalisé systématiquement par une bibliothèque Java développée spécifiquement pour ce besoin lors de la réalisation de MES, elle fait partie du patrimoine qui sera fourni au titulaire du marché lors de la réversibilité.<br>Elle invoque un service de gestion des clés associé aux HSM.<br>Ces mécanismes du SI MES doivent être utilisés pour substituer au sein des composants logiciels du DMP le traitement du chiffrement et du déchiffrement applicatif. Ce mécanisme est basé sur des clés dites « de micro-services », afin de distinguer des domaines de chiffrement utilisés pour des traitements distincts au sein de MES. Les différents traitements du DMP doivent être découpés sur le même principe en domaines de chiffrements distincts, et utiliser ainsi des clés dites « de micro-services » distinctes<br>- **Chiffrement au niveau des systèmes d’exploitation** : Un chiffrement des volumes, au niveau des systèmes d’exploitation, pour les bases de données nécessaires aux processus issus du DMP. Il est à noter que ce chiffrement des volumes n’est pas exigé pour les bases de données qui seraient dockerisées ;<br>- **Chiffrement complémentaire CEPH réalisé par la passerelle CEPH **pour les interactions avec CEPH des processus issus du DMP.<br>- **Chiffrement Kafka **identique à celui mis en place pour MES, pour les échanges asynchrones des processus issus du DMP s’appuyant sur Apache Kafka, avec des clés de micro-services associés à des groupes de files d’attentes : en effet, les messages transitant par cette plateforme peuvent y résider plusieurs jours, pour permettre le rejeu en cas de problème technique. Au vu de cette durée de conservation, l’atteinte des objectifs de sécurité nécessite le chiffrement de ces données. Ainsi, au terme de la phase de convergence, les clés maîtres de chiffrement des données du DMP, présentes dans les HSM du DMP et transférées lors de la réversibilité dans des HSM fournis par la Cnam, dans le cadre de la reprise par le Titulaire, ne sont plus celles utilisées pour chiffrer les données du DMP reprises dans le cadre de la réversibilité. Le risque de fuite passées ou futures de ces clés est alors totalement couvert. |
| EXG_SEC_4.4<br>Chiffrement & Amélioration continue | Le cas échéant, après la phase de convergence, une phase d’amélioration du niveau de sécurité, consubstantielle de la méthodologie de traitement de la sécurité ISO-27001 (roue d’amélioration continue de Deming), est réalisée par le Titulaire. Ces prestations font l’objet d’un bon de commande.<br>Elle consiste en :<br>- L’allongement de la taille des clés de chiffrement conformément aux recommandations fixées dans le document « GUIDE DE SÉLECTION D'ALGORITHMES CRYPTOGRAPHIQUES » version 1.0 du 08/03/2021 de l’ANSSI et dans le document « RÈGLES ET RECOMMANDATIONS CONCERNANT LE CHOIX ET LE DIMENSIONNEMENT DES MÉCANISMES CRYPTOGRAPHIQUES » version 2.0.4 du 01/01/2020, basées sur une projection de l’augmentation des moyens d’attaque des sources de menace dans les années à venir (ainsi que toute mise à jour complémentaire publiée par l’ANSSI) ;<br>- L’évolution des mécanismes de chiffrement, toujours conformément aux recommandations figurant dans les deux documents de l’ANSSI cités précédemment ;<br>- L’amélioration des mécanismes de chiffrement actuellement en place dans le système d’information MES, en faisant en sorte que certaines données soient directement chiffrées et déchiffrées au sein des HSM, afin d’éviter d’exporter hors des HSM certaines des clés de chiffrement, et améliorer ainsi le niveau de sécurité du chiffrement des données les plus sensibles. Le choix des données concernées par cette amélioration du niveau de sécurité est réalisé à la fois en fonction de la sensibilité des données et des capacités en opération de chiffrement / déchiffrement par unité de temps des HSM;<br>- D’autres amélioration notables des mécanismes de chiffrement, sont le cas échéant, précisés dans l’offre du Titulaire et justifié en termes d’intérêt. |
| EXG_SEC_4.5<br>Protection de la messagerie | Pour sécuriser l’émission de courriels via le domaine de messagerie monespacesante.fr, le système d’information MES met en œuvre les mécanismes et protocoles SPF, DKIM et DMARC. Une partie de chaque message émis est ainsi signée d'une manière vérifiable par les fournisseurs de boîtes mail. Cela permet d’éviter et de détecter l'usurpation d'adresses électroniques dans le domaine de messagerie monespacesante.fr et dans ses sous-domaines.<br>- **Hébergement DNS** : L’hébergement de la configuration SPF, DKIM et DMARC est réalisée par les serveurs DNS de zone qui gèrent le domaine monespacesante.fr. Lors de la réversibilité, le Titulaire doit reprendre l’hébergement de ce domaine, les échanges avec le registrar de son choix, et la réservation du domaine auprès du registry via le registrar choisi. Tous les coûts afférents au registrar et aux moyens techniques à mettre en œuvre pour l’hébergement de ces serveurs DNS sont inclus dans de la prestation considérée.<br>- **SPF** : La politique SPF consiste à préciser la liste blanche des plages d’adresses IPv4 et IPv6 autorisées à émettre des courriels depuis le domaine monespacesante.fr.Lors de la phase de reprise, le Titulaire doit suivre ce même principe : mise en place d’une liste blanche d’adresses autorisées à émettre des courriels dans le domaine monespacesante.fr.<br>- **DMARC** :<br>- Les courriels provenant du domaine de messagerie monespacesante.fr non authentifiés ou mal authentifiés sont déposés dans les répertoires de SPAM des destinataires.<br>- Les courriels provenant des sous-domaines de messagerie de monespacesante.fr non authentifiés ou mal authentifiés sont déposés dans les répertoires de SPAM des destinataires.<br>- Le Titulaire doit mettre en œuvre une adresse email d’envoi des rapports RUA en remplacement de monespacesante.rua@emailsecurity.merox.io et la renseigner dans la politique DMARC.<br>- Le Titulaire doit archiver et analyser les rapports RUA envoyés à l’adresse qu’il a mise en place. Il doit fournir de manière hebdomadaire des rapports synthétisés de l’ensemble des informations issues de ces rapports, et notamment signaler la liste des émetteurs de courriels présentant anormalement une adresse de provenance dans le domaine monespacesante.fr ou un de ses sous-domaines. Les quantitatifs associés (nombre de mails de ce type par ex.) sont analysés afin de détecter d’éventuelles campagnes de phishing ou d’autres types d’utilisation anormale du domaine de messagerie monespacesante.fr. Ces détections sont communiquées à la Cnam dans le cadre des signalements de sécurité. Pour chacun de ces signalements, une analyse de la source de menace et du niveau de menace est réalisée par le Titulaire et présentée à la Cnam. En cas de demande de la Cnam, dans le cadre de ce type de signalement de sécurité, un plan d’action et de remédiation est proposé et réalisé par le Titulaire.<br>- Le portail de consultation des informations issues des rapports RUA et de statistiques qui en découlent, permettant la bonne gestion de ces mécanismes de sécurisation des courriels, est décrit, le cas échéant, dans l’offre du Titulaire, et justifié en termes d’intérêt.<br>- **DKIM **: Signature numérique et identifier le sélecteur DKIM utilisé pour envoyer le courrier pour récupérer la clé RSA ayant signé les entêtes.<br>- **BIMI **: Après la phase de convergence, le Titulaire doit mettre en œuvre le mécanisme BIMI : Brand Indicators for Message Identification. Il prend en charge tous les coûts et les moyens à mettre en œuvre pour cela. |

#### 6.3.2.7 SEC5 – Sécurité réseau

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_SEC_5.2<br>Sécurité des flux entrant et sortant | Tout flux entrant ou sortant de la plateforme MES doit être chiffré à l’aide du protocole TLS à l’état de l’art.<br>Une compatibilité ascendante aux recommandations de sécurité relatives à TLS de l’ANSSI doit être assurée par le Titulaire tout au long de la durée de l’accord-cadre. |
| EXG_SEC_5.3<br>Authentification des composants | Des mécanismes d’authentification des composants internes visant à protéger les échanges doivent être mis en œuvre par le Titulaire au regard des conclusions des analyses de risques.<br>Les mécanismes d'authentification sont décrits dans l’offre du Titulaire.<br>L'ensemble des processus, mécanismes et outils attendus sont décrits dans le PAS aux §5.6 GESTION DE L'EXPLOITATION ET DES COMMUNICATIONS (GEC) et 5.7 CONTROLE DE L'ACCES ET DES HABILITATIONS (CAH) |
| EXG_SEC_5.4<br>Protection contre les attaques applicatives et réseau (SOC) | Le Titulaire doit, par le biais d’une équipe de sécurité organisée autour d’un SOC unique pour MESDMP, réaliser une surveillance active, préventive et en temps réel de l’état de la sécurité de la plateforme MES. Ceci en vue de détecter toutes vulnérabilités ou tentatives d’intrusion et ainsi être en capacité soit de corriger ou de juguler une intrusion. Le SOC a dans son périmètre la détection des mésusages et doit fournir également les statistiques correspondantes.<br>L’ensemble des processus, mécanismes et outils attendus sont décrits dans le PAS aux §5.3 GESTION DE CRISE SSI – CONTINUITE D’ACTIVITE (CRI), 5.8 SECURITE DU DEVELOPPEMENT (DEM), 5.10 GESTION DES INCIDENTS (GDI).<br>A titre d’information, en 2022, le nombre de requêtes depuis Internet bloquées par le WAF et signalées dans le SIEM du SOC en tant qu’évènements de sécurité est de l’ordre d’environ 500.000 par semaine, avec une forte variance selon les semaines.<br>Seules les attaques qui proviennent de sources particulièrement virulentes ou les attaques particulièrement élaborées conduisent à créer un incident pour avoir un traitement spécifique (le plus souvent, blocage de l’IP source de l’attaque). Cela correspond à environ une vingtaine d’incidents de ce type par semaine.<br>Les autres types d’évènements de sécurité (mésusage détecté, tentative d’authentification incorrecte, etc.) conduisent, pour ceux dont la Cnam juge qu’ils méritent un traitement, à des incidents se répartissant comme ceci :<br>- Environ 50 incidents sécurité par an de niveau de priorité P2 et P3, ne nécessitant pas la création d’une cellule de crise, de tous types,<br>- Environ 12 incidents sécurité par an de niveau de priorité P1, nécessitant la création d’une cellule de crise.L’ouverture de nouveaux services, dont le Store d’échange avec des services tiers, devrait conduire à une augmentation du nombre d’incidents, puisque la surface d’attaque s’accroit. Le Titulaire utilise son expérience et son expertise sécurité de ce domaine pour évaluer l’augmentation prévisible du nombre d’incidents liés à cette ouverture. |
| EXG_SEC_5.5<br>Protection contre les attaques applicatives et réseau | Le Titulaire présente l’ensemble des mesures de sécurité technique mises en œuvre afin d’assurer la défense en profondeur et ce pour chaque environnement composant le SI-MESDMP. La sécurité doit être prise en compte dès la conception (Security by design).<br>L'ensemble des processus, mécanismes et outils attendus sont décrits dans le PAS au §5.6 GESTION DE L'EXPLOITATION ET DES COMMUNICATIONS (GEC) |

#### 6.3.2.8 SEC6 – Traçabilité

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_SEC_6.1<br>Identifiant de corrélation | Les traces doivent inclure un identifiant de corrélation dès leur entrée dans le SI-MESDMP.<br>Le premier composant en capacité de créer un identifiant de corrélation en entrée du SI doit définir un identifiant de corrélation valide pour une transaction ou une session donnée.<br>Les composants en situation de recevoir le flux portant cet identifiant doivent le véhiculer et le tracer.<br>L’identifiant de corrélation vise à faciliter la protection contre les attaques applicatives et réseau, tant sur le SI MESDMP que sur le SI de la Cnam.<br>Cette exigence concerne toutes les traces.<br>L'ensemble des processus, mécanismes et outils attendus sont décrits dans le PAS aux §5.6 GESTION DE L'EXPLOITATION ET DES COMMUNICATIONS (GEC) et 5.7 CONTROLE DE L'ACCES ET DES HABILITATIONS (CAH) |

#### 6.3.2.9 SEC7 – Homologation RGS et référentiels de Sécurité

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_SEC_7.1<br>Homologation RGS | Lors de chaque évolution de la plateforme de services et avant toute ouverture de service, même lors d’une phase d’expérimentation, le service MESDMP doit faire l’objet d’une homologation au Référentiel Général de Sécurité sur l’ensemble du périmètre de la prestation. Le Titulaire de l’accord-cadre met en œuvre l’ensemble des ressources nécessaires à la réalisation des audits visant à :<br>- Valider la bonne mise en œuvre des mesures de sécurisation identifiée par les analyses de risque,<br>- Valider le niveau de sécurité de la version homologuée et identifier les risques résiduels ;<br>- Accompagner le responsable de traitement dans le cadre de cette procédure ;<br>- Garantir une transparence totale sur les preuves de conformité du référentiel RGS, en fournissant les justificatifs associés sur l’ensemble du périmètre applicable ;<br>- Garantir que les processus de patchs de sécurité sont adaptés et associés aux exigences RGS.Une matrice de responsabilité pour le processus d'homologation doit être définie par le Titulaire. Elle doit permettre de clarifier les rôles et les responsabilités de chaque partie impliquée dans le processus. Cette matrice doit être approuvée conjointement avec la Cnam lors de la prestation « P1.1 - Pdc_Init : Prise de connaissance et Initialisation ». |
| EXG_SEC_7.2<br>Audit RGS | En préparation de chaque Homologation, le Titulaire doit mettre à disposition un environnement de tests d’intrusion accessible depuis le Web étant une copie de l’environnement de production (en termes de fonctionnalités, points d’accès, etc.).<br>Cet environnement possède un jeu de données propre à son contexte (anonymisation des données, comptes dédiés, etc.) |
| EXG_SEC_7.3<br>Poste d’administration | Dans les différents référentiels de sécurité, l’ANSSI demande la mise en œuvre d’un SI d’Administration. Concernant le poste d’administration, qui est un des points clé de ce SIA, la Cnam demande à ce que ce poste :<br>- Soit un poste physique non virtualisé n’ayant accès qu’au SIA<br>- Distinct du poste bureautique<br>- Equipé des seuls outils strictement nécessaires aux actions d’administration<br>- Ayant fait l’objet d’un durcissement du paramétrage sécuritéLa connexion d’un poste bureautique vers ce poste d’administration ne doit pas être possible. |
| EXG_SEC_7.4<br>Certifications requises | Le Titulaire doit être certifié (outils, mécanismes et processus) sur l’ensemble des conformités et homologations suivantes :<br>- HDS (décrit dans EXG_SEC_1.1)<br>- ISO 27001<br>- ISO 27701<br>- ISO 27018 (uniquement si hébergement Cloud)<br>- PDIS pour le scope de détection d’incidents (SOC)<br>- PASSI pour les audits de sécuritéL’ensemble de ces certifications sont applicables pendant toute la durée de l’accord-cadre, sans discontinuité temporelle. Le Titulaire communique à la Cnam, annuellement, la ou les preuve(s). |
| EXG_SEC_7.5<br>Autres référentiels à prendre en compte | Le Titulaire doit présenter ses plans de mise en conformité aux référentiels :<br>- PRIS pour le scope de réponse à incidents (CISRT)<br>- NIS/NIS2 (cf. §7.8 « P6 - NIS2 : Homologation NIS/NIS-2 ») |

### 6.3.3 Exigences de Maintenabilité Opérationnelle

#### 6.3.3.1 MNT - Maintenance préventive, corrective, évolutive, standard et réglementaire

| Exigences | Description générale |
| --- | --- |
| EXG_MNT_1 | Le Titulaire est responsable de tous les logiciels et interfaces développés ou mis en œuvre. Il prend à sa charge leur maintenance corrective dans le cadre des prestations de maintien en condition opérationnelle et de sécurité des services. |
| EXG_MNT_2 | Le Titulaire s’engage, pour tout nouveau développement, sur la qualité du code des logiciels développés, sur le respect des normes fixées pour la réversibilité de fin d’accord-cadre, ainsi que les exigences fonctionnelles de sécurité. |
| EXG_MNT_3 | Le Titulaire planifie et réalise les opérations de maintenance (par exemple pour des réorganisations, modifications de paramètres des bases de données, modifications de la répartition du stockage physique, etc.) en respectant un délai de prévenance de 15 jours calendaires (détaillé dans le Plan d’Assurance Qualité). Ce délai peut être adapté en fonction du niveau d’urgence de la maintenance à opérer, mais toujours avec communication et validation préalable par la Cnam du créneau envisagé. |
| EXG_MNT_4 | Le Titulaire planifie et réalise :<br>- Les opérations de maintenance en Production sans interruption du service<br>- Les opérations de maintenance en Hors-Production sans interruption du service, ou à défaut en dehors des plages de disponibilité prévues au présent CCTP.En cas de non-respect, toute indisponibilité est répercutée sur les indicateurs de disponibilité prévus au présent CCTP. En cas de non-respect des seuils, la Cnam peut appliquer les pénalités définies au CCAP. |
| EXG_MNT_5 | Le Titulaire assure les actions proactives et réactives d'amélioration des systèmes (optimisation des serveurs, mise à jour de sécurité, augmentation des ressources systèmes, etc.) |
| EXG_MNT_6 | Le Titulaire est tenu de réaliser les actions nécessaires en vue de rendre conforme la solution à la réglementation en vigueur, y compris des évolutions concernant les exigences de la CNIL ou en lien avec les référentiels d’interopérabilités nationaux : Cnam et ANS. |
| EXG_MNT_7 | Le Titulaire assure la maintenance évolutive standard de la solution prévue dans le cadre de sa roadmap éditeur. A ce titre, il fournit à la Cnam l’ensemble des mises à jour et nouvelles versions y compris majeures de la solution. |
| EXG_MNT_8 | Afin de faciliter toute action de Réversibilité auprès du Repreneur, le Titulaire s’engage à s’appuyer tout au long de la prestation sur des produits, outils et langages standard et à jour, dans le cadre des activités citées ci-dessus et relatives aux environnements, services et solutions hébergés. |
| EXG_MNT_9 | Le Titulaire s’engage à souscrire tous les contrats de maintenance logiciel et matériel jugés nécessaires pour garantir les niveaux de service demandés.<br>Ces contrats doivent être souscrits auprès des constructeurs et/ou éditeurs et renouvelés chaque année. |
| EXG_MNT_10 | De manière préventive, le Titulaire de l’accord-cadre identifie et propose les évolutions nécessaires concernant l’architecture fonctionnelle, applicative et technique. Cette démarche vise à réduire les risques de dégradation des performances du système en regard d’une montée significative des volumétries (données, nombre d’utilisateurs, etc.). La maintenance préventive doit également permettre de maintenir et d’améliorer le niveau de qualité de l’application et de réduire les coûts de la maintenance corrective et d’éviter toute obsolescence technique du produit. |
| EXG_MNT_11 | Au titre de la maintenance préventive, le Titulaire est en charge de :<br>- L’identification des risques et de l’étude des améliorations à apporter à l’application (application, base de données, architecture, retour des analyses des tickets utilisateurs, etc.) afin de maintenir le niveau de service conforme aux exigences ou de prévenir des risques de dégradation des performances ;<br>- L’identification et l’analyse des impacts sur l’application de la réalisation ou non des opérations de maintenance préventive (impact de l’absence de travaux de maintenance préventive, composants impactés par les opérations de maintenance, etc.) ;<br>- La définition de plans d’actions nécessaires au maintien de la qualité de service. |
| EXG_MNT_12 | A minima tous les trimestres, le Titulaire fournit le compte-rendu d’activité de la prestation de maintien en conditions opérationnelles, les risques opérationnels identifiés sur le fonctionnement de l’application en production et les actions de maintenance préventive associées. |
| EXG_MNT_13 | Le Titulaire doit réviser, mettre à jour et livrer les procédures d’exploitation et plans de production a minima à chaque version majeure. |

#### 6.3.3.2 GDC – Gestion des Changements et Mises en Production

| Exigences | Description générale |
| --- | --- |
| EXG_GDC_1 | Le Titulaire assure la déclaration et la traçabilité de toute opération réalisée de manière directe ou indirecte sur l’un des éléments de configuration de son SI, délivrant ou contribuant à un service pour lequel la Cnam est client. La traçabilité et la déclaration de ces opérations sont réalisées conformément aux processus de Gestion de la Configuration et de Gestion des Changements détaillés dans le Plan d’Assurance Qualité. |
| EXG_GDC_2 | Avant toute installation en production, le Titulaire s’engage à respecter un déploiement sur les environnements Hors-Prod et à accomplir les opérations suivantes : Tests de Non-Régression, Tests de Robustesse, Tests aux Limites, Tests de sécurité, Tests de la procédure de retour arrière, etc. |
| EXG_GDC_3 | En cas d’évolution Fonctionnelle, le Titulaire s’engage à solliciter la Cnam pour planification et réalisation d’une Recette Fonctionnelle adaptée.<br>La bonne Fin desdits Tests doit être systématiquement matérialisée par la production d’un PV produit par le responsable de la prestation afin d’accompagner la demande de Changement en Production. |
| EXG_GDC_4 | Pour tout passage en Comité d’Approbation des Changements d’une Demande (à l’initiative du Titulaire ou de la Cnam) concernant tout ou partie des solutions hébergées par le Titulaire pour le compte de la Cnam, celle-ci doit être systématiquement notifiée de sa planification (dans le respect des délais de prévenance établis) et de la Décision finale du Comité.<br>Cette redescente d’information doit être opérée au travers de la comitologie établie entre le Titulaire et la Cnam (et détaillée dans le Plan d’Assurance Qualité). |
| EXG_GDC_5 | Le Titulaire planifie et réalise :<br>- Les opérations de Mise en Production sans interruption du service.<br>- Les opérations de Mise en Hors-Production sans interruption du service, ou à défaut en dehors des plages de disponibilité prévues dans le présent CCTPEn cas de non-respect, toute indisponibilité est répercutée sur les indicateurs de disponibilité prévus au présent CCTP. En cas de non-respect des seuils, la Cnam peut appliquer les pénalités définies au CCAP. |
| EXG_GDC_6 | Les opérations de mises en production doivent être effectuées en accord avec la Cnam et dans les respects des planifications établies.<br>Le non-respect du planning peut entrainer l’application des pénalités définies au CCAP. |

### 6.3.4 Exigences de Recette

| Exigences | Description générale |
| --- | --- |
| EXG_RE7_1 | Les produits (MESDMP et produits connexes) sont testés en sortie de fabrication par le Titulaire, en sortie de recette fonctionnelle et en pré production dans des environnements fiables et adaptés, incluant les temps. |
| EXG_RE7_2 | Les plans de test et des cas du test du Titulaire doivent être compatibles avec l’outil de la Cnam : HP/ALM.<br>La livraison par le Titulaire des plans de test, des cas de test et des campagnes de recette doit être faite dans un format qui puisse être intégré automatiquement dans l’outil HP/ALM de la Cnam. |
| EXG_RE7_3 | Les données de tests relatifs à la recette fonctionnelle doivent être fictives mais réalistes. |
| EXG_RE7_4<br>Katalon | Le Titulaire doit récupérer les scripts Katalon et les mettre à niveau pour accompagner les évolutions réalisées. |
| EXG_RE7_5<br>Tests API | Les API sont testées via Postman. Le catalogue des jeux de données des API doit vivre pour permettre la bonne réalisation des tests. |
| EXG_RE7_6<br>Tests sur médias réels | Concernant la partie mobile, les tests doivent pouvoir être réalisés sur des médias diversifiés (*devices)* réels, en batterie, afin de disposer de résultats plus réalistes. |
| EXG_RE7_7 | Pour pouvoir prononcer l'acceptation, la Cnam vérifie la recevabilité de la livraison au regard des livrables attendus.<br>Pour être déclarée recevable, la livraison doit remplir a minima les conditions suivantes :<br>- Exhaustivité des composants livrés,<br>- Les résultats de qualimétrie sont conformes aux attendus de la barrière qualité de la Cnam,<br>- Les développements respectent les normes, exigences et bonnes pratiques indiquées par la Cnam,<br>- La documentation est à jour des dernières modifications,<br>- Les composants sont installables.Ces conditions sont, le cas échéant, affinées dans le PAQ. |
| EXG_RE7_8 | Pour le cycle en V : Vérification de service régulier (VSR)<br>La phase de Vérification en Service Régulier (VSR) démarre le lendemain du jour de mise en production, la durée est fixée dans le bon de commande.<br>La fin de VSR ne peut être prononcée que si l’ensemble des anomalies/incidents graves et bloquant(e)s détectées pendant la VSR ont été corrigées, livrées et testées en production. |

### 6.3.5 Exigences de Support

#### 6.3.5.1 SUP - Support technique et applicatif

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_SUP_1 | Le Titulaire prend en charge le support du MESDMP sur l’ensemble des briques le composant.<br>Sur le périmètre Hébergement (cf. §7.4) et Exploitation, le Titulaire assure les niveaux 1, 2, et 3.<br>Sur le périmètre applicatif et métier, le Titulaire assure les niveaux 2 et 3 (MOE/TMA/HDS). |
| EXG_SUP_2 | Le Titulaire met en œuvre les processus et outil de support en respectant les bonnes pratiques du référentiel ITIL.<br>Les agents Cnam participant au Programme, dans la limite d’une dizaine, doivent avoir les accès nécessaires, a minima en lecture seule :<br>- À la gestion des tickets ainsi qu’aux requêtes de suivi pour les activités de Pilotage et de Support,<br>- Aux dépôts de traces applicatives de l’environnement de production, afin de pouvoir participer aux opérations de traitement d’incident quand nécessaire.<br>- Au SIEM du SOC en autonomie, pour participer aux opérations de traitement d’incident quand nécessaire, par ex. pour croiser des IOC détenus avec les évènements de sécurité survenus sur MESDMP.<br>- À l’IHM d’administration des clusters de WAF (le client lourd est fourni par le Titulaire). L’objectif est de pouvoir connaître en temps réel l’état de configuration, et notamment les exceptions d’alertes, positionnées dans ces WAF.<br>- Aux IHM d’administration des outils mis en place par le Titulaire pour le SI MESDMP : vCenter, outils de la Forge CI/CD, Opensift, Kafka, MongoDB, Bastion, etc. |
| EXG_SUP_3 | Les moyens de communication et les outils entre les utilisateurs, la Cnam et le Titulaire sont finalisés lors de la prestation de prise de connaissance et initialisation de l’accord-cadre.<br>Néanmoins, le Titulaire doit offrir plusieurs moyens de contact du support pour les agents de l’Assurance Maladie pour ouvrir un ticket d’incident, d’anomalie ou une demande :<br>- Outil de gestion des tickets (ex. : ClearQuest côté Cnam voir annexes 5 à 8)<br>- Mails<br>- TéléphoneQuelle que soit l’interface, le Titulaire doit émettre en retour un accusé de réception électronique indiquant la bonne prise en compte de l’incident ou de la demande. |
| EXG_SUP_4 | Dans le cas d’un outillage différent autour de la « Gestion des Anomalies / Incidents / Demandes », entre le Titulaire et la Cnam, le Titulaire doit inclure, dans son offre, les moyens d’Inter-connectivités bidirectionnelles avec les outils de la Cnam :<br>- Outil du Titulaire -> Outil Cnam (ICD)<br>- Outil Cnam (ICD) -> Outil du TitulaireLes passerelles et « ponts » inter-outils au sein de la Cnam restent du ressort de la Cnam (ICD <-> CleaQuest). |
| EXG_SUP_5 | Jusqu’à mise en œuvre d’un outillage interconnecté pour la gestion des tickets, le Titulaire s’engage à les suivre, les renseigner et faire évoluer leur statut tout au long du traitement de ces dernières, et ce, directement dans l’outil Cnam (ex. : ClearQuest). |
| EXG_SUP_6 | Le Titulaire garantit le maintien de l’inter-connectivité des outils de ticketing en cas de montée de version des produits, d’évolution des besoins ou de changement d’outil (côté Cnam comme côté Titulaire). |
| EXG_SUP_7 | Les moyens du Titulaire doivent s’adapter au niveau d’activité et à la montée en charge du système. |
| EXG_SUP_8<br>Réversibilité | Fournir les éléments permettant de mettre en œuvre une réversibilité au moindre coût en cas de changement de Titulaire de l’accord-cadre de support. |
| EXG_SUP_9<br>Interconnexion avec inter régime | Le Titulaire maintient et garantit l’interconnexion avec l’inter-régime. |
| EXG_SUP_10<br>Gestion du consentement | Gérer le consentement des usagers qui solliciteraient le support par le biais du téléphone et non pas du MESDMP (et qui ne disposeraient pas de courriel). |
| EXG_SUP_11<br>Accès agents | L’accès à l’outil support métier ou à ses interfaces doit être sécurisé par l’identification de l’agent support autorisé. |
| EXG_SUP_12<br>Vérification de l’identité du demandeur | L’outil support doit être capable d’identifier un titulaire/futur titulaire d’un compte MESDMP par son INS mais également sur ses Traits d’identité.<br>Cette exigence s’applique aussi au demandeur.<br>Si le demandeur est différent du titulaire ou si le titulaire est mineur, une vérification de la délégation ou du lien OD principal / AD doit être effectuée. |
| EXG_SUP_13<br>Création de l’ENS | L’outil doit permettre la création du MESDMP pour certains cas en se basant sur des services de la sécurité sociale et en émettant l’évènement attendu par le service de pilotage MESDMP. |
| EXG_SUP_14<br>Actions sur l’ENS | Pour un titulaire d’un MESDMP sans compte, l’outil support doit permettre de :<br>- Transmettre la demande de fermeture du MESDMP<br>- Transmettre la demande de réouverture du MESDMPD’autres actions peuvent être amenées à intégrer cette exigence. |
| EXG_SUP_15<br>Actions sur les données du titulaire | L’outil support doit pouvoir accéder aux données indispensables au titulaire pour l’accès à son compte :<br>- Modification des coordonnées de contact<br>- D’autres données pourront être intégrées dans cette exigence. |
| EXG_SUP_16<br>Traçabilité des actions | Toutes les actions du support doivent être tracées (qui, quoi, comment et quand). Ces traces doivent être consultables par l’usager. |
| EXG_SUP_17<br>Consultation des traces | L’outil doit être en capacité (via l’api Profil) de consulter les traces concernant les actions effectuées sur le MESDMP d’un titulaire (ceci dès la création), mais également la trace de la notification individuelle et de son éventuelle opposition. |
| EXG_SUP_18<br>Escalade au niveau supérieur | L’outil doit permettre d’informer le niveau de support supérieur en précisant le niveau de criticité de la situation. |
| EXG_SUP_19<br>Indicateurs d’exploitation | Un système de remontée d’indicateurs d’exploitation doit informer le support métier des incidents en cours. |
| EXG_SUP_20<br>Visibilité sur outil | Mettre en œuvre une solution permettant d’avoir une visibilité sur l’outil de ticketing (volume et détail des tickets / qualité) |
| EXG_SUP_21<br>Outil partagé | Mettre en œuvre un outil du marché ou une évolution de PSN1 pour permettre un partage entre tous les acteurs de l’ensemble du périmètre MESDMP . |

#### 6.3.5.2 GDD - Gestion des Demandes

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_GDD_1 | Le Titulaire doit utiliser un outillage pour la gestion des demandes.<br>Dans le cas d’un outil propre au Titulaire, celui-ci doit pouvoir être accessible aux utilisateurs Cnam désignés (création, gestion et suivi des demandes).<br>Cet outil doit avoir les fonctionnalités suivantes :<br>- Identification du demandeur<br>- Coordonnées du demandeur<br>- Priorité<br>- Les références du ticket si suite à un incident<br>- L’entité à l’origine de la création du ticket (Titulaire/Cnam et organismes)<br>- La nature du dysfonctionnement<br>- La description<br>- Le dépôt d’une pièce jointe si nécessaire.Dans le cas d’une création dans un outil propre au Titulaire, un mail est envoyé à l’initiateur Cnam de la demande avec un lien permettant d’accéder à la demande directement dans l’outil du Titulaire.<br>L’information de la nature de la demande doit apparaitre dans ce mail.<br>La prise en charge des demandes est couverte dans le cadre des prestations de maintien en conditions opérationnelles des différents systèmes. |
| EXG_GDD_2 | Le Titulaire constitue et met à jour, tout au long de l’accord-cadre, le catalogue des demandes incluant les délais de prévenance et de réalisation.<br>Les demandes peuvent être formulées par la Cnam pour l’ensemble des environnements techniques mis à disposition par le Titulaire. |
| EXG_GDD_3 | Les demandes réalisées doivent être associées à des procédures de retour arrière potentiel (sauf exception, qui doit être indiquée dans le catalogue des services) et éventuellement leur prise en compte doit pouvoir être différée. |
| EXG_GDD_4 | En cas de demande du Titulaire vers la Cnam, cette demande doit être exprimée dans les outils de la Cnam (Clearquest ou ICD) et adressée avec les informations nécessaires à ces outils pour être conforme aux processus de la Cnam. |
| EXG_GDD_5 | Le processus de Gestion des Demandes doit être détaillé dans le Plan d’Assurance Qualité. |

#### 6.3.5.3 GDI - Gestion des Incidents (ou anomalies)

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_GDI_1 | En tant que centre de support, le Titulaire veille au bon renseignement des tickets d’incident (ou anomalie) :<br>- L’identification du ou des sites concernés, l’identification de l’utilisateur ou de la ligne concernée ;<br>- Une capture d’écran pour une IHM ;<br>- Les références du ticket d’incident ;<br>- L’entité à l’origine de la création du ticket (Titulaire/Cnam et organismes) ;<br>- La cause du dysfonctionnement ;<br>- La date et heure du début du dysfonctionnement ;<br>- La date et heure de la fin du dysfonctionnement ;<br>- La durée totale de dysfonctionnement ;<br>- La sévérité de l’incident (cf. définition dans l’exigence EXG_GDI_9);<br>- La description à l’ouverture du ticket ;<br>- La responsabilité de l’incident ;<br>- L’historique des interventions relatives à l’incident ;<br>- Nouvel Incident (ou Anomalie) : Pour tous les incidents (ou anomalies), lors de leur analyse il faut déterminer s’il s’agit d’une régression.<br>- Si des incidents sont liés entres eux (plusieurs signalements pour un même incident), la liste des tickets liés<br>- Si le correctif nécessite la création d’un ticket dans un outil différent, l’identifiant du ticket dans cet outil doit aussi être indiqué afin d’assurer un traçabilité. |
| EXG_GDI_2 | Le Titulaire doit utiliser un outillage pour la gestion des anomalies et des incidents.<br>Cet outil doit pouvoir s’interfacer avec les outils de gestion de la Cnam (ICD).<br>Cet outil doit être accessible par les utilisateurs désignés par la Cnam (création, gestion et pilotage des tickets). Il doit permettre de :<br>- Créer, de suivre et de tracer les contacts clients et des incidents, conformément aux engagements de qualité<br>- Gérer la prise en charge et la mise en œuvre des procédures d’escalade tickets vers les niveaux 1, 2, 3<br>- Gérer plusieurs états du ticket jusqu’à sa clôture<br>- Permettre plusieurs vues des échanges d’un ticket afin que l’utilisateur ne puisse voir que la réponse finale à son ticket |
| EXG_GDI_3 | Si l’anomalie/l’incident est détecté(e) par la supervision :<br>- La procédure d’ouverture de ticket doit être automatisée pour optimiser les délais de Prise en Compte.<br>- Le Titulaire a également un engagement de proactivité dans l’ouverture des tickets d’incidents et doit en notifier l’ouverture aux équipes Cnam concernées par mail et/ou téléphone / outil de gestion des tickets. |
| EXG_GDI_4 | Le Titulaire a la responsabilité de réaliser le diagnostic initial et le pilotage de la gestion de l’incident jusqu’à sa résolution ; |
| EXG_GDI_5 | En cas d’indisponibilité avérée, le Titulaire produit systématiquement un Rapport d’Incident. Celui-ci doit être rattaché à l’incident dans l’outil de gestion des tickets (visible du pilotage Cnam). Il doit comporter :<br>- Numéro d’incident/d’anomalie<br>- Date et heure de début / détection / Résolution<br>- Cause / Origine<br>- Impact<br>- Actions de résolution / correction<br>- Plan d’actions ou axe d’amélioration |
| EXG_GDI_6 | Le Titulaire a la charge :<br>- D’organiser, d’animer et de rédiger les Ordres du jour et les comptes rendus des différents comités tels que convenus avec la Cnam et détaillés au sein du Plan d’Assurance Qualité.<br>- La périodicité des comités est à adapter en fonction de la situation et de leur nature.<br>- De réaliser des Tableaux de bord de suivi des anomalies et incidents en cours et/ou clôturées, sur des indicateurs de résolutions d’anomalies et d’incidents par typologie, par priorité/sévérité, temps de résolutions des anomalies et Incidents par Niveaux d’Engagements (SLA), etc.Ces points sont précisés lors de la prestation « P1.1 - Pdc_Init : Prise de connaissance et Initialisation ». |
| EXG_GDI_7 | Le Titulaire a l’obligation de donner l’accès à l’outil de ticketing à des utilisateurs désignés par la Cnam. Ces derniers doivent a minima avoir des habilitations permettant :<br>- Le suivi opérationnel des tickets (création de tickets, intervention sur leur cycle de vie)<br>- Le pilotage et la génération du reporting nécessaire. |
| EXG_GDI_8 | Le Titulaire a l’obligation de mettre à disposition des agents AM une FAQ, de l’actualiser au fil de l’eau et de mettre à jour une base de connaissance de manière systématique. |
| EXG_GDI_9 | a) La classification du niveau de sévérité des **Incidents de production**, hors sécurité, est la suivante (les incidents de disponibilité sont traités dans cette classification et non dans la classification des incidents de sécurité) :<br>- Incident bloquant :<br>- Il s’agit de tout incident rendant impossible l’utilisation en production des services dans leur ensemble de l’une des applications MES (Web ou Mobile) ou Store (Ecosystème) ou DMP ou PSN1.PSN1 est considéré indisponible quand les agents de support ne peuvent pas travailler compte tenu de l’Incident et qu’en conséquence le numéro de téléphone du support doit être fermé (tél = 3422 à date de rédaction du présent CCTP).<br>- Incident grave :<br>- Il s’agit de tout incident restreignant l’utilisation en production des services pour tout ou partie de leurs fonctionnalités (hors cas bloquant mentionné ci-avant) ;<br>- Il peut s’agir d’un incident gênant dont l’occurrence est importante (au-delà de 50 tickets)<br>- Incident gênant :<br>- Il s’agit de tout incident ou anomalie mineur(e) de fonctionnement permettant toutefois l’utilisation complète en production des services dans l’ensemble de leurs fonctionnalités, même si celle-ci se fait au moyen d’une procédure de contournement.Pour toute demande de support, d’analyse, de contournement ou de correction formulée par la Cnam au Titulaire, ou dès que l’incident est identifié par le Titulaire (ex. : via son SOC, ou via un signalement adressé au Titulaire, portant à sa connaissance cet incident), ce dernier est tenu de traiter ces demandes et l’incident en lui-même en respectant les délais de réactivité définis ci-après :<br>**Incidents de production, y compris de disponibilité, hors sécurité**Niveau de sévéritéAnalyse et correctionIncidentPrise en compte de la demande*Diagnostic*Contournement*Résolution*Rattrapage/ correction des données*Bloquant15mn1h4h24h24hGrave 30mn4h12h48h 48 hGênant 4h55h110 h220 h330 h** Les délais se réfèrent à l’heure de l’évènement initial*<br>En cas de non-respect des délais de contournement et de rattrapage/correction des données, la Cnam peut appliquer les pénalités définies au CCAP.<br>b) La classification du niveau de sévérité des **Incidents de** **sécurité **est la suivante :<br>- Incident de sécurité bloquant :<br>- Tout évènement qui a conduit à une atteinte à la confidentialité ou à l’intégrité des **données de santé** d’un ou plusieurs usagers, que cela se soit produit en environnement de production ou dans un autre type d’environnement du système d’information de ce marché ;<br>- Tout évènement qui a conduit à une intrusion sur un composant de l’environnement de production du SI MESDMP.<br>- Incident de sécurité grave :<br>- Tout évènement qui a conduit à une atteinte à la confidentialité ou à l’intégrité de **données personnelles (hors données de santé)** d’un ou plusieurs usagers, que cela se soit produit en environnement de production ou dans un autre type d’environnement du système d’information objet de l’accord-cadre.<br>- Tout évènement qui a conduit à une intrusion sur un composant d’un environnement hors production du SI MESDMP.<br>- Tout évènement qui a conduit à l’exploitation d’une vulnérabilité quelconque, en environnement de production ou hors environnement de production. Il s’agit donc d’une **vulnérabilité **avérée.<br>- Incident de sécurité gênant :<br>- Tout incident de sécurité qui n’est pas catégorisé bloquant ni grave.**Incidents de sécurité**Niveau de sévéritéAnalyse et correctionIncidentPrise en compte de la demande*Diagnostic* Contournement* Résolution* Rattrapage/ correction des données* Bloquant 15mn1h4h24h24hGrave 30mn4h12h48h48hGênant 4h55h110h220h330h** Les délais se réfèrent à l’heure de l’évènement initial*<br>En cas de non-respect des délais de contournement et de rattrapage/correction des données, la Cnam peut appliquer les pénalités définies au CCAP.<br>Dans le cadre des incidents de sécurité, le diagnostic est l’identification exacte de la cause mère de l’incident (il s’agit de la « root cause » dans le jargon informatique et sécurité, c’est-à-dire de la cause la plus en amont de la chaîne d’évènements qui ont conduit à l’incident).<br>Dans le cadre des incidents de sécurité, le contournement consiste :<br>- S’il s’agit d’une atteinte aux données : à mettre en œuvre un moyen quelconque permettant d’empêcher toute atteinte à la confidentialité et à l’intégrité des données.<br>- S’il s’agit d’une intrusion : à mettre en œuvre un moyen quelconque permettant d’empêcher toute nouvelle intrusion et à éradiquer l’intrusion en cours.<br>- S’il s’agit de l’exploitation d’une vulnérabilité : à mettre en œuvre un moyen quelconque pour que cette vulnérabilité ne soit plus exploitable.Dans le cadre des incidents de sécurité, la résolution consiste à traiter l’incident en couvrant le risque associé par une mesure nominale plutôt que temporaire. Par exemple, si une vulnérabilité avérée a été traitée dans la phase « contournement » via la mise en place d’une règle de pare-feu applicatif, alors la résolution doit prendre la forme d’une correction de la vulnérabilité à sa source (suppression de la « root cause »). D’autre part, la résolution est accompagnée d’une identification de la source de menace et des actions qu’elle a pu réaliser pendant l’incident (par ex., une liste de toutes les actions réalisées par les adresses IP qui ont été utilisées par la source de menace, pendant l’incident et les mois précédents).<br>Dans le cadre des incidents de sécurité, la phase « rattrapage » consiste à :<br>- Identifier de manière exhaustive les données et autres composants altérées,<br>- Remettre à jour les données altérées et remettre à leur état précédent l’attaque les composant altérées, par ex. par utilisation de sauvegardes, en s’assurant qu’il n’y a pas eu de perte de données via cette opération. En effet, si un ensemble de données ont été modifiées par un attaquant, il se peut aussi que des traitements légitimes ou des accès des usagers au service aient eu lieu au même moment. Dans un tel cas où il y a un risque que l’utilisation de données récupérées depuis des sauvegardes conduisent à écraser en partie des données légitimement modifiées, le titulaire doit identifier précisément les impacts, les données et les usagers concernés, puis proposer un plan de traitement de ce risque.c) Les **vulnérabilités non avérées **sur des environnements ne sont pas des incidents mais sont l’objet d’exigences de traitement présentées ci-dessous. La classification du niveau de sévérité de ces vulnérabilités est la suivante :<br>- Vulnérabilité non avérée de sécurité bloquante :<br>- Toute vulnérabilité qui peut conduire, sans devoir exploiter conjointement une autre vulnérabilité, à une atteinte à la confidentialité ou à l’intégrité des données de santé d’un ou plusieurs usagers, que cela puisse se produire en environnement de production ou dans un autre type d’environnement du SI MESDMP ;<br>- Toute vulnérabilité qui peut conduire, sans devoir exploiter conjointement une autre vulnérabilité, à une intrusion sur un composant de l’environnement de production du SI MESDMP ;<br>- Toute vulnérabilité publique dont le niveau de CVSS est égal ou supérieur à 9.<br>- Vulnérabilité non avérée de sécurité grave :<br>- Tout vulnérabilité qui peut conduire, sans devoir exploiter conjointement une autre vulnérabilité, à une atteinte à la confidentialité ou à l’intégrité des données personnelles (hors données de santé) d’un ou plusieurs usagers, que cela puisse se produise en environnement de production ou dans un autre type d’environnement du SI MESDMP ;<br>- Toute vulnérabilité qui peut constituer une étape d’un scénario de menace conduisant à une atteinte à la confidentialité ou à l’intégrité des données de santé d’un ou plusieurs usagers, que cela puisse se produire en environnement de production ou dans un autre type d’environnement du SI MESDMP (cette vulnérabilité seule ne permet pas que cela se produise, mais elle peut participer à un scénario conduisant à ce que cela se produise, si d’autres faiblesses venaient à se concrétiser) ;<br>- Toute vulnérabilité qui peut conduire à une intrusion sur un composant d’un environnement hors production du SI MESDMP ;<br>- Toute vulnérabilité publique dont le niveau de CVSS est égal ou supérieur à 8.<br>- Vulnérabilité non avérée de sécurité gênante :<br>- Tout vulnérabilité de sécurité qui n’est pas catégorisée bloquante ni grave.Les délais de traitement des vulnérabilités sont les suivants :<br>Niveau de sévéritéAnalyse et résolutionVulnérabilité non avéréePrise en compte de la demande*Diagnostic de la vulnérabilité*Contournement de la vulnérabilité*Résolution de la vulnérabilité*Bloquant 15mn1h4h24hGrave 30mn4h12h48hGênant 4h55h110h220h** Les délais se réfèrent à l’heure de l’évènement initial*<br>En cas de non-respect des délais de contournement et de résolution, la Cnam peut appliquer les pénalités définies au CCAP. | **Incidents de production, y compris de disponibilité, hors sécurité** | Niveau de sévérité | Analyse et correction | Incident | Prise en compte de la demande* | Diagnostic* | Contournement* | Résolution* | Rattrapage/ correction des données* | Bloquant | 15mn | 1h | 4h | 24h | 24h | Grave | 30mn | 4h | 12h | 48h | 48 h | Gênant | 4h | 55h | 110 h | 220 h | 330 h | **Incidents de sécurité** | Niveau de sévérité | Analyse et correction | Incident | Prise en compte de la demande* | Diagnostic* | Contournement* | Résolution* | Rattrapage/ correction des données* | Bloquant | 15mn | 1h | 4h | 24h | 24h | Grave | 30mn | 4h | 12h | 48h | 48h | Gênant | 4h | 55h | 110h | 220h | 330h | Niveau de sévérité | Analyse et résolution | Vulnérabilité non avérée | Prise en compte de la demande* | Diagnostic de la vulnérabilité* | Contournement de la vulnérabilité* | Résolution de la vulnérabilité* | Bloquant | 15mn | 1h | 4h | 24h | Grave | 30mn | 4h | 12h | 48h | Gênant | 4h | 55h | 110h | 220h |
| **Incidents de production, y compris de disponibilité, hors sécurité** |
| Niveau de sévérité | Analyse et correction |
| Incident | Prise en compte de la demande* | Diagnostic* | Contournement* | Résolution* | Rattrapage/ correction des données* |
| Bloquant | 15mn | 1h | 4h | 24h | 24h |
| Grave | 30mn | 4h | 12h | 48h | 48 h |
| Gênant | 4h | 55h | 110 h | 220 h | 330 h |
| **Incidents de sécurité** |
| Niveau de sévérité | Analyse et correction |
| Incident | Prise en compte de la demande* | Diagnostic* | Contournement* | Résolution* | Rattrapage/ correction des données* |
| Bloquant | 15mn | 1h | 4h | 24h | 24h |
| Grave | 30mn | 4h | 12h | 48h | 48h |
| Gênant | 4h | 55h | 110h | 220h | 330h |
| Niveau de sévérité | Analyse et résolution |
| Vulnérabilité non avérée | Prise en compte de la demande* | Diagnostic de la vulnérabilité* | Contournement de la vulnérabilité* | Résolution de la vulnérabilité* |
| Bloquant | 15mn | 1h | 4h | 24h |
| Grave | 30mn | 4h | 12h | 48h |
| Gênant | 4h | 55h | 110h | 220h |
| EXG_GDI_10 | Les vulnérabilités en production et les incidents de sécurité font l’objet de tickets, comme tout incident.<br>Les différents délais exprimés en EXG_GDI_9 se réfèrent tous à l’heure de l’évènement initial :<br>- Apparition de l’alerte,<br>- Réception du mail de déclaration,<br>- Réception de l’appel de déclaration,<br>- Ouverture du ticket par le déclarant,Les délais sont calculés sur la plage horaire « heures ouvrées » (HO), soit de 8h à 19h du lundi au vendredi, hors jour férié.<br>En cas d’affermissement de la tranche optionnelle To2, les délais sont calculés sur la plage horaire 24h/24h - 7j/7j, y compris jours fériés.<br>Il est précisé que la prise en compte de la demande est considérée opérée dès lors que le ticket a été affecté nominativement à un intervenant dans les équipes du Titulaire.<br>Le processus et les modalités d’échanges relatifs aux demandes de support sont définis dans le Plan d’Assurance Qualité, lors de la prestation « P1.1 - Pdc_Init : Prise de connaissance et Initialisation ».<br>Des calculs d’indicateurs de résolutions (GTR) sont réalisés entre la date et heure de début d’un incident (cf. Heure de l’évènement initial définie ci-dessus) et la date et heure de fin qui correspond à la date et heure de résolution du ticket. |
| EXG_GDI_11 | Dans le cas « d’une anomalie / d’un incident » bloquant(e) où la correction dépend de correctifs non encore disponibles chez l’éditeur ou son mainteneur, le Titulaire doit fournir un plan d’action détaillé dans un délai de 24 heures.<br>En cas de résolution impossible dans les délais établis ci-dessus, les délais applicables pour les phases ou les opérations de contournement restent en vigueur. |
| EXG_GDI_12 | Le process de Gestion des Incidents (ou Anomalies) doit être détaillé dans le Plan d’Assurance Qualité. |
| EXG_GDI_13 | Dans tous les cas « d’anomalie/d’incident », lors de leur analyse, le Titulaire doit déterminer :<br>- S‘il s’agit d’une régression;<br>- S’il/elle entre dans le cadre d’une VSR ou non.Les conclusions de l’analyse doivent être validées par la Cnam. |

#### 6.3.5.4 GDP - Gestion des problèmes

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_GDP_1 | En parallèle de la gestion des incidents, le Titulaire doit mettre en place une gestion des problèmes (au sens ITIL du terme).<br>Ce service vise à minimiser la récurrence des incidents et leur impact via une gestion et une étude post-mortem des incidents et évènements constatés sur le service fournis.<br>À ce titre, le Titulaire est responsable de :<br>- L’identification, l’enregistrement et la classification des problèmes ;<br>- L’investigation et le diagnostic des problèmes ;<br>- La mise à disposition sans surcoût de ressources expert pour effectuer cette dernière tâche ;<br>- La prévention dynamique et proactive des problèmes (analyse des tendances, ciblage des actions de support, etc.) ;<br>- La rédaction de procédures standard de résolution, à destination des centres de services, lorsque la cause d’un problème a été identifiée ;<br>- La correction à la source de l’origine des dysfonctionnements constatés.La façon dont le Titulaire envisage d’implémenter cette gestion des problèmes ainsi que la comitologie associée est précisée dans l’offre du Titulaire.<br>De même, le process de Gestion des Problèmes lui-même doit être détaillé dans le Plan d’Assurance Qualité. |

#### 6.3.5.5 CRI - Gestion de Crise

| Exigences | Description générale |
| --- | --- |
| EXG_CRI_1 | Le Titulaire a la responsabilité de mettre en place une cellule de crise pour la gestion des incidents ou des problèmes liés à l’exploitation de la solution ou pour tout autre problème d’exploitation qui sont à définir lors de la prestation « P1.1 - Pdc_Init : Prise de connaissance et Initialisation ».<br>Sur demande argumentée de la Cnam, le Titulaire met en place une organisation de crise dans le but de parvenir à une résolution le plus rapidement possible, en mobilisant rapidement les compétences adéquates.<br>Une cellule de crise opérationnelle doit être mise en place pour toute indisponibilité de la production dont la résolution est estimée supérieure à 1 heure.<br>En cas de demande émanant de la Cnam, le Titulaire doit mettre en place la cellule de gestion de crise sous 4 heures après formulation de la demande.<br>Le Titulaire fournit également les moyens de communication utiles à la circulation de l’information et, en cas de crise, notifie les usagers de l’évolution de l’incident au moins toutes les heures.<br>Le dispositif de gestion de crise ainsi que les moyens de communication mis en place sont décrits dans l’offre du Titulaire.<br>En cas d’incident de sécurité de niveau de sévérité bloquant, le Titulaire met en œuvre systématiquement (sauf avis expressément formulé par la Cnam) une cellule de crise opérationnelle, qui se réunit pour la première fois au plus tard une heure après le signalement, et qui se clôture au plus tôt une fois la phase de contournement réalisée. La Cnam est invitée par le Titulaire à y participer. |
| EXG_CRI_2 | Le process de Gestion de Crise doit être détaillé par le Titulaire dans le Plan d’Assurance Qualité. |

#### 6.3.5.6 IRR - Gestion des irritants

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_IRR_1<br>Gestion des irritants | Le Titulaire doit mettre en place un processus de gestion des irritants pour traiter les dysfonctionnements perçus par l’utilisateur (lenteurs, coupures aléatoires, etc.) mais non constatés par les outils de supervision ou non-reproductibles par le Titulaire. Dans ce cas particulier, le Titulaire doit mettre en œuvre les moyens nécessaires permettant de rendre factuel le ressenti utilisateur.<br>Le processus et les outils de mesure sont détaillés dans l’offre du Titulaire.<br>Le process de Gestion des irritants doit être détaillé dans le Plan d’Assurance Qualité. |

### 6.3.6 Exigences de Gestion des Risques

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_RIS_1 | Le Titulaire met en œuvre une Gestion des Risques, dans le respect des standards et bonnes pratiques.<br>À ce titre, une étude doit être menée lors de la prestation « P1.1 - Pdc_Init : Prise de connaissance et Initialisation » afin d’initier une première évaluation des risques pouvant impacter le Projet de mise en œuvre initiale, et le maintien en condition opérationnelle et de sécurité après passage en service continu. Une analyse de ces mêmes risques doit être alors réalisée afin de déterminer les objectifs permettant de rendre les risques acceptables et ainsi tenir les engagements en termes de Planning et de niveaux de services. |
| EXG_RIS_2 | Un tableau de bord est établi par le Titulaire et actualisé régulièrement afin de garantir que les plans d’actions identifiés soient menés à bien, et que tout nouveau risque relevé soit qualifié et adressé.<br>En annexe un modèle de tableau de bord est fourni pour exemple : « MESDMP_Annexe 25_Matrice de Gestion des risques »<br>Le niveau de risque est préconisé par le Titulaire et doit être validé par la Cnam.<br>Un point sur la gestion des risques est à réaliser mensuellement en s’appuyant sur le Tableau de bord précédemment cité.<br>Le process de Gestion des risques doit être détaillé dans le Plan d’Assurance Qualité |
| EXG_RIS_3 | Le Titulaire assure cette gestion des risques avec la norme Ebios (norme utilisée à ce jour).<br>La Cnam se réserve le droit de changer de méthode. Le Titulaire en est averti sous deux mois pour mise en œuvre de ce changement. |

# 7 Prestations adressées par l’accord-cadre

Le(s) délai(s) d’exécution d’une prestation considérée est (sont) précisé(s) dans le planning projet défini dans l’offre du Titulaire au regard du(es) délai(s) d’exécution défini(s) ou estimé(s) dans le CCTP. Ce ou ces délais est(sont), le cas échéant, précisé(s) dans le PAQ. Tout retard constaté dans l’exécution d’une prestation peut donner lieu à l’application de pénalités conformément aux stipulations du CCAP.

## 7.1 Planning des prestations

Le planning du Titulaire tient compte des dates suivantes :

- P1.1 : démarrage dès la date d’effet de l’accord-cadre, ou de sa notification si celle-ci est postérieure et fin au plus tard le 30/11/24.
- P1.2 : démarrage dès la date d’effet de l’accord-cadre, ou de sa notification si celle-ci est postérieure et fin au plus tard trois mois après la bascule de la production prévue le 05/03/2025 (date de bascule de la production, dernière bascule du plan de bascules progressif des environnements). Il est important de noter que la bascule de la production ne doit pas dépasser la date du 31/03/2025.
- P2 : démarrage dès validation/homologation des environnements et des services de l’hébergement chez le Titulaire.
- To1 : fin au plus tard le 31/07/24.
- P3 : fin au plus tard le 31/12/26.
- P4 : démarrage à l’issue du P1.1.
- P5 : démarrage dès bascule de la production.
- P6 : fin au plus tard le 30/06/25.
- P7 : démarrage dès bascule de la production et fin au plus tard lors de mise en service du système de diffusion des SMS et mails (en tenant compte la périodicité de renouvellement).

**Schéma RUN et MCO-MCS :**

<IMAGE DESCRIPTION START><!-- Erreur lors de la description via Ollama: timed out --><IMAGE DESCRIPTION END>

Le schéma ci-dessus présente l’évolution des commandes de développement Agile et du RUN, y compris MCO, en indiquant les diminutions de la part du MCO issu de la maitrise du code par le Titulaire d’une part et de la convergence d’autre part.

## 7.2 P1.1 - Pdc_Init : Prise de connaissance et Initialisation

### 7.2.1 Objet

La prestation démarre à la date d’effet de l’accord-cadre, ou de sa notification si celle-ci est postérieure, et a pour objectif de mettre en place le fonctionnement du Programme MESDMP. Cette prestation consiste notamment, pour le Titulaire :

- A mettre en place l'organisation et les moyens nécessaires, y compris les ressources humaines et matérielles, pour assurer les services attendus dans le cadre de l’accord-cadre. Il est précisé que la montée en compétences des équipes (pour toute activité entrant dans le périmètre de l’accord-cadre : Run, Delivery, etc.) entre dans le cadre de la présente prestation, quel que soit le contexte dans lequel se fait cette montée en compétences (à l’occasion des phases de reprises, prises de connaissances / formations en parallèle, etc.).
- A mettre en place la gouvernance et les différents comités/rituels communs avec les équipes de la Cnam,
- A réaliser la réunion de lancement avec les équipes de la Cnam (kick off), dans le premier mois suivant la date d’effet de l’accord-cadre, ou de sa notification si celle-ci est postérieure,
- A finaliser une première version du PAQ,
- A finaliser une première version du PAS,
- A mettre en place les méthodes de travail et outils associés relatifs à l'Agilité, le DevSecOps et le CI/CD,
- Le cas échéant, si la Cnam décide de ne pas retenir la PSE relative à l’hébergement, à mettre en place les modalités de fonctionnement avec le Centre de Service Hébergement (CSH) de la Cnam dans le cadre de la tranche optionnelle To1,
- A préparer la phase de convergence des systèmes MES et DMP.

Cette prestation se termine au terme de la bascule des services sous responsabilité du Titulaire, et est remplacée par la prestation « P4 - Trans : Transverse ».

### 7.2.2 Exigences spécifiques

Les exigences sont les mêmes que celle de la prestation P4 - Trans : Transverse (cf. §7.6.2).

### 7.2.3 Livrables

Les livrables sont listés §7.12 « Liste des livrables principaux ».

Livrable spécifique : le cas échéant, si la Cnam décide de retenir la PSE, le Titulaire présente le plan de mise en œuvre de la partie hébergement.

### 7.2.4 Durée et point de départ des prestations

Les prestations démarrent à la date d’effet de l’accord-cadre, ou de sa notification si celle-ci est postérieure.

La durée des prestations est précisée dans l’offre du Titulaire conformément aux dates fixées au §7.1 « Planning des prestations ».

## 7.3 P1.2 - Rep : Reprise de l’existant

Les prestations « P1.2 - Rep : Reprise de l’existant » et « P3 – Conv : Convergence des systèmes MES et DMP » sont, par nature, intimement liées. La réponse technique à l’une est donc fortement adhérente avec la réponse technique de l’autre.

### 7.3.1 Objet

Cette prestation porte sur la reprise des périmètres MES et DMP existants.

Il est précisé qu’une VSR est prévue dans le cadre de cette prestation.

La phase de reprise se termine avec la bascule de la production, les trois mois suivant la bascule de la production correspondent à la VSR.

Le scénario de reprise des deux dispositifs (DMP et MES) et de bascule des services vers le même hébergeur, précisant notamment les modalités de mise en œuvre et le planning, est défini dans l’offre du Titulaire. Le Titulaire assure la continuité du service lors de la bascule des services, pour l’ensemble des environnements (Production et hors production).

Le Titulaire assure la reprise des données des deux dispositifs (DMP et MES), adapte les outils de supervision, de log, des sauvegardes, des outils d’administration et d’exploitation, des process et outillage de la Gestion des Incidents et Gestion des Changements, et met en place les dispositifs de sécurité.

Le Titulaire doit tenir compte de la décision de la Cnam de retenir ou non la PSE relative à l’hébergement.

Le Titulaire conserve le stack technique de MES dans la reprise (et la convergence).

En cas d’hébergement en interne (Tranche optionnelle To1), le Titulaire doit :

1. Identifier très rapidement les prérequis exigés à la Cnam afin de tenir les délais de cette reprise et la continuité lors de la bascule des services;
2. Collaborer avec les équipes Cnam pour opérer la reprise de l’hébergement dans les datacenters de la Cnam.

Cette prestation de reprise couvre *a minima* les travaux suivants :

- La conduite, l’organisation et la planification des prestations de reprise ;
- Les modalités et le plan de bascule des services ;
- La reprise et l’adaptation de toute la documentation pour reprise de l’exploitation et de la maintenance des différents composants repris, dont a minima les dossiers d’architecture (HLD, LLD, DAT), les dossiers d’exploitation ;
- Le transfert de connaissances nécessaire à la réalisation des prestations ;
- La mise en place des environnements (y compris les environnements de formation, éditeurs LPS, éditeurs pour Store, etc.) et leur homologation nécessaire ;
- La récupération des éléments logiciels et l’initialisation de la gestion de configuration (développements) dans les nouveaux environnements ;
- La mise en place de l’automatisation des recettes ;
- Le CI/CD sécurisé ;
- Le dispositif sécurité et le SOC ;
- La supervision (technique et applicative) partagée et accessible par la Cnam ;
- La mise en place les interconnexions nécessaires ;
- La mise à disposition du personnel adéquat pour permettre la reprise de connaissances, qualifier les modes opératoires de reprise ;
- L’apprentissage du pilotage de l’exploitation ;
- La planification de l’engagement et du désengagement des équipes afin de permettre la transition.
- La mise à niveau de l’ensemble de la documentation ;
- Le pilotage global de la prestation de reprise de l’existant (avancement, planning, risques, etc.).
- Les actions d’adaptation du patrimoine repris permettant d’aboutir à une totale autonomie au plus tard à la fin de la phase de reprise lors des évolutions/modifications/corrections nécessaires au projet (ex. : création d’un nouvel environnement, mise à jour des versions d’OS ou Middleware, etc.) ;
- Le passage en commission d’homologation RGS et l’obtention de son accord (cf. §6.3.2.9 « SEC7 – Homologation RGS et référentiels de Sécurité »). Ceci est un prérequis de la bascule sur le nouveau datacenter. Il en est de même pour la conformité au référentiel NIS (cf. §7.8.2) ;
- L’ensemble des actions de la phase reprise de l’existant, y compris les transferts des données MES et DMP, doivent être réalisés avant la bascule sur le nouveau datacenter.

La reprise doit être sans impact sur les critères de disponibilité, d'intégrité, de confidentialité et d'auditabilité (DICA) pour les utilisateurs des services.

Le Titulaire s’engage à faire la bascule sans vulnérabilités bloquantes et graves issues des SI des cédants. Il est précisé que lesdites vulnérabilités doivent être corrigées par les cédants pendant la phase d’exécution de la réversibilité du dispositif contractuel cédant. Néanmoins, le cas échéant, les vulnérabilités bloquantes/graves résiduelles ou dettes techniques non mineures sont corrigées par le Titulaire avant la bascule.

Par ailleurs, un état des lieux des vulnérabilités gênantes et dettes techniques mineures (ex. : version d’un logiciel non à jour mais supportée) est réalisé par le Titulaire, et validé par la Cnam, à la bascule de la production. Ces éléments ne sont pas éligibles à l’application de pénalités. Les vulnérabilités gênantes et dettes techniques mineures (ex. : version d’un logiciel non à jour mais supportée) sont corrigées par le Titulaire dans le cadre de la VSR de P1.2.

Toutes les étapes relatives aux transferts et aux manipulations des données doivent se dérouler en gardant un niveau de sécurité au moins équivalent à celui mis en place dans le cadre de l’hébergement de données de santé.

Ceci implique notamment :

- L’utilisation de canaux de transfert dédiés et sécurisés par l’usage de certificats serveurs de part et d’autre des plateformes sources et cibles ;
- Le chiffrement des données qui vont transiter par ces canaux ;
- De s’assurer de la conservation de l’intégrité des données transférées entre la plateforme source et la plateforme cible.

La Cnam fournit tous les HSM et éventuellement les licences associées des potentiels produits embarqués dans ces boitiers dès la phase de reprise.

Tous les types d'environnements sont nécessaires à la reprise. Pour les environnements éditeurs (LPS, MSSanté et catalogue de services), comme ceux de formations DMP, l’objectif de la Cnam est d'avoir un seul environnement de chaque avant Mars 2025, néanmoins aucun engagement ne peut être pris côté Cnam, ainsi le Titulaire doit se mettre en capacité de remonter rapidement (sous quinzaine dès la reprise) et à moindre coût un nouvel environnement opérationnel pour l'usage qui lui est affecté.

Il est précisé que le dispositif contractuel propre à chacun des cédants est fondé sur une réversibilité comportant trois phases :

- La première phase d’initialisation adresse la préparation de la Réversibilité vers le Repreneur (i.e. le Titulaire).
- La deuxième phase vise à exécuter la réversibilité selon les termes de la reprise. A l’issue de cette phase, le Repreneur reprend de manière opérationnelle les services et est responsable de la qualité de service avec l’accompagnement des cédants.
- La troisième phase porte sur un désengagement des cédants avec un soutien ponctuel pendant une période de 3 mois, après la bascule des services.

Il est précisé que la durée cumulée des phases 1 et 2 ne peut pas excéder 12 mois.

Les détails de l’existant MES infrastructure et sécurité sont présentés dans l’annexe « MESDMP_Annexe 09_Documents-Réversibilité sortante MES ».

### 7.3.2 Le cadre organisationnel

Le Titulaire nomme un responsable opérationnel de la reprise qui travaille en étroite collaboration avec les directeurs de projet de la Cnam et les responsables opérationnels des cédants.

Un groupe de travail est mis en place dès le début de la prestation. Celui-ci rassemble les équipes du Titulaire, des cédants et de la Cnam. Le Titulaire met en place un avancement hebdomadaire (risques, livrables, suivi des activités, tableaux de bord, etc.) et un comité de pilotage mensuel dédié à la reprise de l’existant (arbitrages, suivi global, consolidation planning, présentation des éventuels difficultés, etc.).

Le Titulaire met en place une organisation miroir, y compris s’agissant du profil des intervenants, à celle des cédants pour faciliter le transfert de connaissances sur l’ensemble du périmètre.

### 7.3.3 Appropriation des connaissances

Le transfert des connaissances concerne plusieurs axes :

- L’appropriation du code source ;
- L’exploitation courante de l’application ;
- La connaissance métier / fonctionnelle du service ;
- La connaissance de l’architecture technique ;
- L’appropriation des moyens de tests, de la matrice de test ;
- La gestion des phases de validation et la relation avec les Éditeurs.

Le plan de transfert est proposé par le Titulaire et validé par la Cnam.

### 7.3.4 Récupération des tickets d’incidents

Le Titulaire met en place les moyens nécessaires pour reprendre l’historique de l’ensemble des incidents, anomalies, problèmes ayant eu lieu sur la plateforme concernant le SI.

Le Titulaire est seul responsable de l’intégration des données fournies dans ses systèmes de gestion.

Ces données reprises sont exploitables (recherche, filtres, édition, changement de statut, etc.) et constituent la base historique des tickets d’incidents.

### 7.3.5 Récupération des tests automatisés

La Cnam est attentive à la mise en place de tests automatisés pour fiabiliser la qualité des réalisations et permettre un déploiement continu du projet. Le rapport positif des tests automatisés est une condition nécessaire à toutes mises en production.

Une attention particulière est apportée à la reprise intégrale du patrimoine de test (scénarii fonctionnels et techniques, données de test, etc.) mis en place sur les SI, afin de mettre en œuvre opérationnellement les tests fonctionnels, de performance et de sécurité dès la phase de reprise.

### 7.3.6 Récupération des données

Une migration des données existantes et des traces actuellement en production doit être réalisée vers le dispositif du Titulaire.

Cette migration doit se faire :

- Sous réserve du respect des droits des patients (transfert des dossiers) et des conditions de sécurité ;
- Sans interruption ou interruption minimale des services MES et DMP (service 24/7) aux Professionnels de santé ;
- Avec le positionnement d'une information d'indisponibilité de service à destination des Usagers, s'il y a interruption.

### 7.3.7 Reprise des outils de monitoring des systèmes

La reprise doit inclure la mise en place des outils de monitoring de l’ensemble du système pour reprendre a minima, et à l’identique, les éléments monitorés et supervisés dans les systèmes existants.

La supervision doit permettre d’alerter en cas de variation importante ou d’absence de volume sur l’ensemble des traitements afin de détecter un comportement inhabituel, même en cas de bon fonctionnement.

Le pilotage Cnam doit avoir accès à ces informations en temps réel pour s’assurer du bon fonctionnement des services et accéder aux volumétries/avancements des traitements.

L’ensemble des éléments doivent être monitorés y compris la couche d’hébergement, le cas échéant, si la Cnam décide de retenir la PSE relative à l’hébergement.

Les éléments à monitorer sont notamment :

    - L'infra réseau, serveur et de stockage,
    - Les bases de données, les VM, les POD,
    - Les topics kafka,
    - Les sauvegardes,
    - Les événements usagers / PS,
    - Les flux applicatifs entrants / sortants
    - etc.

### 7.3.8 Mise en œuvre d’une plateforme d’intégration continue et de déploiement continu afin de reprendre le patrimoine MES et DMP

La livraison des développements validés doit être faite en flux continu.

La reprise doit inclure la mise en place d’une plateforme unique pour MESDMP d’intégration continue et de déploiement continu permettant d’avoir l’intégralité des développements validés continuellement accessible par la Cnam.

#### 7.3.8.1 Description générale de la forge d’intégration et de déploiement continus

La forge CI/CD constitue l’outillage technique nécessaire à la mise en œuvre opérationnelle du processus DevSecOps. Elle est constituée d’un pipeline CI/CD (intégration continue, déploiement continu) complètement automatisé. Chacun de ses composants est dédié au projet et n’offre des services qu’aux systèmes d’information adressés par le présent CCTP. Son accès est protégé par les mêmes moyens de protection que le reste des composants du projet : pour y accéder, il faut disposer d’un poste géré par un SIA (système d’information d’administration) et traverser les bastions. Les composants de la forge sont tous regroupés dans une zone sécurisée nommée « zone outils », cette zone étant uniquement interconnectée avec les différents environnements avec lesquels elle a besoin de communiquer pour intégrer les composant du SI et les déployer dans les différents environnements d’exécution de production et hors production cibles.

Les communications entre cette « zone outils » et ses adhérences avec le monde extérieur constitué des environnements de production, des environnements hors production, des bastions et des réseaux d’administration, sont protégées par des pare-feux ne laissant transiter que les flux nécessaires et suffisants à son bon fonctionnement.

#### 7.3.8.2 Processus

Le processus DevSecOps, décrit par ailleurs dans le présent CCTP, s’appuie sur la forge CI/CD. Les modalités d’imbrication des outils de la forge CI/CD avec le processus DevSecOps sont décrites dans l’offre du Titulaire.

#### 7.3.8.3 Exigences fonctionnelles

La forge CI/CD est un outillage complètement automatisé, qui inclut des validations à chaque étape du processus d’intégration et de déploiement.

Cette forge bloque tout déploiement incorrect par l’intermédiaire d’une phase d’exécution de tests de non régression, de tests unitaires et de tests fonctionnels automatisés. Elle bloque, en outre, tout déploiement en cas d’erreur rapportée par un des outils qui la composent (erreur de compilation, d’édition de liens, d’intégration, absence d’une dépendance, etc.).

Elle permet à l’inverse une intégration et un déploiement sans aucune intervention humaine, quand tous les tests se sont déroulés avec succès et que tous les outils qui la composent indiquent avoir réalisé correctement leurs tâches respectives.

Tous les accès de la forge à des dépôts de binaires externes sont réalisés via l’intermédiaire d’un outil de gestion de dépôts de binaires et par l’intermédiaire d’un relai (proxy applicatif) dédié à la forge, afin de contrôler l’accès aux ressources externes sollicitées et de disposer de traces des activités CI/CD.

La forge met en œuvre des mécanismes de garantie d’intégrité des codes source produits par les développeurs et des binaires produits par les outils d’intégration (ex. : les images Docker). L’offre du Titulaire détaille les mécanismes qu’il met en œuvre pour atteindre cet objectif, en mettant en avant sa capacité à s’aligner avec les moyens et méthodes à l’état de l’art.

La forge met en œuvre des mécanismes automatisés pour identifier les vulnérabilités présentes dans les sources, dans les dépendances rapatriées ainsi que dans les binaires produits (images Docker par exemple). L’offre du Titulaire détaille les mécanismes qu’il met en œuvre pour atteindre cet objectif, en mettant en avant sa capacité à s’aligner avec les moyens et méthodes à l’état de l’art.

#### 7.3.8.4 Exigences techniques

La forge respecte le même schéma de haute disponibilité que le reste du système d’information. Elle est donc en haute disponibilité multi-sites. Elle peut néanmoins être résiliente en mode actif / passif plutôt qu’en mode actif / actif. En cas de perte d’un site, elle doit pouvoir fonctionner sur l’autre site de manière autonome.

Les outils de cette forge doivent à tout moment être déployés dans une version maintenue par la communauté sous-jacente quand il s’agit d’un logiciel libre ou par un éditeur dans les autres cas. Ainsi, le Titulaire met à jour ces outils pour assurer cette exigence. En outre, la stratégie de mise à jour vers une version récente, quand plusieurs versions d’un même outil sont maintenues, est précisée dans l’offre du Titulaire. Les arguments permettant de comprendre la pertinence de la stratégie mise en œuvre par le Titulaire, au regard des exigences de maintien à l’état de l’art et d’innovation affichées par la Cnam, sont précisées dans son offre. Si un outil n’est plus maintenu, le Titulaire doit proposer à la Cnam plusieurs alternatives, éclairer la Cnam sur l’alternative la plus à même de reprendre la fonction réalisée par l’outil qui disparaît, et faire évoluer la forge en y substituant l’outil dont le support disparaît par le nouvel outil choisi par la Cnam, en prenant soin d’éviter toute interruption du service CI/CD.

#### 7.3.8.5 Outillage

Pour chaque outil, l’acquisition des licences et autres éventuels abonnements et actifs nécessaires à son fonctionnement est réalisée par le Titulaire et reste à sa charge, sauf quand le contraire est expressément précisé.

La forge est construite autour d’un pipeline intégrant les outils suivants :

- L’outil SCA nommé « OWASP Dependency Check », ou un outil similaire, permettant de détecter les vulnérabilités publiques connues et présentes dans les dépendances externes intégrées au code développé spécifiquement dans le projet. La base des vulnérabilités publiques utilisée par l’outil doit être mise à jour quotidiennement. Dans le cas du choix d’un outil similaire, les avantages apportés par ce choix, tant en terme de disponibilité, de performances, de niveau de qualité du service rendu et d’innovation sont précisés dans l’offre du Titulaire.
- L’outil SonarQube d’analyse de la qualité du code et de la sécurité, ou un outil similaire. Dans le cas du choix d’un outil similaire, les avantages apportés par ce choix, tant en terme de disponibilité, de performances, de niveau de qualité du service rendu et d’innovation sont précisés dans l’offre du Titulaire.
- L’outil de parcours statique de code source (« static scan ») en vue de détection de vulnérabilités, édité par la société Fortify. Les licences sont fournies par la Cnam.
- L’outil Nexus LifeCycle IQ, qui alimente Fortify pour identifier les dépendances et leurs vulnérabilités.
- L’outil d’analyse orientée sécurité d’images Docker nommé Trivy, ou un outil similaire. Dans le cas du choix d’un outil similaire, les avantages apportés par ce choix, tant en terme de disponibilité, de performances, de niveau de qualité du service rendu et d’innovation sont précisés dans l’offre du Titulaire.
- L’outil de gestion de code source GitLab. La version, version CE (édition communautaire) ou de la version EE (entreprise), est précisée dans l’offre du Titulaire accompagné de l’argumentaire sur le choix de la version.
- L’outil d’orchestration de pipelines CI/CD nommé Jenkins.
- Le coffre-fort de gestions des secrets de Hashicorp.
- L’outil Helm de déploiement de « charts » en environnement OpenShift.
- L’outil Maven pour compiler et créer des archives à partir de sources Java.
- L’outil Ansible pour enchaîner des « playbooks » de déploiement ou de mise à niveau de systèmes distants. Dans son offre, le Titulaire précise, dans son offre, s’il adjoint la console Tower associée à l’outil Ansible, et argumente son choix.
- Le dépôt de binaires Nexus de Sonatype, ou un outil similaire. Dans le cas du choix d’un outil similaire, les avantages apportés par ce choix, tant en terme de disponibilité, de performances, de niveau de qualité du service rendu et d’innovation sont précisés dans l’offre du Titulaire.
- L’outil Katalon d’automatisation de tests, ou un outil similaire. Dans le cas du choix d’un outil similaire, les avantages apportés par ce choix, tant en terme de disponibilité, de performances, de niveau de qualité du service rendu et d’innovation sont précisés dans l’offre du Titulaire.

Pour chacun des outils libres de la liste d’outils précédente dont il existe une version communautaire et une version soumise à licences, la version choisie par le Titulaire est précisée dans son offre accompagnée de l’argumentaire sur le choix de la version.

Les outils proposés par le Titulaire pour atteindre au mieux les exigences fonctionnelles et techniques indiquées précédemment sont définis dans son offre. Le Titulaire explicite clairement les fonctions apportées et le mode d’intégration des outils complémentaires dont il enrichit le pipeline CI/CD.

#### 7.3.8.6 Cycle de vie des environnements

Le Titulaire précise comment la forge CI/CD est mise à profit pour créer ou supprimer automatiquement et rapidement un nouvel environnement (environnement à prendre au sens production, pré-production, développement, tests, etc.), en cas de besoin. La création et la préparation (i.e. le « provisionning ») de machines virtuelles, ou de nœuds OpenShift, ou encore de « namespace » au sein d’un cluster OpenShift existant, font partie intégrante du périmètre des tâches à réaliser lors de la création d’un nouvel environnement. Si des limitations existent dans l’automatisation de la création ou de la suppression automatique d’un environnement, le Titulaire justifie en détail les étapes qu’il réalise alors de manière manuelle au cours du processus de création/suppression d’un environnement.

#### 7.3.8.7 Indicateurs

Le Titulaire collecte et consolide des indicateurs issus de l’outillage de la forge, il les rassemble au sein de tableaux de bords réalisés pour et présentés à chaque comité DevSecOps. Des exemples de tableaux de bord de ce type sont fournis dans son offre accompagnés d’un argumentaire sur leur pertinence vis-à-vis des objectifs de sécurité et d’agilité.

Ces indicateurs doivent notamment permettre de suivre l’évolution de l’état des développements logiciels et des bibliothèques adhérentes intégrées au sein du SI, en montrant par exemple l’évolution des quantités de bugs, de suspicions de code incorrect (« code smells »), de taux de code dupliqué, de bibliothèques tierces vulnérables, et tout autre indicateur quantitatif que le soumissionnaire peut juger adéquat de produire, selon différentes dimensions :

- Dimension temporelle, par ex. au fil des déploiements ou selon l’évolution des numéros de version du code,
- Dimension technique, par ex. par branche de code (développement, alpha-release, pre-release, release, etc.),
- Dimension fonctionnelle, par ex. par dépôt de sources, ou par groupe de dépôts participant à la réalisation d’une fonction spécifique.

Les indicateurs peuvent être déclinés par niveau de criticité, quand cela a un sens : la remontée des vulnérabilités peut par exemple prendre la forme d’un indicateur pour les vulnérabilités critiques, un autre pour les vulnérabilités majeures, puis mineures, etc.

### 7.3.9 Livrables

Les livrables attendus au titre de cette prestation et mis à jour en fin de prestation de reprise sont :

- Le PV de la bascule des services des dispositifs DMP et MES sans ou avec interruption minimale du service
- L’ensemble de la documentation existante mise à jour tenant compte des adaptations et optimisations effectuées dans le cadre de la prestation
- Le dossier d’architecture décrivant la solution MESDMP
- Les documents afférents à l’environnement de production et hors production tels que le Dossier architecture technique, la matrice des flux, la matrice d’habilitation, le Dossier d’exploitation, le Dossier de Tests et de Validation (DTV) et tout autre document pour le respect des exigences
- Une plateforme d’intégration continue
- L’environnement de production opérationnel avec le parc applicatif fonctionnel
- Les environnements hors production opérationnels avec le parc applicatif fonctionnel
- La prise en responsabilité sur le code MES et DMP par le titulaire.

Les livrables sont listés §7.12 « Liste des livrables principaux ».

### 7.3.10 Exigences spécifiques

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_REPRISE_1<br>Durée de la reprise | Le Titulaire met en œuvre le scénario pour basculer les deux dispositifs (DMP et MES) vers le même datacenter avec des exigences fortes de durée de reprise (**maximum 12 mois** à partir de la date d’effet de l’accord-cadre, ou de sa notification si celle-ci est postérieure, et au plus tard **début mars 2025**) pour l’ensemble des environnements (Production et hors production). |
| EXG_REPRISE_2<br>Continuité des services durant la bascule en production | Le Titulaire met en œuvre le plan de bascule de la production MES et DMP garantissant la continuité des services MES et DMP, c'est à dire sans interruption ou avec une durée minimale d'interruption des services. |
| EXG_REPRISE_3<br>Phase 1 : Initialisation/Préparation de la reprise | Lors de la Phase 1 de la reprise : Initialisation/préparation de la reprise<br>Le Titulaire construit un plan de reprise global en collaboration avec la Cnam et les cédants, en précisant :<br>- Les outils, les normes et standards définis par le Titulaire, et validés par la Cnam, pour l’exécution de la reprise ;<br>- Les plannings des opérations de reprise ;<br>- L’inventaire précis des fournitures à reprendre ;<br>- Les modalités de continuité des services et d’exploitation ;<br>- Les modalités de la prise en main de la MCO et de la MCS ;<br>- Les conditions de transfert de droit de propriété des applications développées aux fins de l’accord-cadre, de licences, etc. ;<br>- Les modalités de transfert des clés de chiffrement. |
| EXG_REPRISE_4<br>Phase 2 : Exécution de la reprise | Lors de la Phase 2 de la reprise : Exécution de la reprise<br>Le Titulaire exécute le plan de reprise construit et validé à l’issue de la phase 1 :<br>- Réception et appropriation des compétences métier et fonctionnelle ;<br>- Réception et appropriation des compétences technique, sécurité, etc. ;<br>- Réception et appropriation des compétences méthodologiques ;<br>- Réception et appropriation de toutes les fournitures identifiées en phase 1 ;<br>- Mise en œuvre de tous les contextes (développement, intégration, tests, production, etc.).Au cours de cette phase, 3 périodes sont identifiées :<br>- Période d’observation : le Cédant fait, le Titulaire observe<br>- Période de contrôle : le Titulaire fait sous contrôle du Cédant<br>- La bascule de la production, prévue le 05/03/25, et au terme de laquelle le Titulaire prend l’entière responsabilité du périmètre MESDMP. La bascule de la production ne doit pas dépasser la date du 31/03/25. La période du 05/03/25 au 31/03/25 est provisionnée en cas de problème majeur lors de la bascule du 05/03/25. |
| EXG_REPRISE_5<br>Phase 3 : Prise de responsabilité par le Titulaire | Lors de la Phase 3 de la reprise : Prise de responsabilité par le Titulaire<br>Le Titulaire prend l’entière responsabilité du périmètre au terme de la reprise. Il dispose d’un support des cédants sur une période de 3 mois à compter de la reprise du service pour répondre à toute demande d’assistance, même ponctuelle.<br>Le Titulaire doit se rendre disponible pour participer aux formations et instances de transfert de compétences mis en place par les cédants. |
| EXG_REPRISE_6<br>Respect des contraintes cédant | Le Titulaire s’engage à respecter les contraintes d’exploitation spécifiques à l’activité des Cédants (normes et référentiels généraux qui s’imposent à eux).<br>Le scénario de reprise doit notamment respecter la certification HDS des Cédants.<br>NB.  : les Plans de réversibilité fournis en annexe (MES et DMP) sont donnés à titre informatif, ils sont en cours de validation par la Cnam. |

### 7.3.11 Durée et point de départ des prestations

Les prestations démarrent à la date d’effet de l’accord-cadre, ou de sa notification si celle-ci est postérieure.

La durée des prestations est précisée dans l’offre du Titulaire conformément aux dates fixées au §7.1 « Planning des prestations ».

## 7.4 P2 - PSE – Hébergement

Les paragraphes suivants décrivent les prestations attendues par le Titulaire, le cas échéant, dans l’hypothèse où la Cnam décide de retenir la PSE relative à l’hébergement.

### 7.4.1 Objet

La prestation adresse la mise en œuvre, l’administration et le maintien en condition opérationnelle de l’infrastructure destinée à l’exploitation, au développement et à la maintenance des services MESDMP, comprenant matériels et logiciels pour le Réseau, les serveurs, les sauvegardes/restauration et la sécurité.

Les services délivrés sont de type IaaS (Infrastructure as a Service) couvrant le périmètre de virtualisation. Les services au-dessus de la couche de virtualisation (OS, Orchestrateur de conteneurs, SGBD sont hors périmètre de la PSE, mais dans le périmètre du Run décrit dans la prestation P5 (cf. §7.7).

En début de prestation « P1.1 - Pdc_Init : Prise de connaissance et Initialisation » (cf. §7.2), le Titulaire présente le plan de mise en œuvre de la partie hébergement destinée à la reprise des périmètres existants MES et DMP.

L’offre du Titulaire s’appuie sur la description de l’infrastructure technique existante (cf. §3.2.3 « Architecture Technique de MES » et §3.4.3 « Architecture Technique du DMP ») et sur les dossiers d’architecture technique.

L’offre du Titulaire présente la solution d’hébergement du MES et du DMP au sein de l’infrastructure de ses Datacenters, et tient compte notamment des impératifs de délai de reprise (i.e. voir les exigences de la prestation de reprise de l’existant présentée au §7.3 du CCTP) et de continuité des services. Le plan d’hébergement du Titulaire respecte a minima les exigences spécifiques liées à l’hébergement visées ci-après.

Au cours de la prestation « P1.2 - Rep : Reprise de l’existant » (cf. §7.3), le Titulaire met en œuvre tous les éléments de l’infrastructure réseau, serveurs et sécurité tels que prévus dans le plan de reprise présenté à la Cnam.

La mise en œuvre des différents services d’hébergement est faite dans le respect des exigences sécurité (cf. PAS).

Il est précisé qu’une VSR est prévue dans le cadre de cette prestation.

### 7.4.2 Exigences spécifiques

Les exigences d’hébergement définies dans le présent CCTP en lien avec des services particuliers (ex. : Sécurité §6.3.2.3) ainsi que les exigences spécifiques ci-après sont à prendre en compte :

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_PSE_1<br>Bâtiments et matériels | Noté Tier 3 ou +, le dispositif du Titulaire se présente en deux Datacenters en actif/actif pour garantir la Haute Disponibilité.<br>Le dispositif présenté doit disposer d’un site de sauvegardes situé au minimum à 150 km des datacenters principaux permettant la reprise d’activité des services en cas de sinistre majeur.<br>Les sites hébergeant l’infrastructure doivent être localisés, idéalement, en France métropolitaine, en compatibilité avec les exigences du RGPD et avec les clauses d’audit fixées au CCAP, ainsi que les équipes qui administrent l’infrastructure (communication en langue française avec les équipes de la Cnam). |
| EXG_PSE_2<br>Modèle hébergement | L’hébergement doit être de type « Cloud privé » ou « infrastructure dédiée ». En cas de « Cloud privé », l’hébergement doit être qualifié « SecNumCloud ».<br>L’engagement du Titulaire pour être à terme qualifié « SecNumCloud » sera apprécié.<br>En revanche, toute mutualisation de l’infrastructure avec d’autres clients est exclue.<br>Il est précisé que les équipements de stockage et réseau composant la plateforme MESDMP doivent être physiquement dédiés. Cette exigence s’applique à l’ensemble de la plateforme. Elle s’applique donc aussi aux serveurs, aux composants de sécurité (bastions, terminateurs de tunnels VPN, pare-feux, WAF, IPS).<br>Seuls les composants permettant d’assurer le service de protection anti-DDOS, autres que les IPS, peuvent être mutualisés (les IPS doivent être dédiés).<br>Il est précisé que la Cnam fera réaliser, pendant la durée ferme de l’accord-cadre, une étude de faisabilité du déménagement du SI MESDMP sur une plateforme qualifiée SNC ou sur une plateforme cloud interne de l’Etat. Cette étude sera réalisée, soit par le Titulaire, le cas échéant sur le fondement d’un bon de commande, soit par un tiers désigné par la Cnam.<br>En tout état de cause, le Titulaire s’engage à fournir tous les éléments nécessaires à la réalisation de l’étude et à mettre à disposition les ressources (humaines et matérielles) nécessaires. |
| EXG_PSE_3<br>Réseau – Accès Internet | L’accès Internet doit être redondé et sécurisé (multiples FAI, disponibilité via BGP, anti-DDOS) et garantir une bande passante minimale de 1Gbps. |
| EXG_PSE_4<br>Urbanisation de l’architecture technique | La solution d’hébergement du Titulaire doit être architecturée en respectant les exigences visées au § 6.2 « Exigences d’Architecture et d’Exploitation ».<br>En outre, elle doit garantir une ségrégation parfaite entre les environnements de production et hors production. |
| EXG_PSE_5<br>Protection périmétrique de l'hébergement | Le Titulaire veille à isoler la chaîne de collecte des flux de production (i.e. : équipements pare-feu/IPS/WAF/bastion dédiés) des autres contextes de hors production et Editeurs. |
| EXG_PSE_6<br>Dimensionnement | La solution d’hébergement du Titulaire doit être dimensionnée pour assurer la reprise de tous les environnements existants de Production et hors production du MES et du DMP.<br>Cf. Annexes MESDMP_Annexe_14_DMP-LLD-006-SV-VM_par_envt et MESDMP_Annexe_35_CNAM_ENS_CMDB_Extractpour les matériels et VM qui existent ainsi que leurs répartitions par environnement de production et hors production. |
| EXG_PSE_7<br>Valorisation du « Run hébergement » | Le périmètre du Run hébergement concerne l’administration des comptes, l’administration et la supervision des équipements serveurs, réseau et sécurité, des machines virtuelles et la maintenance en conditions opérationnelles du dispositif d’hébergement.<br>Pour ce « Run hébergement », le Titulaire s’engage à maintenir une capacité d’hébergement suffisante pour fournir les ressources nécessaires à MESDMP lors des phases de reprise puis de convergence.<br>Le forfait socle du run hébergement, évalué à partir des capacités d’hébergement évaluées (stockage utile détaillé par type de stockage, CPU et mémoire, etc.), ainsi que les inducteurs d’extension se trouve dans l’annexe financière du Titulaire.<br>Pour ce faire, se référer aux annexes fournies à titre d’information et indiquées dans l’exigence précédente pour les ressources « Compute » ainsi qu’aux deux paragraphes intitulés « Les éléments de stockage » pour les ressources de stockage.<br>Le stockage indiqué est utile (hors besoin RAID, hors stockage libre, hors sauvegarde, hors PRA).<br>Le nombre de machines virtuelles s’entend pour les besoins de l’ensemble de la production, hors PRA. |
| EXG_PSE_8<br>Droit d’accès et CMDB | Le Titulaire communique à la Cnam chaque mois la liste des droits d’accès aux équipements hébergés ainsi que la CMDB. |
| EXG_PSE_9<br>Catalogue de services | Le Titulaire communique à la Cnam, en début de prestation, le catalogue de services d’hébergement et SLA associé.<br>Ce catalogue couvre a minima le périmètre suivant :<br>- Les ressources Réseau (raccordement intersites, répartiteur de charge, segmentation, DNS, synchronisation NTP, VPN, MPLS, etc.)<br>- Les ressources techniques (pare-feu réseau, pare-feu applicatif, serveur physique, VM, Conteneurs, stockage fichier, stockage bloc, stockage objet, boîtiers HSM, etc.)<br>- SOC/SIEM<br>- La sécurité (administration des comptes, bastion, gestion des habilitations, SOC/SIEM)<br>- Les services d’administration et de supervision. |
| EXG_PSE_10<br>Outil de gestion des incidents | Le Titulaire s’assure que l’outil de gestion des incidents utilisé dans le cadre de la prestation d’hébergement s’interface avec l’outil de gestion des incidents du périmètre Run applicatif afin de disposer d’une vue globale sur les incidents.<br>En outre, le Titulaire donne accès à son outil aux équipes de la Cnam. |
| EXG_PSE_11<br>Conformité réglementaire (Cf. PAS) | Dans la mesure où les données à caractère personnel traitées sont des données de santé, des obligations spécifiques quant à leur hébergement sont introduites par l’article L. 1111-8 du Code de la santé publique.<br>Le Titulaire doit-être certifié HDS sur l’ensemble des activités couvertes par la certification HDS, et ce pendant toute sa durée, sans discontinuité temporelle. |

### 7.4.3 Livrables

Les livrables sont listés §7.12 « Liste des livrables principaux ».

### 7.4.4 Durée et point de départ des prestations

La durée et le point de départ des prestations sont précisés dans l’offre du Titulaire conformément aux dates fixées au §7.1 « Planning des prestations ».

## 7.5 P3 – Conv : Convergence des systèmes MES et DMP

Les prestations « P1.2 - Rep : Reprise de l’existant » et « P3 – Conv : Convergence des systèmes MES et DMP » sont, par nature, intimement liées. La réponse technique à l’une est donc fortement adhérente avec la réponse technique de l’autre.

### 7.5.1 Objet

Les prestations adressées sont notamment les suivantes. Leur contenu est décrit dans le §3.6 « Architecture envisagée à 3 ans (MES + DMP = MESDMP) ».

- API Santé PS
- Ressources Partagées
- MES – API et Ressources Usagers
- Socle des fonctions Transverses
- Convergence des systèmes de diffusion des SMS et mails
- Convergence, rationalisation des solutions technologiques, et consolidation de leurs instances, mises en œuvre notamment dans le domaine des middleware (Kafka/ActiveMQ. PostgreSQL/Oracle, CI-CD, etc.)
- Le cas échéant, si la Cnam décide de retenir la PSE : Convergence et rationalisation des infrastructures (Pare-feu réseau, pare-feu applicatif, répartiteurs de charge, segmentation VLAN et plans IP, Serveurs physiques, solutions de stockage, de sauvegarde, Systèmes de virtualisation, gabarits d’instances de VM, Autres thèmes à identifier).

Il est précisé qu’une VSR est prévue dans le cadre de cette prestation.

### 7.5.2 Exigences spécifiques

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_CONV_1 | Le périmètre, le calendrier et le coût associé à chacune des prestations est précisé dans l’offre du Titulaire. Les prestations doivent intégrer la convergence technologique des deux systèmes actuels DMP et MES. |
| EXG_CONV_2 | Pour le dispositif de sécurité en matière de chiffrement, se référer à l’exigence EXG_SEC_4.3 Chiffrement & Convergence. |

### 7.5.3 Livrables

Les livrables sont listés §7.12 « Liste des livrables principaux ».

### 7.5.4 Durée et point de départ des prestations

La durée et le point de départ des prestations sont précisés dans l’offre du Titulaire conformément aux dates fixées au §7.1 « Planning des prestations ».

## 7.6 P4 - Trans : Transverse

### 7.6.1 Objet

Cette prestation consiste notamment à :

- Assurer l’organisation globale des prestations conformément aux principes, responsabilités et méthodes décrites dans le présent CCTP et précisés dans le PAQ et l’offre du Titulaire.
- Ajuster la gouvernance et le suivi de l’accord-cadre à travers les instances de pilotage définies dans le cadre du §5 Cadre organisationnel du CCTP, du PAQ et du PAS.
- Remonter mensuellement toute non-conformité à la Cnam.
- Assurer que tous les livrables contractuels, les PAQ, PAS et autres documents (dossiers d’architecture fonctionnelle applicative et technique, matrice des flux, dossier de mise en œuvre et d’exploitation, RGPD, cartographie des données, CMDB, droits d’accès et matrice d’habilitation, analyse de risques et éléments du Dossier sécurité) sont mis à jour régulièrement, et communiqués à la Cnam dès mise à jour, et appliqués par l’ensemble des équipes.
- Effectuer et mettre à jour la Gestion des risques conformément aux stipulations du présent CCTP.
- Produire les documents de référence et reportings réguliers, intégrant les indicateurs et preuves associés, notamment les inducteurs et les métriques d’usages des services.
- Assurer le pilotage et le suivi global de l’activité (Produit, Delivery, Releases, Mises en production, MCO et MCS). Il est précisé que dans le cadre d’une commande d’UO le pilotage et le suivi des chantiers et des releases est intégré aux UO.
- Assurer le fonctionnement de la cellule technique (Direction Services/Direction Technique et Design Authority) pour le maintien en conditions opérationnelles du dispositif. Il est précisé que les ressources de la cellule technique peuvent évoluer dans le cadre d’une commande d’UO (ex. : les architectes de la Design Authority nécessaires à l’évolution du dispositif).
- Assurer l’automatisation, la sécurisation et le bon fonctionnement de la chaîne de CI/CD.
- Assurer le bon fonctionnement DevSecOps au sein du programme.

### 7.6.2 Exigences spécifiques

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_TRA_1<br>Comitologie | Préparer en amont les instances visées au §5.5 « 5.5Comitologie » avec support transmis 24 heures à l’avance et fourniture du CR et RIDA de ces instances sous 72 heures. |
| EXG_TRA_2<br>Documentations | Assurer la mise à jour de la base documentaire (PAQ, documents visés dans le PAS, Dossiers d’architecture fonctionnelle applicative et technique, Matrice des flux, Dossier de mise en œuvre et d’exploitation, RGPD, Cartographie des données, CMDB, droits d’accès et matrice d’habilitation, analyse de risques et éléments du dossier sécurité, documents de réversibilité). |
| EXG_TRA_3<br>Indicateurs et inducteurs | La fourniture des indicateurs et inducteurs contractuels doit être accompagnée des preuves nécessaires à la vérification par la Cnam. |
| EXG_TRA_4<br>Gestion des risques | Le Titulaire respecte les exigences en matière de risques conformément au §6.3.6 « Exigences de Gestion des Risques ». |
| EXG_TRA_5<br>Cellule technique - Design Authority | Le Titulaire doit assurer le fonctionnement de la cellule technique (direction services) pour le maintien en conditions opérationnelles du dispositif. |
| EXG_TRA_6<br>CI/CD | Le Titulaire doit assurer l’automatisation, la sécurisation et le bon fonctionnement de la chaîne de CI/CD |
| EXG_TRA_7<br>DevSecOps | Le Titulaire doit assurer le bon fonctionnement DevSecOps au sein du programme. |

| EXG_TRA_8<br>Cartographie des données | Le Titulaire doit piloter le processus d’évolution de la cartographie des données de manière transverse. Il doit s’assurer de la mise en œuvre systématique des exigences suivantes :<br>- Production d’un Référentiel de recensement exhaustif de l’ensemble des données présentes dans le SI (nommé « Cartographie des données ») et notamment :<br>- Les données présentes dans l’ensemble des différentes bases de données relationnelles et non relationnelles<br>- L’ensemble des fichiers structurés et non structurés, et dans les métadonnées associées à ces fichiersCe référentiel mis à jour, par le Titulaire, à chaque évolution du SI, explicite de manière détaillée, pour chaque donnée, la façon dont elle est utilisée par le système, les composants qui la consomment et la produisent, ainsi que la manière dont le besoin de sécurité de cette donnée est traité, et les raisons ayant conduit à ces choix.<br>Un modèle de ce référentiel est fourni en annexe « MESDMP_Annexe_37_Cartographie Structure BD ». Le référentiel doit être enrichi par le Titulaire et validé par la Cnam, lors de l’initialisation de la démarche récurrente « cartographie des données », au plus tard à la fin de la reprise des systèmes.<br>- Le Titulaire pilote un comité mensuel « cartographie des données ». Ce comité doit :<br>- Permettre de tracer les évolutions, décisions et mises à jour de la cartographie des données. Chaque choix (ex. : le choix de chiffrer, pseudonymiser, ou de ne pas chiffrer la donnée) est argumenté et tracé dans le référentiel. Le choix final du traitement et du mode de stockage de chaque donnée est du ressort de la Cnam, après éclairage par le Titulaire.<br>- Contrôler, pour l’ensemble des données du référentiel, la conformité des traitements, modes de stockages et mode de partage (bidirectionnels avec partenaires, sous-traitants, etc.), avec la règlementation et les normes soumises au projet (RGS, HDS, NIS/NIS2, exigences CNIL, etc.).<br>- Suivre les actions de sensibilisation de l’ensemble des acteurs du programme à la protection des données et au processus de cartographie des données.Le comité est composé, pour le Titulaire, a minima, du RSSI, du DPO et du responsable du delivery (ou de leurs représentants respectifs), et, pour la Cnam, des acteurs qui sont missionnés par la direction programme pour y participer.<br>- Le Titulaire fait appliquer et évoluer les processus RGPD- privacy by design et de cartographie sécurité des données selon les impératifs du programme. Des définitions des processus attendus se trouvent en annexes « MESDMP_Annexe_38_RGPD - privacy by design 2023» et « MESDMP_Annexe_39_Process_Cartographie de sécurité». |
| --- | --- |

### 7.6.3 Livrables

Les livrables sont listés §7.12 « Liste des livrables principaux ».

### 7.6.4 Durée et point de départ des prestations

Le point de départ des prestations est précisé dans l’offre du Titulaire conformément aux dates fixées au §7.1 « Planning des prestations ».

## 7.7 P5 - Run_MCO-S: Run, MCO et MCS

### 7.7.1 Objet

Le Titulaire met en œuvre les prestations d’exploitation, administration du dispositif, de support, de maintien en conditions opérationnelles (MCO) et de maintien en conditions de sécurité (MCS).

Les plages horaires sont définies au §6.3.5.3 « GDI - Gestion des Incidents (ou anomalies) » (EXG_GDI_10).

Cette prestation couvre le MCO/MCS des applications reprises (MES, DMP).

Le **RUN** inclut notamment les activités suivantes (hors les activités hébergement vues au §7.4 « P2 - PSE – Hébergement ») :

- L’Exploitation technique et la supervision des environnements et l’outillage associé,
- L’Exploitation applicative (run « applicatif »).

Le **MCO** (Maintien en Condition Opérationnelle) regroupe l’ensemble des opérations nécessaires pour garantir le bon fonctionnement du dispositif MESDMP. Il inclut notamment les activités suivantes (hors les activités hébergement vues au §7.4 « P2 - PSE – Hébergement » :

- La maintenance corrective et préventive,
- Le support niveau 2 et 3,
- La gestion de la dette technique (logicielle).

Le **MCS** (Maintien en Condition Sécurité) inclut notamment les activités suivantes :

- Produire la documentation d’une politique de MCS, maintenue à jour tout au long de l’accord-cadre. Cette documentation inclut les procédures de veille de sécurité, de vérification des mises à jour et d’analyse de leurs impacts, les délais d’application des mises à jour et la gestion des exceptions ;
- Mettre en place une veille sécurité, pour détecter les vulnérabilités affectant les composants du périmètre de l’accord-cadre dès qu’elles sont annoncées publiquement ou de manière plus confidentielle par les constructeurs/éditeurs directement auprès de leurs clients, ou encore quand elles sont signalées par la Cnam au Titulaire ; piloter la mise en œuvre de cette veille ;
- Appliquer les patchs de sécurité et corriger les vulnérabilités dans les délais prévus au présent CCTP ;
- Appliquer en production et hors production les correctifs de sécurité jugés critiques par la Cnam sous 5 jours calendaires, appliquer les autres correctifs de sécurité sous 30 jours. Ceci ne se substitue pas aux délais exigés pour traiter les incidents et vulnérabilités, puisque le traitement des incidents et vulnérabilités peut être résolu par d’autres moyens que l’application de correctifs, par exemple, par la mise en place de mécanismes permettant d’empêcher que la vulnérabilité soit exploitable ;
- Faire en sorte que tous les logiciels et matériels utilisés soient maintenus par l’éditeur, le constructeur ou la communauté libre s’il s’agit d’un logiciel libre ;
- Maintenir et créer de règles de détection d’incidents de sécurité dans le SOC ;
- Réaliser des Tableaux de Bord des activités MCS ;
- Mettre à jour la gestion de risques en fonction des activités du MCS.

Les plans de remédiation suite aux audits sont pris en charge par la prestation « P5 - Run_MCO-S: Run, MCO et MCS » selon les engagements définis en lien avec les audits, et dans le respect de l’ensemble des exigences (délais de correction anomalies-incidents-vulnérabilités, etc.).

La prestation couvre, à la date de rédaction du CCTP :

- 15 millions de comptes MES actifs
- 3 millions de comptes accédés par mois
- 20 millions de transactions PS/ES par mois (alimentation MESDMP)
- 3,5 millions de messages PS envoyés par mois

A titre indicatif, le dispositif de gestion du MCO applicatif gère environ 400 tickets incidents par mois répartis comme suit :

- 75% de tickets traités par le N2
- 25% de tickets traités par le N3

Répartition par application :

- ENS : 95 %
- Compte : 58%
- Documents : 19%
- Enrôlement : 8%
- Site Web + application mobile : 4%
- Profil médical : 2%
- Portail support : 2%
- Autre (messagerie, gestion PS, sécurité, mesure de santé) : 2%
- DMP : 5%

### 7.7.2 Exigences spécifiques

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| **EXG_RUN_1** | Pour la prestation Run, hors services d’hébergement (cf. §7.4 « P2 - PSE – Hébergement) », le Titulaire s’engage à couvrir l’exploitation et le maintien en conditions opérationnelles des services de MESDMP quel que soit le niveau d’activité sur MESDMP. |
| **EXG_RUN_2** | Pour la prestation MCO, le Titulaire s’engage à mettre en place un dispositif organisationnel permettant le traitement des anomalies/incidents dans le respect des délais de prise en compte définis au §6.3.5.3 « GDI - Gestion des Incidents (ou anomalies) ». |

### 7.7.3 Livrables

Les livrables sont listés §7.12 « Liste des livrables principaux ».

### 7.7.4 Durée et point de départ des prestations

Le point de départ des prestations est précisé dans l’offre du Titulaire conformément aux dates fixées au §7.1 « Planning des prestations ».

## 7.8 P6 - NIS2 : Homologation NIS/NIS-2

### 7.8.1 Objet

Le Titulaire doit mettre en œuvre l'ensemble des outils et processus permettant à MESDMP d’obtenir l’homologation NIS. Cette homologation est amenée à évoluer afin de respecter les dernières directives nationales et applicables au contexte du projet (NIS-2).

La démarche proposée par le Titulaire est décrite dans son offre.

Les dispositifs proposés doivent être compatibles avec NIS, puis NIS-2, et être réfléchis en conséquence. La conformité au référentiel NIS, puis NIS-2, doit être intégrée dès le départ (« NIS by design ») et n’est pas soumise à une commande supplémentaire ni incluse dans un autre forfait du présent CCTP.

Il est précisé qu’une VSR est prévue dans le cadre de cette prestation.

### 7.8.2 Exigences spécifiques

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| **EXG_NIS_1** | Le Titulaire s’engage à être conforme au référentiel NIS dès la reprise (démarrage de la prestation) et avant l’ouverture du service/bascule.<br>Le Titulaire réalise les travaux de remédiation de toute réserve issue de la Commission d’homologation RGS/NIS. Le coût des prestations est inclus dans le forfait P1.2 relatif à la reprise de l’existant. |
| **EXG_NIS_2** | Le Titulaire doit faire auditer la conformité au référentiel NIS par un expert externe certifié PASSI, avant la mise en production de la reprise. |
| **EXG_NIS_3** | La correction des non-conformités est traitée, sans surcoût pour la Cnam, dans les 3 mois suivant le constat. |
| **EXG_NIS_4** | Le périmètre retenu pour le SIE concerne tous les services mis en œuvre permettant d’assurer les services proposés par MESDMP. |
| **EXG_NIS_5** | Le plan de mise en conformité NIS durant la phase de préparation de la reprise doit être détaillé. La Cnam se réserve le droit d’auditer les éléments ayant atteint la conformité tout au long de cette phase, de façon à préparer l’homologation de début 2025 et limiter l’effet tunnel d’une vérification unique en bout de chaîne. |
| **EXG_NIS_6** | Le Titulaire réalise les actions décrites dans la Directive européenne NIS2 sur la base d’un plan détaillé de mise en conformité (chantiers de mise en œuvre). Il réalise également une étude permettant de mesurer le différentiel (analyse d’écarts) entre le périmètre de la Directive européenne NIS2 et la transposition en droit français dès sa publication (prévue en 10/2024). Ces éléments doivent pouvoir être présentés à la commission d’homologation de début 2025 pour la reprise. Ces prestations sont incluses dans le coût de la prestation P6 « Homologation NIS/NIS2.<br>La réalisation du plan détaillé différentiel de cette étude fait, le cas échéant, l’objet d’un bon de commande.<br>Le Titulaire se réfère à la Directive (UE) 2022/2555 du Parlement européen et du Conseil du 14 décembre 2022 concernant les mesures destinées à assurer un niveau élevé commun de cybersécurité dans l’ensemble de l’Union ([https://eur-lex.europa.eu/legal-content/FR/TXT/?uri=CELEX:32022L2555](https://eur-lex.europa.eu/legal-content/FR/TXT/?uri=CELEX:32022L2555)), et prend connaissance des travaux en cours réalisés par l’ANSSI. |

### 7.8.3 Livrables

Le Titulaire doit décider des éléments qui permettent d’homologuer le service concerné. Le contenu du dossier d’homologation permettant à l’autorité qualifiée d’acter cette homologation est à définir par le Titulaire. Par conséquent, il appartient au Titulaire, en s’appuyant sur le référentiel de l’ANSSI, d’indiquer les livrables qu’il apporte pour justifier ladite homologation. La Cnam se réserve un droit de validation des éléments présentés.

Le Titulaire doit faire auditer la conformité au référentiel NIS par un expert externe certifié PASSI, avant la mise en production de la reprise.

### 7.8.4 Durée et point de départ des prestations

NIS : la conformité est demandée dès la reprise.

NIS2 : la conformité est attendue pour mi 2025 (cf. §7.1 « Planning des prestations »).

En terme de délai, les directives NIS, puis NIS-2, contiennent notamment des exigences pour les Systèmes d'Informations concernés ainsi que les processus et moyens d'exploitation (ex.: le SIA est un moyen d'exploitation), ainsi que les interfaces externes de ces Systèmes d'Informations (ex. : SI CNAM, MSSANTE, les services tiers, etc.).

- Périmètre de la reprise des systèmes DMP et MES : Lors de la phase de reprise des systèmes d’information DMP et MES, le Titulaire doit proposer des évolutions vers la conformité NIS, puis NIS-2, si cela n'affecte pas la qualité et les délais de la reprise. Une fois la phase de reprise terminée, le Titulaire s'engage à faire évoluer les systèmes repris pour qu'ils soient conformes à NIS, puis NIS-2, tout au long de l’accord-cadre, en respectant les délais prévus par ces directives.
- Périmètre des processus, moyens d’exploitation et adhérences entre ces SI et d’autres SI : en ce qui concerne les processus et moyens d'exploitation, ainsi que les interfaces externes de ces systèmes d'information, la conformité à NIS, puis NIS-2, est exigée pendant toute la durée d’exécution de l’accord-cadre.

## 7.9 P7 - SMS_Mail : Run SMS et Mail

### 7.9.1 Objet

A la date de rédaction du présent CCTP, pour les émissions Mail/SMS à destination des assurés, MES s’appuie sur un service externe de l’opérateur SFR. Les émissions Mail/SMS à destination des professionnels de santé (PS) sont effectués par le Titulaire du DMP.

La prestation adresse l’émission de notifications auprès des professionnels de santé (PS) existants dans le DMP (SMS et mails). Le Titulaire a la charge de :

- Maintenir la diffusion auprès des PS dès le début de phase de reprise,
- Au plus tard à la fin de la phase de convergence, converger les émissions Mail/SMS des professionnels de santé (PS) vers le système d’émissions Mail/SMS à destination des assurés.

### 7.9.2 Exigences spécifiques

| Exigences | Description générale |
| --- | --- |
| Exigences | Description générale |
| EXG_NOT_1 | Le Titulaire s’engage à maintenir les émissions Mail/SMS à destination des PS au fil de l’eau dès le début de la reprise par le moyen existant et ce jusqu’à la convergence des émissions Mail/SMS vers le service externe choisi par la Cnam. |
| EXG_NOT_2 | Le Titulaire s’engage à diffuser les SMS/Mail via le service externe choisi par la Cnam à partir de la convergence des systèmes de notifications (cf. §P3 – Conv : Convergence des systèmes MES et DMP) ». |
| EXG_NOT_3 | Le Titulaire s’engage à produire des indicateurs sur les SMS et mails générés et envoyés (ou transmis à l’opérateur). La liste précise des indicateurs attendus est définie dans le PAQ. |

### 7.9.3 Livrables

Les livrables spécifiques attendus sont :

- Indicateurs mensuels de volumétrie et de qualité de la génération et de l’acheminement des SMS et mails précisant :
- Nombre de SMS envoyés par typologie métier;
- Nombre de Mails envoyés par typologie métier.

### 7.9.4 Durée et point de départ des prestations

Cette prestation est réalisée dans le cadre de la fabrication et la mise en place des cas d’utilisations métier nécessitant l’envoi de SMS/Mail.

Le point de départ des prestations est précisé dans l’offre du Titulaire conformément au §7.1 « Planning des prestations ».

La durée de la prestation de diffusion est de 6 mois renouvelable, sur décision de la Cnam, avec un préavis d’un mois, pendant toute la durée d’exécution de l’accord-cadre.

## 7.10 P8 – Rév : Réversibilité

### 7.10.1 Objet

Le Titulaire s'engage à assurer la réversibilité du service (cf. §6.3.1 « Exigences de réversibilité »).

### 7.10.2 Exigences spécifiques

Les exigences sont décrites au sein du présent CCTP, au §6.3.1 « Exigences de réversibilité ».

### 7.10.3 Livrables

Les livrables sont listés §7.12 « Liste des livrables principaux ».

### 7.10.4 Durée et point de départ des prestations

La date de démarrage des prestations est consignée dans le bon de commande considéré, composé d’UO de Réversibilité (cf. §7.11.1 « Catalogue d’Unités d’œuvre (UO) ».

## 7.11 Prestations complémentaires

Pendant toute la durée d’exécution de l’accord-cadre, la Cnam peut commander, à la survenance du besoin, des prestations complémentaires à celles prévues dans le cadre du présent accord-cadre. Sauf cas de force majeure, le Titulaire ne peut refuser un bon de commande. En cas de refus d’exécution d’un bon de commande, le Titulaire indemnise la Cnam conformément aux stipulations du CCAP.

### 7.11.1 Catalogue d’Unités d’œuvre (UO)

Le catalogue d'unités d’œuvre (UO) décrit les prestations pouvant être commandées, par la Cnam, à la survenance du besoin, pendant toute la durée d'exécution de l'accord-cadre.

L’ensemble des frais du Titulaire est inclus dans le prix des unités d'œuvre indiqués en annexe de l’acte d’engagement. Les prix comprennent les coûts de pilotage et de suivi des prestations à bons de commande et les dépenses de toute nature inhérentes à l’exécution des prestations, dont notamment les frais d'hébergement, de déplacement, de logistique. Le Titulaire n’est fondé à réclamer aucun supplément de prix du fait d'une erreur d'évaluation de sa part sur la charge de travail ou les moyens de nature nécessaires à l'exécution des prestations.

Les conditions d’établissement des bons de commande sont décrites dans le CCAP.

### 7.11.2 Liste des unités d’œuvre (UO)

Les unités d’œuvre sont détaillées dans l’annexe « MESDMP_Annexe 03_Catalogue Unités D’œuvre » du CCTP.

### 7.11.3 Grille de lecture du catalogue d'unités d’œuvre

Les unités d’œuvre sont classées par phases sans que cela ne produise d’effet sur les modalités de commande des UO.

La Cnam utilise plusieurs méthodes de pilotage / réalisation des projets notamment « Cycle en V » et « Agile ». Certaines phases regroupent des unités d’œuvre de ces deux méthodes, d’autres ne concernent qu’une méthode particulière.

Les différentes phases sont :

1. Cadrage
2. Conception
3. Développement
4. Recette
5. Mise en production
6. MCO/MCS
7. Accompagnement projets
8. Services
9. Support utilisateurs
10. Projets techniques
11. Innovation
12. Produit
13. Réversibilité
14. Initialisation
15. Transverse

Chaque unité d’œuvre est décrite par :

- Sa phase.
- Son type (regroupements en termes de méthode ou type de prestations attendues).
- Son code.
- Son libellé.
- La charge estimée par la Cnam : cette charge est l’estimation par la Cnam de la quantité de travail à fournir pour la réalisation des prestations objet de l'unité d'œuvre par une équipe interne Cnam.
- Les entrants : liste d’éléments fournis par la Cnam afin de permettre au Titulaire de réaliser les prestations.
- Les livrables : liste des éléments à fournir par le Titulaire dans le cadre des prestations. La validation de ces livrables par la Cnam constitue une condition à l’admission des prestations.
- La métrique définit l'unité de mesure de l'unité d’œuvre (UO). Au sein d'un projet, le Titulaire s'engage à optimiser avec la Cnam, le décompte des unités d'œuvre afin d'obtenir une évaluation juste et sincère des tâches à réaliser couvertes par cette UO. Le Titulaire s'engage à capitaliser sur les livrables déjà produits afin optimiser l'utilisation des unités d'œuvre. Pour le respect de cet engagement, le Titulaire produit systématiquement un état des optimisations avérées, il est adossé à l'État Préparatoire à la Commande.
- Son(es) profil(s) : type(s) d’intervenant attendu(s) pour la réalisation des prestations objet de l’unité d’œuvre.
- Sa description (prestations attendues).

### 7.11.4 Etat préparatoire à la Commande (EPC)

Le Titulaire fournit un État Préparatoire à la Commande (EPC) qui comprend deux parties :

- La compréhension des travaux à réaliser intégrant a minima les hypothèses de réalisation (impacts, risques, planning, liste des composants techniques à modifier, liste des documents à modifier, etc.)
- Le descriptif du type d'UO et de leur nombre correspondant à la valorisation des travaux à réaliser.

| Porteur | Contributeurs | Support | Obligatoire / Facultatif |
| --- | --- | --- | --- |
| Le Titulaire | L’équipe de réalisation | Modèle d’Etat Préparatoire à la Commande (EPC) | Obligatoire et généralement rédigée en fin de cadrage ou de Sprint 0 |
| Objectif | Fournir à la Cnam des éléments chiffrés lui permettant, après validation, d'émettre un bon de commande.<br>L’Etat Préparatoire à la Commande (EPC) issu du cadrage donne lieu à une commande de prestations qui vaut engagement. Le Titulaire s’engage à livrer le logiciel convenu, dans les délais convenus, au coût convenu, tels que fixés dans la commande.<br>En l’absence de communication d’un EPC dans le délai énoncé par la Cnam, cette dernière établit un bon de commande sur le fondement de ses propres estimations. Le Titulaire dispose du délai définit dans le CCAP, à compter de la date de réception du bon de commande, pour faire part de ses observations. Le Titulaire se conforme aux bons de commande qui lui sont notifiés, que ceux-ci aient ou non fait l'objet d'observations de sa part. |

NB : En l’absence de communication d’un EPC dans le délai énoncé par la Cnam, cette dernière établit un bon de commande sur le fondement de ses propres estimations. Le Titulaire dispose du délai défini dans le CCAP, à compter de la date de réception du bon de commande, pour faire part de ses observations. Le Titulaire se conforme aux bons de commande qui lui sont notifiés, que ceux-ci aient ou non fait l'objet d'observations de sa part.

### 7.11.5 Conditions particulières

#### 7.11.5.1 MCO/MCS

A titre liminaire, il est rappelé que les développements Agile ne génèrent pas de MCO/MCS (cf. §5.3.1.2 « Grands principes agiles »).

Le cas échéant, lorsque le développement, cycle en V, d’un nouveau composant a pour effet d’augmenter le périmètre du MCO et/ou MCS, la Cnam commande des UO de MCO/MCS. Le développement d’un composant qui remplace un composant existant déjà inclus dans le périmètre du MCO/MCS ne fait pas l’objet d’une commande de MCO/MCS.

#### 7.11.5.2 Développements Agile

Le Titulaire assure des affectations de ressources et une organisation permettant de garantir la force de production prévue, en tenant compte des congés et des sollicitations hors développements (Correctifs, etc.). Le Titulaire communique, a minima mensuellement, à la Cnam le détail des ressources affectées et son organisation. La Cnam considère que le Titulaire doit prévoir pour les équipes assurant les développements, et en permanence, les ressources pour tenir compte d’absences de tout ordre et les sollicitations hors développements. Ainsi, la capacité effective de ces ressources doit être constante et linéaire pendant toute la durée d’exécution de l’accord-cadre.

## 7.12 Liste des livrables principaux

Le tableau ci-dessous les livrables attendus dans le cadre des prestations.

Les cases cochées en couleur correspondent à la prestation dans le cadre de laquelle est considérée la **première version du livrable** (étant entendu d’une part que, dans certains cas, il faut considérer en point de départ les documents déjà existants pour la 1ère version du livrable MESDMP, et d’autre part, que des mises à jour et/ou compléments du livrable peuvent être faits aussi dans le cadre de cette prestation).

Pour un même livrable les autres cases cochées qui ne sont pas en couleur correspondent aux mises à jour et/ou compléments dans le cadre des autres prestations.

| Livrables principaux | P1.1 Prise de connaissance, Initialisation et P1.2 Reprise | P2 PSE -Hébergement | P3 Convergence | P4 Transverse | P5 RUN, MCO, MCS | Evolution, expertise<br>(Commandes UO) | P8<br>Réversibilité |
| --- | --- | --- | --- | --- | --- | --- | --- |
| Livrables principaux | P1.1 Prise de connaissance, Initialisation et P1.2 Reprise | P2 PSE -Hébergement | P3 Convergence | P4 Transverse | P5 RUN, MCO, MCS | Evolution, expertise<br>(Commandes UO) | P8<br>Réversibilité |
| Pilotage |  |  |  |  |  |  |  |
| Ordre du jour, Support et Compte rendu et RIDA de toutes les instances de pilotage | X | X | X | X |  |  | X |
| Planning Accord-cadre | X | X | X | X |  |  | X |
| Tableaux de bords de pilotage (reporting, volumétrie, capacity planning, suivi financier, etc.) | X | X |  | X |  |  |  |
| Plan de gestion des risques et plan d'actions associés | X | X | X | X |  |  |  |
| Autres livrables de pilotages identifiés dans le cadre de réalisation du PAQ lors de la prestation P1-1 | X | X |  | X |  |  |  |
| Liste à jour des assets et des maintenances et support actifs tout au long de la durée d’exécution de l’accord-cadre | X | X | X | X | X | X | X |
| Dossier Sécurité |  |  |  |  |  |  |  |
| Politique de sécurité SI (PSSI) | X | X | Géré en P4 | X | X | X | X |
| Analyse de risque de l’accord-cadre (à maintenir tout au long de la prestation) | X | X | X | X | X | X |
| Plan de management de la sécurité SI : Plan assurance Sécurité (PAS) | X | X | X | X | X | X |
| Audit de conformité avec le référentiel NIS | X | X | X | X | X | X |
| Audit de conformité avec le référentiel NIS-2 | X | X | X | X | X | X |
| Dossier d’homologation RGS à mettre à jour tout au long de la prestation | X | X | X | X | X | X |
| Plan Assurance Qualité |  |  |  |  |  |  |  |
| Plan Assurance Marché | X | X |  | X | Géré en P4 | X | X |
| Plan Qualité de Gestion des Evolutions (PQGE) | X | X |  | X | X | X |
| Plan Qualité de Gestion des Services (PQGS) | X | X | X | X | X | X |
| Plan de réversibilité en fin de d’accord-cadre (PR) | X | X | X | X | X | X |
| Convention de service (CS) | X | X | X | X | X | X |
| Plan de gestion de crise (PGC) | X | X |  | X |  | X |
| Plan de la qualité de réalisation, intégrant les normes et méthodes fixées, pour assurer la réversibilité en fin d’accord-cadre | X | X |  | X | X | X |
| En lien avec la production, l'hébergement (le cas échéant) et l'exploitation |  |  |  |  |  |  |  |
| Environnement de production | X | X | X |  | X | X | X |
| L'ensemble des environnements de MESDMP hors production | X | X | X |  | X | X | X |
| Processus de gestion du catalogue de services | X | X |  |  | X | X | X |
| Processus de gestion de l'amélioration continue des services | X | X |  |  | X | X | X |
| Processus de gestion des configurations | X | X |  |  | X | X | X |
| Processus de gestion de la disponibilité | X | X |  |  | X | X | X |
| Processus de gestion des évènements | X | X |  |  | X | X | X |
| Processus de gestion des incidents | X | X |  |  | X | X | X |
| Processus de gestion des problèmes | X | X |  |  | X | X | X |
| Processus de gestion des demandes de service | X | X |  |  | X | X | X |
| Processus de gestion des irritants | X | X |  |  | X | X | X |
| Processus de gestion des risques | X | X |  |  | X | X | X |
| Processus de gestion de la supervision | X | X |  |  | X | X | X |
| Processus de gestion du niveau de service | X | X |  |  | X | X | X |
| Processus de gestion de suivi de la capacité | X | X |  |  | X | X | X |
| Processus de gestion de mise en production | X | X |  |  | X | X | X |
| Plan de gestion de continuité des activités | X | X |  |  | X | X | X |
| Manuel d’installation du système et des interfaces | X | X | X |  | X | X | X |
| Plan de conduite du changement | X | X |  |  | X | X | X |
| Dossier des normes et règles de développement | X | X |  |  | X | X | X |
| Mise à jour des incidents et anomalies sous l'outil de ticketing de la Cnam | X (P1.2) | X |  |  | X | X | X |
| Procédures automatiques fournies par le N3 pour permettre au N1 de répondre aux demandes de support | X (P1.2) | X |  |  | X |  | X |
| Fiche « reflexes » fournies par N2 ou N3 pour permettre au N1 de répondre aux demandes de support | X (P1.2) | X |  |  | X |  | X |
| Enrichissement de la base de connaissance et des FAQ | X (P1.2) | X |  |  | X |  | X |
| Rapport mensuel des indicateurs de l’accord-cadre | X (P1.2) | X |  |  | X |  | X |
| Rapports mensuels et annuel d’activité du N3 médical | X (P1.2) | X |  |  | X |  | X |
| Rapports mensuels et annuel d’activité du N3 | X (P1.2) | X |  |  | X |  | X |
| Rapports mensuels et annuel d’activité des demandes de services | X (P1.2) | X |  |  | X |  | X |
| Dossier D'architecture : Fonctionnelle, Applicative et Technique |  |  |  |  |  |  |  |
|  |  |  |  |  |  |  |  |
| Cartographie des données avec leurs attributs, niveau de chiffrement, pseudonymisation, etc. | X |  | X |  | X | X | X |
| Dossier d'Architecture Fonctionnelle (DAF) | X |  | X |  |  | X | X |
| Dossier d'Architecture Applicative et logicielle (DAL) | X | X | X |  | X | X | X |
| Dossier d’Architecture Technique (DAT) | X | X | X |  | X | X | X |
|  |  |  |  |  |  |  |  |
| HLD et LLDs des solutions d’infrastructure, réseau, sécurité et middleware | X | X | X |  | X | X | X |
| En lien avec l'évolution de la solution |  |  |  |  |  |  |  |
| Document d’étude du besoin (DE) comprenant la faisabilité technique |  |  |  | X |  | X | X |
| Document d’étude du besoin (DE) comprenant l'impact technique |  |  |  | X |  | X | X |
| Backlog |  |  |  |  |  | X |  |
| Note de cadrage |  |  |  |  |  | X | X |
| Matrice des exigences |  |  |  |  |  | X | X |
| Note de calibrage (DE) |  |  |  |  |  | X | X |
| Etats préparatoires à la commande (EPC) |  |  |  | X |  | X | X |
| Dossier de spécifications fonctionnelles générales | X |  |  | X | X | X | X |
| Dossier de spécifications fonctionnelles détaillées (Cycle en V) , « user stories dans le backlog » rassemblés et structurés à chaque fin de release au sein d'un même document (Agile) | X |  |  |  | X | X | X |
| Dossier de spécifications techniques | X |  |  |  | X | X | X |
| Tableau des incidents : liste des incidents production/sécurité/technique/delivery en cours avec numéro, description, typologie et profondeur |  |  |  | X | X | X |  |
|  |  |  |  |  |  |  |  |
| En lien avec les tests |  |  |  |  |  |  |  |
| Contribution du Dossier recette (LDR) y compris les Plan de test organisationnel Recette fonctionnelle et Pré-production | X | X | X |  | X | X | X |
| Matrice de test, Plan de test et cas de test pour chaque phase de test | X |  | X |  | X | X | X |
| Jeux de données des différents plans de tests | X |  | X |  | X | X | X |
| Campagne de test, bilan et Compte rendu de test pour chaque phase de tests | X |  | X |  | X | X | X |
| Matrice de test, plan de test et cas de test pour les tests de performance | X | X | X |  | X | X | X |
| Compte rendu des tests de performances | X | X | X |  | X | X | X |
| Matrice de test et Plan de tests automatisés de non régression | X |  | X |  | X | X | X |
| Matrice de test et Plan de tests automatisés pour le suivi de la performance et de la disponibilité des services | X | X | X |  | X | X | X |
| En lien avec la réversibilité |  |  |  |  |  |  |  |
| Plans de réversibilité, comprenant les macros plannings et plans d’engagement et désengagement des équipes |  |  |  | X |  |  | X |
| Inventaire précis des éléments cédés par le Titulaire y compris les données et les traces |  |  |  |  | X |  | X |
| Plannings détaillés de la réversibilité ainsi que les différents bilans sur le déroulement des opérations |  |  |  |  |  |  | X |
| Plan de destruction des données post-réversibilité |  |  |  |  |  |  | X |
| Composants techniques et fonctionnels liés à la reprise des données |  |  |  |  | X |  | X |
| Architecture, configuration et contenu de la forge CI/CD |  |  |  |  | X |  | X |
| Données de production de MESDMP |  |  |  |  | X |  | X |
| Documents fonctionnels, techniques, organisationnels, comptes rendus, historique des évolutions, référentiels constitués, cartographie à jour du périmètre de données |  |  |  | X | X |  | X |
| Liaisons intersites avec le dimensionnement suffisant au transfert des données pour toute la durée de la réversibilité |  |  |  | X | X |  | X |
| Supports et logistique de formation du personnel du Repreneur |  |  |  |  |  |  | X |

# 8 Liste des annexes

Annexes 11, 12, 21 et 29-4 : communiquée au Titulaire de l’accord-cadre après notification.

    1. MESDMP_Annexe 01 – Personas
    2. MESDMP_Annexe 02_PAS
    3. MESDMP_Annexe 03_Catalogue Unités D’œuvre
    4. MESDMP_Annexe_04_Documentation technique pour les Opérateurs MSSanté :

[https://mssante.fr/is/doc-technique](https://mssante.fr/is/doc-technique)

    1. MESDMP_Annexe 05 – Manuel Utilisation Clear Quest – FS-FT
    2. MESDMP_Annexe 06 – Workflow Clear Quest Fiche de Signalement
    3. MESDMP_Annexe 07 – Workflow Clear Quest Fiche Tiers
    4. MESDMP_Annexe 08 – Workflow Clear Quest Demande de service
    5. MESDMP_Annexe 09_Documents-Réversibilité sortante MES (14 documents), en cours de validation

(Plan de réversibilité de la prestation MES actuelle et annexes)

Cette annexe est complétée notamment par les détails techniques = documents des autres annexes, dont notamment annexes 15 à 20 et 22

    1. MESDMP_Annexe 10_Documents-Réversibilité sortante DMP (4 documents), en cours de validation

(Plan de réversibilité de la prestation DMP actuelle et annexes)

Ces documents sont complétés par les détails techniques = documents des autres annexes, dont notamment annexes 13, 14 et 21

    1. MESDMP_Annexe 11_Description générale des mécanismes de chiffrement
    2. MESDMP_Annexe 12_Description détaillée de la protection des données
    3. MESDMP_Annexe 13_DMP-Dossier Architecture Applicative et Technique
    4. MESDMP_Annexe 14_DMP-Description Technique (5 documents)
    5. MESDMP_Annexe 15_MES-Outils Logiciels

Voir l’un des documents de l’annexe 09 qui correspond à cette annexe 15

    1. MESDMP_Annexe 16_MES-Dossier Architecture Logicielle Back-End

N.B. : ce document étant un document opérationnel, il comporte des liens vers des documentations de travail ayant servi à l’élaborer ou des url utiles dans l’activité opérationnelle de MES; c’est notamment le cas pour tous les liens référençant des « ADR » ou des urls sur des espaces de fabrication ou de run internes. Ces liens et le contenu vers lequel ils mènent ne sont pas constitutifs de cette annexe 16 qui demeure la seule référence pour l’architecture Applicative du Back-End.

    1. MESDMP_Annexe 17_MES-Dossier Architecture Logicielle Front-End

Point d’attention : ce document étant un document opérationnel, il comporte des liens vers des documentations de travail ayant servi à l’élaborer ou des url utiles dans l’activité opérationnelle de MES; c’est notamment le cas pour tous les liens référençant des « ADR » ou des urls sur des espaces de fabrication ou de run internes. Ces liens et le contenu vers lequel ils mènent ne sont pas constitutifs de cette annexe 17 qui demeure la seule référence pour l’architecture Applicative du Front-End.

    1. MESDMP_Annexe 18_MES-VMs Inventaire
    2. MESDMP_Annexe 19_MES-Référentiel des composants (2 documents)
    3. MESDMP_Annexe 20_MES_FR-CNAM-ENS-HLD
    4. MESDMP_Annexe 21_DMP-AV-HSM
    5. MESDMP_Annexe 22_MES-Matrice des flux
    6. MESDMP_Annexe 23_PAQ_Indicateurs_Exemple de sommaire
    7. MESDMP_Annexe 24_Plan d’Assurance Qualité – Exemple de sommaire
    8. MESDMP_Annexe 25_Matrice de Gestion des risques
    9. MESDMP_Annexe 26_Scénario_d’audit_accessibilité
    10. MESDMP_Annexe 27_Scénario écoscore
    11. MESDMP_Annexe 28_Clients_rapports_SI_PIL-DMP
    12. MESDMP_Annexe 29_PSE (4 documents)

L’un des documents de cette annexe 29 (MESDMP_Annexe_29-4_CCTP_MESDMP_20230612-DAT-HSM-v1.1)

    1. MESDMP_Annexe 30_CNAM_ENS_DAF_Architecture fonctionnelle
    2. MESDMP_Annexe 31_DMP-DSFD-013-6.00-VA-Chapeau
    3. MESDMP_Annexe 32_Feuilles de routes MES-DMP-BSP par semestre
    4. MESDMP_Annexe_33_MES_LLDComplementaires
    5. MESDMP_Annexe_34_DMP_WIZARD_Documentation
    6. MESDMP_Annexe_35_CNAM_ENS_CMDB_Extract
    7. MESDMP_Annexe_36_MES_Backlog
    8. MESDMP_Annexe_37_Cartographie Structure BD
    9. MESDMP_Annexe_38_RGPD - privacy by design 2023
    10. MESDMP_Annexe_39_Process_Cartographie de sécurité
    11. MESDMP_Annexe_40_MES-Présentation remplacement Maincare.pptx
    12. MESDMP_Annexe_41_LLD Salt security
    13. MESDMP_Annexe_42_ADR remplacement IdeoDirectory (2 documents)
    14. MESDMP_Annexe_43_ADR remplacement IdeoSecureMail
